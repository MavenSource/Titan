{"version":3,"file":"sdk.esm.js","sources":["../src/constants.ts","../src/helpers/misc.ts","../src/methods/swap/spender.ts","../src/helpers/approve.ts","../src/methods/swap/approve.ts","../src/helpers/token.ts","../src/methods/swap/balance.ts","../src/methods/swap/adapters.ts","../src/methods/swap/helpers/normalizeRateOptions.ts","../src/methods/swap/rates.ts","../src/methods/swap/swapTx.ts","../src/methods/swap/token.ts","../src/methods/common/orders/buildOrderData.ts","../src/methods/common/orders/misc.ts","../src/methods/limitOrders/helpers/misc.ts","../src/methods/nftOrders/helpers/buildOrderData.ts","../src/methods/nftOrders/helpers/misc.ts","../src/methods/swap/transaction.ts","../src/methods/limitOrders/helpers/buildOrderData.ts","../src/methods/limitOrders/buildOrder.ts","../src/methods/limitOrders/signOrder.ts","../src/methods/limitOrders/cancelOrder.ts","../src/methods/common/orders/signature.ts","../src/methods/common/orders/encoding.ts","../src/methods/limitOrders/fillOrderDirectly.ts","../src/methods/limitOrders/getOrders.ts","../src/methods/limitOrders/postOrder.ts","../src/methods/limitOrders/approveForOrder.ts","../src/methods/limitOrders/getOrdersContract.ts","../src/methods/limitOrders/transaction.ts","../src/methods/nftOrders/buildOrder.ts","../src/methods/nftOrders/signOrder.ts","../src/methods/nftOrders/cancelOrder.ts","../src/methods/nftOrders/getOrders.ts","../src/methods/nftOrders/postOrder.ts","../src/methods/nftOrders/getOrdersContract.ts","../src/methods/nftOrders/approveForOrder.ts","../src/methods/nftOrders/transaction.ts","../src/helpers/fetchers/axios.ts","../src/helpers/fetchers/fetch.ts","../src/helpers/providers/ethers.ts","../src/helpers/providers/ethersV6.ts","../src/helpers/providers/helpers.ts","../src/helpers/providers/web3.ts","../src/helpers/providers/viem.ts","../src/methods/delta/getDeltaContract.ts","../src/methods/delta/getPartnerFee.ts","../src/methods/delta/helpers/composePermit.ts","../src/methods/delta/helpers/buildDeltaOrderData.ts","../src/methods/delta/buildDeltaOrder.ts","../src/methods/delta/postDeltaOrder.ts","../src/methods/delta/helpers/misc.ts","../src/methods/delta/signDeltaOrder.ts","../src/methods/delta/getDeltaPrice.ts","../src/methods/delta/getDeltaOrders.ts","../src/methods/delta/approveForDelta.ts","../src/methods/delta/getBridgeInfo.ts","../src/methods/delta/getMulticallHandlers.ts","../src/methods/delta/isTokenSupportedInDelta.ts","../src/methods/quote/getQuote.ts","../src/sdk/partial.ts","../src/methods/swap/index.ts","../src/methods/limitOrders/index.ts","../src/methods/delta/index.ts","../src/methods/nftOrders/index.ts","../src/sdk/full.ts","../src/sdk/simple.ts","../src/legacy/index.ts"],"sourcesContent":["import { EnumerateLiteral, ParaSwapVersionUnion } from './types';\n\nimport type { ContractMethod } from '@paraswap/core';\n\nexport {\n  SwapSide,\n  ContractMethod,\n  ContractMethodV5,\n  ContractMethodV6,\n} from '@paraswap/core';\n\n// allows to pass by name instead of importing enum first\nexport type ContractMethodByName = EnumerateLiteral<typeof ContractMethod>;\n\nexport const API_URL = 'https://api.paraswap.io';\nexport const DEFAULT_VERSION = '6.2' satisfies ParaSwapVersionUnion;\n","import type { Primitive } from 'ts-essentials';\n\nexport const objectToFilledEntries = <T extends Record<string, unknown>>(\n  object: T\n): [string, string][] => {\n  return (\n    Object.entries(object)\n      // removes keys with undefined values\n      .filter(([, value]) => value !== undefined)\n      .map(([key, value]) => [key, String(value)])\n  );\n};\n\nexport const constructSearchString = <\n  //                               not arrays or mappings\n  U extends Record<string, Exclude<Primitive, symbol>>\n>(\n  queryOptions: U\n): `?${string}` | '' => {\n  const queryEntries = objectToFilledEntries(queryOptions);\n\n  const queryString = new URLSearchParams(queryEntries).toString();\n\n  // returns empty string or `?${string}`\n  return queryString && `?${queryString}`;\n};\n\ntype MinAxiosError = {\n  code?: string;\n  request?: any;\n  isAxiosError: boolean;\n  message: string;\n};\n\ntype MinAxiosResponse = {\n  data: any;\n  status: number;\n  statusText: string;\n  headers: Record<string, any>;\n  config: { url?: string; method?: string };\n};\n\ntype FetcherErrorConstructorInput = MinAxiosError & {\n  response?: MinAxiosResponse;\n};\n\nexport interface FetcherErrorInterface extends FetcherErrorConstructorInput {\n  status?: number;\n  code?: string;\n}\n\nexport const isFetcherError = (error: unknown): error is FetcherError => {\n  return error instanceof FetcherError;\n};\n\nexport class FetcherError extends Error implements FetcherErrorInterface {\n  code;\n  status;\n  request;\n  response;\n  isAxiosError = false;\n\n  public constructor({\n    code,\n    request,\n    response,\n    isAxiosError,\n    message,\n  }: FetcherErrorConstructorInput) {\n    super();\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(this, FetcherError);\n    }\n\n    this.name = this.constructor.name;\n    this.code = code;\n    this.request = request;\n    this.isAxiosError = isAxiosError;\n\n    // no response on AxiosError\n    if (!response) {\n      this.message = message;\n      return;\n    }\n\n    this.response = response;\n\n    const { data, status } = response;\n    this.status = status;\n    this.message = isDataWithError(data) ? data.error : message;\n  }\n}\n// to turn `object -> Record` for indexed variable access\nfunction isObject(obj: unknown): obj is Record<string | symbol, any> {\n  return !!obj && typeof obj === 'object';\n}\n\nexport function isDataWithError(data: unknown): data is { error: string } {\n  return isObject(data) && typeof data['error'] === 'string';\n}\n\nexport type ExtractAbiMethodNames<T extends readonly { name: string }[]> =\n  T[number]['name'];\n\n// reduce element[] to Object{key: prop, val?: element}\n// for example\n// gatherObjectsByProp(Token[], token => token.address) => Record<address, Token|undefined>\nexport function gatherObjectsByProp<T>(\n  elements: T[],\n  pickProp: (elem: T, index: number) => string\n): Record<string, T>;\nexport function gatherObjectsByProp<T, U>(\n  elements: T[],\n  pickProp: (elem: T, index: number) => string,\n  transfrom: (elem: T, accumElem: U | undefined, index: number) => U\n): Record<string, U>;\nexport function gatherObjectsByProp<T, U>(\n  elements: T[],\n  pickProp: (elem: T, index: number) => string,\n  transform?: (elem: T, accumElem: U | undefined, index: number) => U\n): Record<string, T> | Record<string, U> {\n  return elements.reduce<Record<string, T> | Record<string, U>>(\n    (accum, element, index) => {\n      const key = pickProp(element, index);\n\n      const accumElem: T | U | undefined = accum[key];\n      const transformedElement = transform\n        ? //                       if transform is available, can only be U | undefined\n          transform(element, accumElem as U | undefined, index)\n        : element;\n\n      accum[key] = transformedElement;\n\n      return accum;\n    },\n    {}\n  );\n}\n\n// checks that array has at least one element\nexport const isFilledArray = <T>(array: T[]): array is [T, ...T[]] => {\n  return array.length > 0;\n};\n\nexport function getRandomInt(): number {\n  return Math.floor(Math.random() * Number.MAX_SAFE_INTEGER);\n}\n\nexport function runOnceAndCache<T, Args extends any[]>(\n  // can pass `(...any[]) => any but null | undefined`\n  func: (...args: Args) => NonNullable<T>\n): (...args: Args) => NonNullable<T> {\n  let result: NonNullable<T>;\n\n  return (...args) => {\n    return result ?? (result = func(...args));\n  };\n}\n\nexport function deriveCompactSignature(signature: string): string {\n  // Remove \"0x\" prefix if present\n  if (signature.startsWith('0x')) {\n    signature = signature.slice(2);\n  }\n\n  // Convert the hex string to a byte array\n  const bytes = new Uint8Array(signature.length / 2);\n  for (let i = 0; i < signature.length; i += 2) {\n    bytes[i / 2] = parseInt(signature.slice(i, i + 2), 16);\n  }\n\n  // Validate the signature length (64 or 65 bytes)\n  if (bytes.length !== 64 && bytes.length !== 65) {\n    throw new Error('Invalid signature length: must be 64 or 65 bytes');\n  }\n\n  // Extract r and s components\n  const r = `0x${Array.from(bytes.slice(0, 32), (b) =>\n    b.toString(16).padStart(2, '0')\n  ).join('')}`;\n  let v;\n\n  // Handle 64-byte (EIP-2098 compact) and 65-byte signatures\n  if (bytes.length === 64) {\n    // Extract v from the highest bit of s and clear the bit in s\n    v = 27 + (bytes[32]! >> 7);\n    bytes[32]! &= 0x7f; // Clear the highest bit\n  } else {\n    // Extract v directly for 65-byte signature\n    v = bytes[64]!;\n\n    // Normalize v to canonical form (27 or 28)\n    if (v < 27) {\n      v += 27;\n    }\n  }\n\n  // Compute yParityAndS (_vs) for the compact signature\n  const sBytes = Array.from(bytes.slice(32, 64));\n  if (v === 28) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    sBytes[0]! |= 0x80; // Set the highest bit if v is 28\n  }\n  const yParityAndS = `0x${sBytes\n    .map((b) => b.toString(16).padStart(2, '0'))\n    .join('')}`;\n\n  // Construct the compact signature by concatenating r and yParityAndS\n  const compactSignature = r + yParityAndS.slice(2);\n\n  return compactSignature;\n}\n","import { API_URL, DEFAULT_VERSION } from '../../constants';\nimport { constructSearchString, runOnceAndCache } from '../../helpers/misc';\nimport type {\n  ConstructFetchInput,\n  Address,\n  RequestParameters,\n} from '../../types';\n\nexport type GetSpender = (\n  requestParams?: RequestParameters\n) => Promise<Address>;\ntype GetContracts = (\n  requestParams?: RequestParameters\n) => Promise<AdaptersContractsResult>;\n\nexport type GetSpenderFunctions = {\n  getSpender: GetSpender;\n  getAugustusSwapper: GetSpender;\n  getAugustusRFQ: GetSpender;\n  getContracts: GetContracts;\n};\n\ninterface AdaptersContractsResult {\n  AugustusSwapper: string;\n  TokenTransferProxy: string;\n  AugustusRFQ: string;\n  Executors: {\n    [key: `Executor${number}`]: string;\n  };\n  ParaswapDelta?: string; // only available on chains with Delta support\n}\n\nexport const constructGetSpender = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetSpenderFunctions => {\n  const search = constructSearchString<{ network: number; version: string }>({\n    network: chainId,\n    version,\n  });\n\n  const fetchURL = `${apiURL}/adapters/contracts${search}` as const;\n\n  const _getContracts: GetContracts = async (requestParams) => {\n    const data = await fetcher<AdaptersContractsResult>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data;\n  };\n\n  // cached for the same instance of `{getContracts, getSpender, getAugustusSwapper, getAugustusRFQ} = constructGetSpender()`\n  // so should persist across same apiUrl & network\n  const getContracts = runOnceAndCache(_getContracts);\n\n  const getSpender: GetSpender = async (requestParams) => {\n    const { TokenTransferProxy } = await getContracts(requestParams);\n    return TokenTransferProxy;\n  };\n\n  const getAugustusSwapper: GetSpender = async (requestParams) => {\n    const { AugustusSwapper } = await getContracts(requestParams);\n    return AugustusSwapper;\n  };\n\n  const getAugustusRFQ: GetSpender = async (requestParams) => {\n    const { AugustusRFQ } = await getContracts(requestParams);\n    return AugustusRFQ;\n  };\n\n  return { getContracts, getSpender, getAugustusSwapper, getAugustusRFQ };\n};\n","import type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n  TxSendOverrides,\n} from '../types';\nimport type { ExtractAbiMethodNames } from '../helpers/misc';\nimport type { Address, PriceString } from './token';\n\n// much smaller than the whole ERC20_ABI\nconst MinERC20Abi = [\n  {\n    constant: false,\n    inputs: [\n      { name: '_spender', type: 'address' },\n      { name: '_value', type: 'uint256' },\n    ],\n    name: 'approve',\n    outputs: [{ name: '', type: 'bool' }],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n] as const;\n\ntype ApprovalMethods = ExtractAbiMethodNames<typeof MinERC20Abi>;\n\ntype ApproveContractCaller<T> = ConstructProviderFetchInput<\n  T,\n  'transactCall'\n>['contractCaller'];\n\nexport type ApproveToken<T> = (\n  amount: PriceString,\n  tokenAddress: Address,\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<T>;\n\nexport type GetSpenderAsyncOrSync = (\n  requestParams?: RequestParameters\n) => Address | Promise<Address>;\n\nexport function approveTokenMethodFactory<T>(\n  contractCaller: ApproveContractCaller<T>,\n  getSpender: GetSpenderAsyncOrSync\n): ApproveToken<T> {\n  return async (amount, tokenAddress, overrides = {}, requestParams) => {\n    const spender = await getSpender(requestParams);\n\n    const res = await contractCaller.transactCall<ApprovalMethods>({\n      address: tokenAddress,\n      abi: MinERC20Abi,\n      contractMethod: 'approve',\n      args: [spender, amount],\n      overrides,\n    });\n\n    return res;\n  };\n}\n","import { constructGetSpender } from './spender';\nimport type {\n  ConstructProviderFetchInput,\n  TxSendOverrides,\n  Address,\n  PriceString,\n  RequestParameters,\n} from '../../types';\nimport { ApproveToken, approveTokenMethodFactory } from '../../helpers/approve';\n\ntype ApproveTokenBulk<T> = (\n  amount: PriceString,\n  tokenAddresses: Address[],\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<Awaited<T>[]>;\n\nexport type ApproveTokenFunctions<T> = {\n  approveToken: ApproveToken<T>;\n  approveTokenBulk: ApproveTokenBulk<T>;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructApproveToken = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): ApproveTokenFunctions<T> => {\n  // getSpender is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getSpender } = constructGetSpender(options);\n\n  const approveToken: ApproveToken<T> = approveTokenMethodFactory<T>(\n    options.contractCaller,\n    getSpender\n  );\n\n  const approveTokenBulk: ApproveTokenBulk<T> = async (\n    amount,\n    tokenAddresses,\n    overrides,\n    requestParams\n  ) => {\n    return Promise.all(\n      tokenAddresses.map((tokenAddress) =>\n        approveToken(amount, tokenAddress, overrides, requestParams)\n      )\n    );\n  };\n\n  return { approveToken, approveTokenBulk };\n};\n","import type { MarkOptional } from 'ts-essentials';\n\n/**\n * @type hex token or account address\n */\nexport type Address = string;\n/**\n * @type hex token address or token symbol\n */\nexport type AddressOrSymbol = string;\n/**\n * @type number in string form\n */\nexport type PriceString = string;\n/**\n * @type transaction hash\n */\nexport type TxHash = `0x${string}`;\n\n// @TODO sync with what it actually is\nexport type LendingToken =\n  | 'cToken'\n  | 'iToken'\n  | 'aToken'\n  | 'aToken2'\n  | 'idleToken'\n  | 'Chai'\n  | 'bDAI';\n\nexport type TokenType = 'ETH' | 'ERC20' | 'SYNTH';\n\n/**\n * @type Token object returned from API used internally in API\n */\n// consider if need the old class Token for backwards compatipility\n// otherwise no real need\nexport type Token = {\n  address: string;\n  decimals: number;\n  symbol?: string | undefined;\n  tokenType: LendingToken | TokenType;\n  mainConnector: string;\n  connectors: string[];\n  network: number;\n  img?: string | undefined;\n  allowance?: string | undefined;\n  balance?: string | undefined;\n};\n\ntype ConstructTokenInput = MarkOptional<\n  Token,\n  // these props are constructed from other, required props\n  'tokenType' | 'mainConnector' | 'connectors' | 'network'\n>;\n\nexport const constructToken = (tokenProps: ConstructTokenInput): Token => {\n  const {\n    tokenType = 'ERC20',\n    mainConnector = 'ETH',\n    connectors: connectorsInput = [],\n    network = 1,\n    ...rest\n  } = tokenProps;\n\n  const connectors: Token['connectors'] =\n    connectorsInput.length > 0 ? connectorsInput : [mainConnector];\n\n  return {\n    tokenType,\n    connectors,\n    mainConnector,\n    network,\n    ...rest,\n  };\n};\n","import { API_URL } from '../../constants';\nimport {\n  Token,\n  Address,\n  constructToken,\n  AddressOrSymbol,\n} from '../../helpers/token';\nimport type {\n  ConstructFetchInput,\n  TokenApiResponse,\n  TokensApiResponse,\n  RequestParameters,\n} from '../../types';\n\ntype GetBalances = (\n  userAddress: Address,\n  requestParams?: RequestParameters\n) => Promise<Token[]>;\ntype GetBalance = (\n  userAddress: Address,\n  tokenAddressOrSymbol: AddressOrSymbol,\n  requestParams?: RequestParameters\n) => Promise<Token | typeof NOT_FOUND_RESPONSE>;\n\nexport interface Allowance {\n  tokenAddress: Address;\n  allowance: string;\n}\n\ntype GetAllowances = (\n  userAddress: Address,\n  tokenAddresses: Address[],\n  requestParams?: RequestParameters\n) => Promise<Allowance[]>;\ntype GetAllowance = (\n  userAddress: Address,\n  tokenAddress: Address,\n  requestParams?: RequestParameters\n) => Promise<Allowance | typeof NOT_FOUND_RESPONSE>;\n\nexport const isAllowance = (\n  arg: Awaited<ReturnType<GetAllowance>>\n): arg is Allowance => {\n  return 'allowance' in arg;\n};\n\nexport type GetBalancesFunctions = {\n  getBalance: GetBalance;\n  getBalances: GetBalances;\n  getAllowance: GetAllowance;\n  getAllowances: GetAllowances;\n};\n\nconst NOT_FOUND_RESPONSE = { message: 'Not Found' } as const;\n\nexport const constructGetBalances = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetBalancesFunctions => {\n  const tokensUrl = `${apiURL}/users/tokens/${chainId}` as const;\n\n  const getBalances: GetBalances = async (userAddress, requestParams) => {\n    const fetchURL = `${tokensUrl}/${userAddress}` as const;\n\n    const data = await fetcher<TokensApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    const tokens = data.tokens.map(constructToken);\n\n    return tokens;\n  };\n\n  const getBalance: GetBalance = async (\n    userAddress,\n    tokenAddressOrSymbol,\n    requestParams\n  ) => {\n    const fetchURL =\n      `${tokensUrl}/${userAddress}/${tokenAddressOrSymbol}` as const;\n\n    const data = await fetcher<TokenApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    if (!data.token) {\n      return NOT_FOUND_RESPONSE;\n    }\n\n    return constructToken(data.token);\n  };\n\n  const getAllowances: GetAllowances = async (\n    userAddress,\n    tokenAddresses,\n    requestParams\n  ) => {\n    const tokenAddressesLowercaseSet = new Set(\n      tokenAddresses.map((address) => address.toLowerCase())\n    );\n\n    const balances = await getBalances(userAddress, requestParams);\n\n    const allowances: Allowance[] = balances\n      .filter((token) =>\n        tokenAddressesLowercaseSet.has(token.address.toLowerCase())\n      )\n      .map(({ address, allowance = '0' }) => ({\n        tokenAddress: address,\n        allowance,\n      }));\n\n    return allowances;\n  };\n\n  const getAllowance: GetAllowance = async (\n    userAddress,\n    tokenAddress,\n    requestParams\n  ) => {\n    const balanceOrNotFound = await getBalance(\n      userAddress,\n      tokenAddress,\n      requestParams\n    );\n\n    if ('message' in balanceOrNotFound) {\n      return balanceOrNotFound;\n    }\n\n    const { address, allowance = '0' } = balanceOrNotFound;\n\n    return { tokenAddress: address, allowance };\n  };\n\n  return {\n    getBalance,\n    getBalances,\n    getAllowance,\n    getAllowances,\n  };\n};\n","import type {\n  ConstructFetchInput,\n  ParaSwapVersionUnion,\n  RequestParameters,\n} from '../../types';\nimport { constructSearchString } from '../../helpers/misc';\nimport { API_URL, DEFAULT_VERSION } from '../../constants';\n\ntype AdaptersAsStrings = string[];\n\nexport type GetAdaptersFunctions = {\n  getAdapters: (\n    requestParams?: RequestParameters\n  ) => Promise<AdaptersAsStrings>;\n};\n\ntype SearchStringParams = {\n  network: number;\n  version?: ParaSwapVersionUnion;\n};\n\nexport const constructGetAdapters = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetAdaptersFunctions => {\n  const getAdapters: GetAdaptersFunctions['getAdapters'] = async (\n    requestParams\n  ): Promise<AdaptersAsStrings> => {\n    // always pass explicit type to make sure UrlSearchParams are correct\n    const query = constructSearchString<SearchStringParams>({\n      network: chainId,\n      version,\n    });\n\n    const fetchURL = `${apiURL}/adapters/list${query}` as const;\n\n    const data = await fetcher<AdaptersAsStrings>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data;\n  };\n\n  return { getAdapters };\n};\n","import type { PickKeys } from 'ts-essentials';\nimport type { RateOptions } from '../rates';\n\ntype StringArrKeys = PickKeys<RateOptions, string[] | undefined>;\n\ntype MinRateOptionsInput = Pick<RateOptions, StringArrKeys> &\n  Pick<RateOptions, 'partner'>;\n\ntype NormalizedRateOptions<\n  O extends MinRateOptionsInput,\n  T extends { options?: Partial<O> }\n> = Partial<Record<StringArrKeys | 'partner', string>> &\n  Partial<Omit<O, StringArrKeys | 'partner'>> &\n  Omit<T, 'options'>;\n\nexport function normalizeRateOptions<\n  O extends MinRateOptionsInput,\n  T extends { options?: Partial<O> }\n>({ options = {}, ...restInput }: T): NormalizedRateOptions<O, T> {\n  const {\n    excludePricingMethods,\n    excludeContractMethods,\n    includeContractMethods,\n    partner,\n    includeDEXS,\n    excludeDEXS,\n    excludePools,\n    ...restOptions\n  } = options;\n\n  const [\n    _includeDEXS,\n    _excludeDEXS,\n    _excludePools,\n    _excludePricingMethods,\n    _excludeContractMethods,\n    _includeContractMethods,\n  ] = [\n    includeDEXS,\n    excludeDEXS,\n    excludePools,\n    excludePricingMethods,\n    excludeContractMethods,\n    includeContractMethods,\n    //                                                                                              no \"\" empty string\n  ].map((array) => array?.join(',') || undefined);\n\n  const transformed: Partial<Record<StringArrKeys | 'partner', string>> = {\n    excludePricingMethods: _excludePricingMethods,\n    excludeContractMethods: _excludeContractMethods,\n    includeContractMethods: _includeContractMethods,\n    partner,\n    includeDEXS: _includeDEXS,\n    excludeDEXS: _excludeDEXS,\n    excludePools: _excludePools,\n  };\n\n  return { ...transformed, ...restOptions, ...restInput };\n}\n","import {\n  API_URL,\n  DEFAULT_VERSION,\n  ContractMethodByName,\n} from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type {\n  ConstructFetchInput,\n  PriceRouteApiResponse,\n  Address,\n  AddressOrSymbol,\n  PriceString,\n  OptimalRate,\n  RequestParameters,\n  EnumerateLiteral,\n} from '../../types';\nimport { normalizeRateOptions } from './helpers/normalizeRateOptions';\n\n// TODO: This is legacy and can be removed\nexport enum PricingMethod {\n  megapath = 'megapath',\n  multipath = 'multipath',\n  simplepath = 'simplepath',\n}\n\ntype PricingMethodByName = EnumerateLiteral<typeof PricingMethod>;\n\ntype RateQueryParams = {\n  /**\n   * @description Source Token Address. Instead, **Token Symbol** could be used for tokens listed in the `/tokens` endpoint.\n   */\n  srcToken: string;\n\n  /**\n   * @description Source Token Decimals. (Can be omitted if Token Symbol is used in `srcToken`).\n   */\n  srcDecimals?: number;\n\n  /**\n   * @description Destination Token Address. Instead, **Token Symbol** could be used for tokens listed in the `/tokens` endpoint.\n   */\n  destToken: string;\n\n  /**\n   * @description srcToken amount (in case of SELL) or destToken amount (in case of BUY). The amount should be in **WEI/Raw units** (eg. 1WBTC -> 100000000).\n   */\n  amount: string;\n\n  /**\n   * @description **SELL** or **BUY**. Default: `SELL`.\n   */\n  side?: 'SELL' | 'BUY';\n\n  /**\n   * @description Network ID. (Mainnet - 1, Optimism - 10, BSC - 56, Polygon - 137, Fantom - 250, zkEVM - 1101, Base - 8453, Arbitrum - 42161, Avalanche - 43114). Default: `1`.\n   */\n  network?: number;\n\n  /**\n   * @description If provided, **others** object is filled in the response with price quotes from other exchanges _(if available for comparison)_. Default: `false`.\n   */\n  otherExchangePrices?: boolean;\n\n  /**\n   * @description Comma Separated List of DEXs to include. **Supported DEXs:** UniswapV2, UniswapV3, Kyber, Bancor, AugustusRFQ, Oasis, Compound, Fulcrum, Balancer, MakerDAO, Chai, Aave, Aave2 and more. You can view all currently supported dexes filtered by chain [here](https://api.paraswap.io/adapters/list/1) eg: `UniswapV3,MakerDAO`.\n   */\n  includeDEXS?: string;\n\n  /**\n   * @description Comma Separated List of DEXs to exclude. (from the list of DEXs mentioned above).\n   */\n  excludeDEXS?: string;\n\n  /**\n   * @description Comma Separated List of Contract Methods to include in pricing (without spaces). View the list of the supported methods for [V5](https://developers.paraswap.network/api/master/api-v5#supported-methods) and [V6](https://developers.paraswap.network/api/master/api-v6.2#supported-methods) eg: `swapExactAmountIn,swapExactAmountInOnUniswapV2`.\n   */\n  includeContractMethods?: string;\n\n  /**\n   * @description Comma Separated List of Contract Methods to exclude from pricing (without spaces). View the list of the supported methods for [V5](https://developers.paraswap.network/api/master/api-v5#supported-methods) and [V6](https://developers.paraswap.network/api/master/api-v6.2#supported-methods).\n   */\n  excludeContractMethods?: string;\n\n  /**\n   * @description User's Wallet Address.\n   */\n  userAddress?: string;\n\n  /**\n   * @description Dash (-) separated list of tokens (addresses or symbols from `/tokens`) to comprise the price route. _Max 4 tokens._ _**\\*Note:**_ _If_ `_route_` _is specified, the response will only comprise of the route specified which might not be the optimal route._\n   */\n  route?: string;\n\n  /**\n   * @description Partner string.\n   */\n  partner?: string;\n\n  /**\n   * @description Destination Token Decimals. (Can be omitted if Token Symbol is used in `destToken`).\n   */\n  destDecimals?: number;\n\n  /**\n   * @description In %. It's a way to bypass the API price impact check (default = 15%).\n   */\n  maxImpact?: number;\n\n  /**\n   * @description Receiver's Wallet address. (Can be omitted if swapping tokens from and to same account).\n   */\n  receiver?: string;\n\n  /**\n   * @description If the source token is a tax token, you should specify the tax amount in BPS. For example: for a token with a 5% tax, you should set it to 500 as `[(500/10000)*100=5%]`. Note: not all DEXs and contract methods support trading tax tokens, so we will filter those that don't.\n   */\n  srcTokenTransferFee?: string;\n\n  /**\n   * @description If the destination token is a tax token, you should specify the tax amount in BPS. For example: for a token with a 5% tax, you should set it to 500 as `[(500/10000)*100=5%]`. Note: not all DEXs and contract methods support trading tax tokens, so we will filter those that don't.\n   */\n  destTokenTransferFee?: string;\n\n  /**\n   * @description If the source token is a tax token, you should specify the tax amount in BPS. Some tokens only charge tax when swapped in/out DEXs and not on ordinary transfers.\n   */\n  srcTokenDexTransferFee?: string;\n\n  /**\n   * @description If the destination token is a tax token, you should specify the tax amount in BPS. Some tokens only charge tax when swapped in/out DEXs, not on ordinary transfers.\n   */\n  destTokenDexTransferFee?: string;\n\n  /**\n   * @description To specify the protocol version. **Values:** 5 or 6.2 **Default**: 5.\n   */\n  version?: number | string;\n\n  /**\n   * @description Specify that methods without fee support should be excluded from the price route. Default: `false`.\n   */\n  excludeContractMethodsWithoutFeeModel?: boolean;\n\n  /**\n   * @description If tokens USD prices are not available, `Bad USD Price` error will be thrown. Use this param to skip this check. Default: `false`.\n   */\n  ignoreBadUsdPrice?: boolean;\n  /**\n   * @description \tExclude all RFQs from pricing, e.g.: AugustusRFQ, Hashflow. Default: false\n   */\n  excludeRFQ?: boolean;\n};\n\n// more details in the docs https://developers.paraswap.network/api/get-rate-for-a-token-pair#query-parameters\nexport type RateOptions = {\n  excludeDEXS?: string[];\n  includeDEXS?: string[];\n  excludePools?: string[];\n  excludePricingMethods?: PricingMethodByName[];\n  excludeContractMethods?: ContractMethodByName[];\n  includeContractMethods?: ContractMethodByName[];\n  partner?: string;\n  /** @description In %. It's a way to bypass the API price impact check (default = 15%) */\n  maxImpact?: number;\n  maxUSDImpact?: number;\n  otherExchangePrices?: boolean;\n  /** @description proceed with priceRoute building even when tokens don't have USD price. Default: false */\n  ignoreBadUsdPrice?: boolean;\n  /** @description Exclude all RFQs from pricing, e.g.: AugustusRFQ, Hashflow. Default: false */\n  excludeRFQ?: boolean;\n  /** @description \tSpecify that methods without fee support should be excluded from the price route. Default: false */\n  excludeContractMethodsWithoutFeeModel?: boolean;\n  /** @description If the source token is a tax token, you should specify the tax amount in BPS.  */\n  srcTokenTransferFee?: string;\n  /** @description If the destination token is a tax token, you should specify the tax amount in BPS.  */\n  destTokenTransferFee?: string;\n  /** @description Some tokens only charge tax when swapped in/out DEXs and not on ordinary transfers.  */\n  srcTokenDexTransferFee?: string;\n  /** @description Some tokens only charge tax when swapped in/out DEXs and not on ordinary transfers.  */\n  destTokenDexTransferFee?: string;\n};\n\ntype CommonGetRateInput = {\n  amount: PriceString;\n  userAddress?: Address;\n  side?: 'SELL' | 'BUY';\n  options?: RateOptions;\n  srcDecimals?: number;\n  destDecimals?: number;\n};\n\nexport type GetRateInput = CommonGetRateInput & {\n  srcToken: AddressOrSymbol;\n  destToken: AddressOrSymbol;\n};\n\nexport type GetRate = (\n  options: GetRateInput,\n  requestParams?: RequestParameters\n) => Promise<OptimalRate>;\n\ntype GetRateByRouteInput = CommonGetRateInput & {\n  route: AddressOrSymbol[];\n};\n\ntype GetRateByRoute = (\n  options: GetRateByRouteInput,\n  requestParams?: RequestParameters\n) => Promise<OptimalRate>;\n\nexport type GetRateFunctions = {\n  getRate: GetRate;\n  getRateByRoute: GetRateByRoute;\n};\nconst INVALID_ROUTE = 'Invalid Route';\n\nexport const constructGetRate = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetRateFunctions => {\n  const pricesUrl = `${apiURL}/prices` as const;\n\n  const getRate: GetRate = async (\n    { srcToken, destToken, ...rest },\n    requestParams\n  ) => {\n    const parsedOptions = normalizeRateOptions(rest);\n\n    // always pass explicit type to make sure UrlSearchParams are correct\n    const search = constructSearchString<Omit<RateQueryParams, 'route'>>({\n      srcToken,\n      destToken,\n      network: chainId,\n      version,\n      ...parsedOptions,\n    });\n\n    const fetchURL = `${pricesUrl}/${search}` as const;\n\n    const data = await fetcher<PriceRouteApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data.priceRoute;\n  };\n\n  const getRateByRoute: GetRateByRoute = async (\n    { route, ...rest },\n    requestParams\n  ) => {\n    if (route.length < 2) {\n      throw new Error(INVALID_ROUTE);\n    }\n\n    const parsedOptions = normalizeRateOptions(rest);\n\n    const _route = route.join('-');\n\n    const search = constructSearchString<\n      Omit<RateQueryParams, 'srcToken' | 'destToken'>\n    >({\n      route: _route, // route can be used in place of srcToken+destToken\n      network: chainId,\n      version,\n      ...parsedOptions,\n    });\n\n    const fetchURL = `${pricesUrl}/${search}` as const;\n\n    const data = await fetcher<PriceRouteApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data.priceRoute;\n  };\n\n  return {\n    getRate,\n    getRateByRoute,\n  };\n};\n","import {\n  API_URL,\n  DEFAULT_VERSION,\n  ContractMethodByName,\n} from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type {\n  ConstructFetchInput,\n  RequestParameters,\n  SwapApiResponse,\n} from '../../types';\nimport { normalizeRateOptions } from './helpers/normalizeRateOptions';\n\n/**\n * Types for transaction parameters.\n */\ntype SwapQueryParams = {\n  /**\n   * @description Source Token Address. Instead, **Token Symbol** could be used for tokens listed in the `/tokens` endpoint.\n   */\n  srcToken: string;\n\n  /**\n   * @description Source Token Decimals. (Can be omitted if Token Symbol is used in `srcToken`).\n   */\n  srcDecimals?: number;\n\n  /**\n   * @description Destination Token Address. Instead, **Token Symbol** could be used for tokens listed in the `/tokens` endpoint.\n   */\n  destToken: string;\n\n  /**\n   * @description srcToken amount (in case of SELL) or destToken amount (in case of BUY). The amount should be in **WEI/Raw units** (eg. 1WBTC -> 100000000).\n   */\n  amount: string;\n\n  /**\n   * @description **SELL** or **BUY**. Default: `SELL`.\n   */\n  side: 'SELL' | 'BUY';\n\n  /**\n   * @description Network ID. (Mainnet - 1, Optimism - 10, BSC - 56, Polygon - 137, Fantom - 250, zkEVM - 1101, Base - 8453, Arbitrum - 42161, Avalanche - 43114). Default: `1`.\n   */\n  network?: number;\n\n  /**\n   * @description Comma Separated List of DEXs to include. **Supported DEXs:** Uniswap, Kyber, Bancor, AugustusRFQ, Oasis, Compound, Fulcrum, 0x, MakerDAO, Chai, Aave, Aave2, MultiPath, MegaPath, Curve, Curve3, Saddle, IronV2, BDai, idle, Weth, Beth, UniswapV2, Balancer, 0xRFQt, SushiSwap, LINKSWAP, Synthetix, DefiSwap, Swerve, CoFiX, Shell, DODOV1, DODOV2, OnChainPricing, PancakeSwap, PancakeSwapV2, ApeSwap, Wbnb, acryptos, streetswap, bakeryswap, julswap, vswap, vpegswap, beltfi, ellipsis, QuickSwap, COMETH, Wmatic, Nerve, Dfyn, UniswapV3, Smoothy, PantherSwap, OMM1, OneInchLP, CurveV2, mStable, WaultFinance, MDEX, ShibaSwap, CoinSwap, SakeSwap, JetSwap, Biswap, BProtocol eg: `UniswapV3,0x`.\n   */\n  includeDEXS?: string;\n\n  /**\n   * @description Comma Separated List of DEXs to exclude. (from the list of DEXs mentioned above).\n   */\n  excludeDEXS?: string;\n\n  /**\n   * @description Comma Separated List of Contract Methods to include without spaces. **Available values:** swapOnUniswap, buyOnUniswap, swapOnUniswapFork, buyOnUniswapFork, swapOnUniswapV2Fork, buyOnUniswapV2Fork, simpleBuy, simpleSwap, multiSwap, megaSwap, protectedMultiSwap, protectedMegaSwap, protectedSimpleSwap, protectedSimpleBuy, swapOnZeroXv2, swapOnZeroXv4, buy. eg: `simpleSwap,multiSwap`.\n   */\n  includeContractMethods?: string;\n\n  /**\n   * @description Comma Separated List of Contract Methods to exclude without spaces. (from the list of contract methods mentioned above).\n   */\n  excludeContractMethods?: string;\n\n  /**\n   * @description User's Wallet Address.\n   */\n  userAddress: string;\n\n  /**\n   * @description Dash (-) separated list of tokens (addresses or symbols from `/tokens`) to comprise the price route. _Max 4 tokens._ _**\\*Note:**_ _If_ `_route_` _is specified, the response will only comprise of the route specified which might not be the optimal route._\n   */\n  route?: string;\n\n  /**\n   * @description Partner string.\n   */\n  partner?: string;\n\n  /**\n   * @description If provided it is used together with `partnerAddress`. Should be in basis points percentage. Look at `slippage` parameter description for understanding better. Eg: `200` (for 2% fee percent). Fees have to be claimed from the Fee Claimer contract unless `_isSurplusToUser_` or `_isDirectFeeTransfer_` are used.\n   */\n  partnerFeeBps?: string;\n\n  /**\n   * @description Address that will be entitled to claim fees or surplus. Fees have to be claimed from the Fee Claimer contract unless `_isSurplusToUser_` or `_isDirectFeeTransfer_` are used.\n   */\n  partnerAddress?: string;\n\n  /**\n   * @description Allowed slippage percentage represented in basis points. _Eg:_ for **2.5%** slippage, set the value to **2.5 \\* 100 = 250**; for 10% = 1000.\n   */\n  slippage: number;\n\n  /**\n   * @description Destination Token Decimals. (Can be omitted if Token Symbol is used in `destToken`).\n   */\n  destDecimals?: number;\n\n  /**\n   * @description In %. It's a way to bypass the API price impact check (default = 15%).\n   */\n  maxImpact?: number;\n\n  /**\n   * @description Receiver's Wallet address. (Can be omitted if swapping tokens from and to same account).\n   */\n  receiver?: string;\n\n  /**\n   * @description If the source token is a tax token, you should specify the tax amount in BPS. For example: for a token with a 5% tax, you should set it to 500 as `[(500/10000)*100=5%]`. Note: not all DEXs and contract methods support trading tax tokens, so we will filter those that don't.\n   */\n  srcTokenTransferFee?: string;\n\n  /**\n   * @description If the destination token is a tax token, you should specify the tax amount in BPS. For example: for a token with a 5% tax, you should set it to 500 as `[(500/10000)*100=5%]`. Note: not all DEXs and contract methods support trading tax tokens, so we will filter those that don't.\n   */\n  destTokenTransferFee?: string;\n\n  /**\n   * @description If the source token is a tax token, you should specify the tax amount in BPS. Some tokens only charge tax when swapped in/out DEXs and not on ordinary transfers.\n   */\n  srcTokenDexTransferFee?: string;\n\n  /**\n   * @description If the destination token is a tax token, you should specify the tax amount in BPS. Some tokens only charge tax when swapped in/out DEXs, not on ordinary transfers.\n   */\n  destTokenDexTransferFee?: string;\n\n  /**\n   * @description To specify the protocol version. **Values:** 5 or 6.2 **Default**: 5.\n   */\n  version?: number | string;\n\n  /**\n   * @description If tokens USD prices are not available, `Bad USD Price` error will be thrown. Use this param to skip this check. Default: `false`.\n   */\n  ignoreBadUsdPrice?: boolean;\n\n  /**\n   * @description Specify if user should receive surplus instead of partner. Default: `false`.\n   */\n  isSurplusToUser?: boolean;\n\n  /**\n   * @description Specify if fees should be sent directly to the partner instead of registering them on FeeClaimer. Default: `false`.\n   */\n  isDirectFeeTransfer?: boolean;\n\n  /**\n   * @description Allows for capping the surplus at 1% maximum. Default: `true`.\n   */\n  isCapSurplus?: boolean;\n\n  /**\n   * @description Allows to collect surplus. Works with `partnerAddress`. Default: `false`.\n   */\n  takeSurplus?: boolean;\n};\n\ntype SwapTxInputFields =\n  | 'srcToken'\n  | 'destToken'\n  | 'amount'\n  | 'side'\n  | 'srcDecimals'\n  | 'destDecimals'\n  | 'userAddress'\n  | 'slippage';\ntype SwapTxInputListFields =\n  | 'includeDEXS'\n  | 'excludeDEXS'\n  | 'includeContractMethods'\n  | 'excludeContractMethods'\n  | 'route';\n\ntype SwapRateOptions = Omit<\n  SwapQueryParams,\n  SwapTxInputFields | SwapTxInputListFields | 'network' | 'version'\n> & {\n  /**\n   * @description List of DEXs to include. **Supported DEXs:** Uniswap, Kyber, Bancor, AugustusRFQ, Oasis, Compound, Fulcrum, 0x, MakerDAO, Chai, Aave, Aave2, MultiPath, MegaPath, Curve, Curve3, Saddle, IronV2, BDai, idle, Weth, Beth, UniswapV2, Balancer, 0xRFQt, SushiSwap, LINKSWAP, Synthetix, DefiSwap, Swerve, CoFiX, Shell, DODOV1, DODOV2, OnChainPricing, PancakeSwap, PancakeSwapV2, ApeSwap, Wbnb, acryptos, streetswap, bakeryswap, julswap, vswap, vpegswap, beltfi, ellipsis, QuickSwap, COMETH, Wmatic, Nerve, Dfyn, UniswapV3, Smoothy, PantherSwap, OMM1, OneInchLP, CurveV2, mStable, WaultFinance, MDEX, ShibaSwap, CoinSwap, SakeSwap, JetSwap, Biswap, BProtocol eg: `UniswapV3,0x`.\n   */\n  includeDEXS?: string[];\n\n  /**\n   * @description List of DEXs to exclude. (from the list of DEXs mentioned above).\n   */\n  excludeDEXS?: string[];\n\n  /**\n   * @description List of Contract Methods to include without spaces. **Available values:** swapOnUniswap, buyOnUniswap, swapOnUniswapFork, buyOnUniswapFork, swapOnUniswapV2Fork, buyOnUniswapV2Fork, simpleBuy, simpleSwap, multiSwap, megaSwap, protectedMultiSwap, protectedMegaSwap, protectedSimpleSwap, protectedSimpleBuy, swapOnZeroXv2, swapOnZeroXv4, buy. eg: `simpleSwap,multiSwap`.\n   */\n  includeContractMethods?: ContractMethodByName[];\n\n  /**\n   * @description List of Contract Methods to exclude without spaces. (from the list of contract methods mentioned above).\n   */\n  excludeContractMethods?: ContractMethodByName[];\n};\n\ntype SwapTxInput = Pick<SwapQueryParams, SwapTxInputFields> & {\n  /**\n   * @description List of tokens (addresses or symbols from `/tokens`) to comprise the price route. _Max 4 tokens._ _**\\*Note:**_ _If_ `_route_` _is specified, the response will only comprise of the route specified which might not be the optimal route._\n   */\n  route?: string[];\n\n  options?: SwapRateOptions;\n};\n\nexport type SwapTxResult = SwapApiResponse;\n\nexport type GetSwapTxData = (\n  options: SwapTxInput,\n  requestParams?: RequestParameters\n) => Promise<SwapTxResult>;\n\nexport type GetSwapTxFunctions = {\n  getSwapTxData: GetSwapTxData;\n};\n\nexport const constructSwapTx = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetSwapTxFunctions => {\n  const pricesUrl = `${apiURL}/swap` as const;\n\n  const getSwapTxData: GetSwapTxData = async (\n    { srcToken, destToken, amount, route, ...rest },\n    requestParams\n  ) => {\n    const parsedOptions = normalizeRateOptions(rest);\n\n    const _route = route?.join('-');\n\n    // always pass explicit type to make sure UrlSearchParams are correct\n    const search = constructSearchString<SwapQueryParams>({\n      amount,\n      srcToken,\n      destToken,\n      route: _route,\n      network: chainId,\n      version,\n      ...parsedOptions,\n    });\n\n    const fetchURL = `${pricesUrl}/${search}` as const;\n\n    const data = await fetcher<SwapApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data;\n  };\n\n  return {\n    getSwapTxData,\n  };\n};\n","import { API_URL } from '../../constants';\nimport { constructToken } from '../../helpers/token';\nimport type {\n  RequestParameters,\n  ConstructFetchInput,\n  Token,\n  TokensApiResponse,\n} from '../../types';\n\ntype GetTokens = (extra?: RequestParameters) => Promise<Token[]>;\n\nexport type GetTokensFunctions = {\n  getTokens: GetTokens;\n};\n\nexport const constructGetTokens = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetTokensFunctions => {\n  const fetchURL = `${apiURL}/tokens/${chainId}` as const;\n\n  const getTokens: GetTokens = async (requestParams) => {\n    const data = await fetcher<TokensApiResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    const tokens = data.tokens.map(constructToken);\n    return tokens;\n  };\n\n  return { getTokens };\n};\n","export const name = 'AUGUSTUS RFQ';\nexport const version = '1';\nexport const ZERO_ADDRESS = '0x0000000000000000000000000000000000000000';\n\ntype TypedDataDomain = {\n  name?: string;\n  version?: string;\n  chainId?: bigint | string | number;\n  verifyingContract?: string;\n  salt?: string;\n};\n\nexport type TypedDataField = {\n  name: string;\n  type: string;\n};\n\nexport type SignableTypedData = {\n  types: Record<string, TypedDataField[]>;\n  domain: TypedDataDomain;\n  data: Record<string, any>;\n};\n\nexport type Domain = {\n  name: string;\n  version: string;\n  chainId: number;\n  verifyingContract: string;\n};\n","import type { LimitOrderFromApi } from '../../limitOrders/helpers/types';\nimport { ZERO_ADDRESS } from './buildOrderData';\nimport type { OrderType } from './types';\n\ntype GetBaseFetchUrlInput = {\n  apiURL: string;\n  chainId: number;\n};\n\nexport type BaseFetchUrlInputConstructor<Kind extends OrderKind> = (\n  params: GetBaseFetchUrlInput\n) => UrlByTypeFunction<Kind>;\n\ntype OrderType2URLPart = {\n  LIMIT: 'orders';\n  P2P: 'p2p';\n};\n\ntype OrderKind = 'nft' | 'ft';\n\nexport type BaseFetchUrl<\n  Kind extends OrderKind,\n  Type extends OrderType = OrderType\n> = `${string}/${Kind}/${OrderType2URLPart[Type]}/${number}`;\n\nexport type MinFetchUrl<Kind extends OrderKind> = `${string}/${Kind}/order`;\nexport type OrderFillableBalanceFetchUrl<Kind extends OrderKind> =\n  `${string}/${Kind}/fillablebalance/${number}`;\n\ninterface UrlByTypeFunction<Kind extends OrderKind> {\n  (): MinFetchUrl<Kind>;\n  (type: 'LIMIT'): BaseFetchUrl<Kind, 'LIMIT'>;\n  (type: 'P2P'): BaseFetchUrl<Kind, 'P2P'>;\n  (type: OrderType): BaseFetchUrl<Kind>;\n  (type: 'fillablebalance'): OrderFillableBalanceFetchUrl<Kind>;\n  (type?: OrderType | 'fillablebalance'):\n    | BaseFetchUrl<Kind>\n    | MinFetchUrl<Kind>\n    | OrderFillableBalanceFetchUrl<Kind>;\n}\n\nexport function baseFetchUrlGetterFactory<Kind extends OrderKind>(\n  orderKind: Kind\n): BaseFetchUrlInputConstructor<Kind> {\n  return function constructBaseFetchUrlGetter({\n    chainId,\n    apiURL,\n  }: GetBaseFetchUrlInput): UrlByTypeFunction<Kind> {\n    function urlGetter(type: 'LIMIT'): BaseFetchUrl<Kind, 'LIMIT'>;\n    function urlGetter(type: 'P2P'): BaseFetchUrl<Kind, 'P2P'>;\n    function urlGetter(type: OrderType): BaseFetchUrl<Kind>;\n    function urlGetter(\n      type: 'fillablebalance'\n    ): OrderFillableBalanceFetchUrl<Kind>;\n    function urlGetter(): MinFetchUrl<Kind>;\n    function urlGetter(\n      type?: OrderType | 'fillablebalance'\n    ):\n      | BaseFetchUrl<Kind>\n      | MinFetchUrl<Kind>\n      | OrderFillableBalanceFetchUrl<Kind> {\n      if (!type) return `${apiURL}/${orderKind}/order` as const;\n\n      if (type === 'fillablebalance')\n        return `${apiURL}/${orderKind}/fillablebalance/${chainId}` as const;\n\n      const orderURLpart = type === 'LIMIT' ? 'orders' : 'p2p';\n      return `${apiURL}/${orderKind}/${orderURLpart}/${chainId}` as const;\n    }\n\n    return urlGetter;\n  };\n}\n\n// orders with taker = EOA address\n// that can't be filled through AugustusSwapper,\n// only through AugustusRFQ\nexport function isOrderFillableDirectlyOnRFQOnly(\n  order: Pick<LimitOrderFromApi, 'taker' | 'takerFromMeta'>\n): boolean {\n  // with 0x taker fillable by anyone\n  if (order.taker === ZERO_ADDRESS) return false;\n\n  // same intended EOA taker and msg.sender taker\n  return order.taker.toLowerCase() === order.takerFromMeta.toLowerCase();\n}\n","import {\n  BaseFetchUrl,\n  baseFetchUrlGetterFactory,\n  BaseFetchUrlInputConstructor,\n  MinFetchUrl,\n  OrderFillableBalanceFetchUrl,\n} from '../../common/orders/misc';\nimport type { OrderData } from './buildOrderData';\n\nexport function sanitizeOrderData({\n  nonceAndMeta,\n  expiry,\n  makerAsset,\n  takerAsset,\n  maker,\n  taker,\n  makerAmount,\n  takerAmount,\n}: OrderData & Record<string, any>): OrderData {\n  return {\n    nonceAndMeta,\n    expiry,\n    makerAsset,\n    takerAsset,\n    maker,\n    taker,\n    makerAmount,\n    takerAmount,\n  };\n}\n\n/* \nGET\n/ft/orders/:chainId/maker/:walletAddress\n/ft/orders/:chainId/taker/:walletAddress\n/ft/p2p/:chainId/maker/:walletAddress\n/ft/p2p/:chainId/taker/:walletAddress\n*/\nexport type GetOrdersURLs = `${BaseFetchUrl<'ft'>}/${\n  | 'taker'\n  | 'maker'}/${string}`;\n\n/*\nGET\n/ft/fillablebalance/:chainId/:walletAddress/:makerAsset?\n*/\nexport type GetRequiredAllowanceURL =\n  `${OrderFillableBalanceFetchUrl<'ft'>}/${string}${`/${string}` | ''}`;\n\n/*\nGET\n/ft/order/:orderHash (get you p2p or orders)\n*/\nexport type GetOrderURL = `${MinFetchUrl<'ft'>}/${string}`;\n\n/* \nPOST create order\n/ft/orders/:chainId/\n/ft/p2p/:chainId/\n*/\nexport type PostOrderURLs = BaseFetchUrl<'ft'>;\n\nexport const constructBaseFetchUrlGetter: BaseFetchUrlInputConstructor<'ft'> =\n  baseFetchUrlGetterFactory('ft');\n","import type { Address } from '../../../types';\nimport type { AssetTypeVariant } from './types';\nimport {\n  Domain,\n  name,\n  version,\n  ZERO_ADDRESS,\n} from '../../common/orders/buildOrderData';\nimport { getRandomInt } from '../../../helpers/misc';\n\nconst OrderNFT = [\n  { name: 'nonceAndMeta', type: 'uint256' },\n  { name: 'expiry', type: 'uint128' },\n  { name: 'makerAsset', type: 'uint256' },\n  { name: 'makerAssetId', type: 'uint256' },\n  { name: 'takerAsset', type: 'uint256' },\n  { name: 'takerAssetId', type: 'uint256' },\n  { name: 'maker', type: 'address' },\n  { name: 'taker', type: 'address' },\n  { name: 'makerAmount', type: 'uint256' },\n  { name: 'takerAmount', type: 'uint256' },\n];\n\nexport interface BuildNFTOrderDataInput {\n  chainId: number;\n  verifyingContract: Address;\n  nonce?: number;\n  expiry: number;\n  makerAsset: Address;\n  takerAsset: Address;\n  makerAmount: string;\n  takerAmount: string;\n  /** @description NFT Token id, will default to 0 (ERC20), provide for NFT */\n  makerAssetId: string; // required when BUYing NFT\n  /** @description NFT Token id, will default to 0 (ERC20), provide for NFT */\n  takerAssetId?: string;\n  /** @description Token type: ERC20 = 0, ERC1155 = 1, ERC721 = 2 */\n  makerAssetType: AssetTypeVariant;\n  /** @description Token type: ERC20 = 0, ERC1155 = 1, ERC721 = 2 */\n  takerAssetType: AssetTypeVariant;\n  maker: Address;\n  // OrderData.taker must be Augustus for p2p limitOrders to involve swap through Augustus\n  // this is the actual user taker which will go into nonceAndMeta\n  taker?: Address;\n  AugustusAddress: Address;\n}\n\nexport type SignableNFTOrderData = {\n  types: { OrderNFT: typeof OrderNFT };\n  domain: Domain;\n  data: NFTOrderData;\n};\n\nexport type BigIntAsString = string;\n\nexport type NFTOrderData = {\n  expiry: number;\n  // '1' when trading 1 NFT token\n  makerAmount: BigIntAsString;\n  makerAsset: BigIntAsString;\n  // '0' indicates ERC20\n  makerAssetId: BigIntAsString;\n  // '1' when trading 1 NFT token\n  takerAmount: BigIntAsString;\n  takerAsset: BigIntAsString;\n  // '0' indicates ERC20\n  takerAssetId: BigIntAsString;\n  nonceAndMeta: BigIntAsString;\n  maker: Address;\n  taker: Address;\n};\n\nexport function buildOrderData({\n  chainId,\n  verifyingContract,\n  nonce = getRandomInt(),\n  expiry,\n  makerAsset: _makerAssetAddress,\n  takerAsset: _takerAssetAddress,\n  makerAmount,\n  takerAmount,\n  makerAssetId,\n  takerAssetId = '0',\n  makerAssetType,\n  takerAssetType,\n  maker,\n  AugustusAddress,\n  // if taker is specified -- p2p order for that taker only to fill through Augustus -- taker = Augustus, takerInNonce = _taker\n  // if taker is not specified -- limitOrder for anyone to fill through Augustus -- taker = Augustus, takerInNonce = Zero\n  taker: takerInNonce = ZERO_ADDRESS, //@TODO allow Orders outside of AugustusRFQ\n}: BuildNFTOrderDataInput): SignableNFTOrderData {\n  // first 160 bits is taker address (for p2p orders),\n  // or 0 for limitOrders, so that anyone can be the taker of the Order\n  const nonceAndMeta = (\n    BigInt(takerInNonce) +\n    (BigInt(nonce) << BigInt(160))\n  ).toString(10);\n\n  const makerAsset = assetAddressToUint(_makerAssetAddress, makerAssetType);\n\n  const takerAsset = assetAddressToUint(_takerAssetAddress, takerAssetType);\n\n  const orderNFT: NFTOrderData = {\n    nonceAndMeta,\n    expiry,\n    makerAsset,\n    takerAsset,\n    maker,\n    taker: AugustusAddress,\n    makerAmount,\n    takerAmount,\n    makerAssetId,\n    takerAssetId,\n  };\n\n  return {\n    types: { OrderNFT },\n    domain: { name, version, chainId, verifyingContract },\n    data: orderNFT,\n  };\n}\n\n// create a packed number that contains assetAddress and AssetType\nexport function assetAddressToUint(\n  assetAddress: Address,\n  assetType: AssetTypeVariant\n): BigIntAsString {\n  return (BigInt(assetAddress) + (BigInt(assetType) << BigInt(160))).toString(\n    10\n  );\n}\n","import {\n  BaseFetchUrl,\n  baseFetchUrlGetterFactory,\n  BaseFetchUrlInputConstructor,\n  MinFetchUrl,\n} from '../../common/orders/misc';\nimport {\n  assetAddressToUint,\n  BuildNFTOrderDataInput,\n  NFTOrderData,\n} from './buildOrderData';\n\n// any number can be assigned to AssetType enum\n// https://github.com/Microsoft/TypeScript/issues/22311\n// export enum AssetType {\n//   ERC20 = 0,\n//   ERC1155 = 1,\n//   ERC721 = 2,\n// }\n\nexport const AssetType = {\n  ERC20: 0,\n  ERC1155: 1,\n  ERC721: 2,\n} as const;\n\nexport function sanitizeOrderData({\n  nonceAndMeta,\n  expiry,\n  makerAsset: _makerAsset,\n  takerAsset: _takerAsset,\n  maker,\n  taker,\n  makerAmount,\n  takerAmount,\n  makerAssetId,\n  takerAssetId,\n  // asset types provided when Order has them ,e.g. got Order by hash from API\n  makerAssetType,\n  takerAssetType,\n}: NFTOrderData &\n  Partial<Pick<BuildNFTOrderDataInput, 'makerAssetType' | 'takerAssetType'>> &\n  Record<string, any>): NFTOrderData {\n  const makerAsset =\n    makerAssetType !== undefined && _makerAsset.startsWith('0x')\n      ? assetAddressToUint(_makerAsset, makerAssetType)\n      : _makerAsset;\n  const takerAsset =\n    takerAssetType !== undefined && _takerAsset.startsWith('0x')\n      ? assetAddressToUint(_takerAsset, takerAssetType)\n      : _takerAsset;\n\n  return {\n    nonceAndMeta,\n    expiry,\n    makerAsset,\n    takerAsset,\n    maker,\n    taker,\n    makerAmount,\n    takerAmount,\n    makerAssetId,\n    takerAssetId,\n  };\n}\n\n/* \nGET\n/nft/orders/:chainId/maker/:walletAddress\n/nft/orders/:chainId/taker/:walletAddress\n/nft/p2p/:chainId/maker/:walletAddress\n/nft/p2p/:chainId/taker/:walletAddress\n*/\nexport type GetOrdersURLs = `${BaseFetchUrl<'nft'>}/${\n  | 'taker'\n  | 'maker'}/${string}`;\n\n/*\nGET\n/nft/order/:orderHash (get you p2p or orders)\n*/\nexport type GetOrderURL = `${MinFetchUrl<'nft'>}/${string}`;\n\n/* \nPOST create order\n/nft/orders/:chainId/\n/nft/p2p/:chainId/\n*/\nexport type PostOrderURLs = BaseFetchUrl<'nft'>;\n\nexport const constructBaseFetchUrlGetter: BaseFetchUrlInputConstructor<'nft'> =\n  baseFetchUrlGetterFactory('nft');\n","import type { WithGasPrice, WithMaxFee } from '../../gas';\nimport type {\n  ConstructFetchInput,\n  Address,\n  FetcherPostInput,\n  PriceString,\n  OptimalRate,\n  RequestParameters,\n} from '../../types';\n\nimport { assert } from 'ts-essentials';\nimport { API_URL, SwapSide } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type { OrderData } from '../limitOrders/buildOrder';\nimport { sanitizeOrderData as sanitizeLimitOrderData } from '../limitOrders/helpers/misc';\nimport { sanitizeOrderData as sanitizeNFTOrderData } from '../nftOrders/helpers/misc';\nimport { AssetTypeVariant } from '../nftOrders/helpers/types';\n\nexport interface TransactionParams {\n  to: string;\n  from: string;\n  value: string;\n  data: string;\n  gas?: string;\n  chainId: number;\n  // either gasPrice or maxFeePerGas & maxPriorityFeePerGas will be present\n  gasPrice?: string;\n  maxFeePerGas?: string;\n  maxPriorityFeePerGas?: string;\n}\n\nexport type SwappableOrder = OrderData & {\n  permitMakerAsset?: string;\n  signature: string;\n};\n\nexport type SwappableNFTOrder = SwappableOrder & {\n  makerAssetId: string;\n  takerAssetId: string;\n  makerAssetType: AssetTypeVariant;\n  takerAssetType: AssetTypeVariant;\n};\n\n// when priceRoute with side=SELL, slippage can replace destAmount\nexport type TxInputAmountsPartSell = {\n  slippage: number;\n  srcAmount: PriceString;\n  destAmount?: never; // disallowed\n};\n// when priceRoute with side=BUY, slippage can replace srcAmount\nexport type TxInputAmountsPartBuy = {\n  slippage: number;\n  srcAmount?: never; // disallowed\n  destAmount: PriceString;\n};\n// both srcAmount and destAmount can be present in absence of slippage\nexport type TxInputAmountsPartBuyOrSell = {\n  slippage?: never; // disallowed\n  srcAmount: PriceString;\n  destAmount: PriceString;\n};\n\n// more details in the docs https://developers.paraswap.network/api/build-parameters-for-transaction#request-body\nexport type BuildTxInputBase = {\n  srcToken: Address;\n  destToken: Address;\n  userAddress: Address;\n  /** @description Whenever msg.sender (`userAddress`) i.e. address calling the ParaSwap contract is different than the address sending the transaction, `txOrigin` must be passed along with `userAddress` */\n  txOrigin?: string;\n  /** @description used with referral link */\n  referrer?: string;\n  partner?: string;\n  partnerAddress?: string;\n  partnerFeeBps?: number;\n  /** @description If user should receive surplus instead of partner. Default: false */\n  isSurplusToUser?: boolean;\n  /** @description If fees should be sent directly to the partner instead of registering them on FeeClaimer. v6 only. Default: false */\n  isDirectFeeTransfer?: boolean;\n  /** @deprecated Use \"takeSurplus\" instead. Positive slippage goes to user, true by default */\n  positiveSlippageToUser?: boolean;\n  /** @description Set to true to take positive slippage. Works with partnerAddress. Default: false */\n  takeSurplus?: boolean;\n  /** @description Cap the surplus at 1% maximum. Default: true */\n  isCapSurplus?: boolean;\n  receiver?: Address;\n  srcDecimals?: number;\n  destDecimals?: number;\n  permit?: string;\n  deadline?: string;\n};\n\n// for Swap transaction\nexport type BuildSwapTxInput = BuildTxInputBase & {\n  priceRoute: OptimalRate;\n} & (\n    | TxInputAmountsPartSell\n    | TxInputAmountsPartBuy\n    | TxInputAmountsPartBuyOrSell\n  ); // this union doesn't allow to mix srcAmount & destAmount & slippage together\n\n// building block for LimitOrders and NFT Orders swaps\n// can only use priceRoute.side=BUY and related TxInputAmountsPart*\ntype BuildTxInputBaseBUYForOrders<\n  // to Omit extra keys\n  // can't do Omit<> around union, breaks discriminated union\n  K extends keyof TxInputAmountsPartBuy | keyof BuildTxInputBase = never\n> = Omit<BuildTxInputBase, K> &\n  // destAmount is sum(orders[].makerAmount)\n  (| Omit<TxInputAmountsPartBuy, 'destAmount' | K>\n    | Omit<TxInputAmountsPartBuyOrSell, 'destAmount' | K>\n  );\n\n// for LimitOrder Fill, without swap\nexport type BuildLimitOrderTxInput = BuildTxInputBaseBUYForOrders & {\n  orders: SwappableOrder[];\n  srcDecimals: number;\n  destDecimals: number;\n};\n\n// for NFT Order Fill, without swap\nexport type BuildNFTOrderTxInput =\n  // @TODO if NFT can ever be srcToken, change logic\n  //                           for NFT token destDecimals = 0 is acceptable\n  BuildTxInputBaseBUYForOrders<'destDecimals'> & {\n    orders: SwappableNFTOrder[];\n    srcDecimals: number;\n  };\n\nexport interface BuildSwapAndLimitOrderTxInput0\n  // destAmount is sum(orders[].makerAmount)\n  extends Omit<BuildTxInputBase, 'destAmount'> {\n  priceRoute: OptimalRate; // priceRoute.side=BUY\n  orders: SwappableOrder[];\n  destDecimals: number;\n}\n// for Swap + LimitOrder, priceRoute must have side=BUY\nexport type BuildSwapAndLimitOrderTxInput =\n  // destAmount is sum(orders[].makerAmount)\n  BuildTxInputBaseBUYForOrders & {\n    priceRoute: OptimalRate; // priceRoute.side=BUY & priceRoute.contractMethod=simpleBuy\n    orders: SwappableOrder[];\n    destDecimals: number;\n  };\n\n// with slippage for a swap and fill - p2p - order, without to fill a p2p order directly with the intended taker asset\n\n// for Swap + NFT Order, priceRoute must have side=BUY\nexport type BuildSwapAndNFTOrderTxInput =\n  // destAmount is sum(orders[].makerAmount)\n  BuildTxInputBaseBUYForOrders & {\n    priceRoute: OptimalRate; // priceRoute.side=BUY & priceRoute.contractMethod=simpleBuy\n    orders: SwappableNFTOrder[];\n  };\n\nexport type BuildTxInput =\n  | BuildSwapTxInput\n  | BuildLimitOrderTxInput\n  | BuildNFTOrderTxInput\n  | BuildSwapAndLimitOrderTxInput\n  | BuildSwapAndNFTOrderTxInput;\n\nexport type BuildOptionsBase = {\n  /** @description Allows the API to skip performing onchain checks such as balances, allowances, as well as transaction simulations. The response does not contain `gas` parameter when set to `true` */\n  ignoreChecks?: boolean;\n  /** @description Allows the API to skip gas checks. The response does not contain `gas` parameter when set to `true` */\n  ignoreGasEstimate?: boolean;\n  /** @description Allows the API to skip performing onchain allowance checks. */\n  ignoreAllowance?: boolean;\n  /** @description Allows the API to return the contract parameters only. */\n  onlyParams?: boolean;\n};\n\nexport type BuildOptionsWithGasPrice = BuildOptionsBase & Partial<WithGasPrice>;\nexport type BuildOptionsWitWithMaxFee = BuildOptionsBase & Partial<WithMaxFee>;\n\nexport type BuildOptions = BuildOptionsWithGasPrice | BuildOptionsWitWithMaxFee;\n\ntype BuildTx = (\n  params: BuildTxInput,\n  options?: BuildOptions,\n  requestParams?: RequestParameters\n) => Promise<TransactionParams>;\n\nexport type BuildTxFunctions = {\n  buildTx: BuildTx;\n};\n\ntype SearchStringParams = BuildOptions;\n\nexport const constructBuildTx = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): BuildTxFunctions => {\n  const transactionsURL = `${apiURL}/transactions/${chainId}` as const;\n\n  const buildTx: BuildTx = async (params, options = {}, requestParams) => {\n    if (\n      'priceRoute' in params &&\n      'destAmount' in params && // isn't provided together with `orders`\n      !('orders' in params) // when present, destAmount becomes sum(orders[].makerAmount)\n    ) {\n      const {\n        priceRoute,\n        priceRoute: { side },\n      } = params;\n      const AmountMismatchError =\n        side === SwapSide.SELL\n          ? 'Source Amount Mismatch'\n          : 'Destination Amount Mismatch';\n\n      // user provides srcAmount or slippage but not both. so we only validate accordingly.\n      assert(\n        areAmountsCorrect({\n          queryParams: params,\n          side,\n          priceRoute,\n        }),\n        AmountMismatchError\n      );\n    }\n\n    // always pass explicit type to make sure UrlSearchParams are correct\n    const search = constructSearchString<SearchStringParams>(options);\n\n    const fetchURL = `${transactionsURL}/${search}` as const;\n\n    const sanitizedParams =\n      'orders' in params && params.orders.length > 0\n        ? {\n            ...params,\n            //  make sure we don't pass more with orders than API expects\n            orders: params.orders.map((order) => {\n              const sanitizedOrderData =\n                'makerAssetId' in order\n                  ? sanitizeNFTOrderData(order) // assetType is provided here, because Order.*Asset may be address\n                  : // if Order received from API by hash\n                    sanitizeLimitOrderData(order);\n\n              const sanitizedOrder: SwappableOrder = {\n                ...sanitizedOrderData,\n                signature: order.signature,\n              };\n\n              if (order.permitMakerAsset) {\n                sanitizedOrder.permitMakerAsset = order.permitMakerAsset;\n              }\n\n              return sanitizedOrder;\n            }),\n          }\n        : params;\n\n    const takeSurplus =\n      params.takeSurplus ??\n      (params.positiveSlippageToUser !== undefined\n        ? !params.positiveSlippageToUser\n        : undefined);\n\n    if ('positiveSlippageToUser' in sanitizedParams) {\n      // positiveSlippageToUser & takeSurplus together will Error in API\n      delete sanitizedParams.positiveSlippageToUser;\n    }\n    if (takeSurplus !== undefined) {\n      sanitizedParams.takeSurplus = takeSurplus;\n    }\n\n    const fetchParams: FetcherPostInput = {\n      url: fetchURL,\n      method: 'POST',\n      data: sanitizedParams,\n      requestParams,\n    };\n\n    const builtTx = await fetcher<TransactionParams>(fetchParams);\n\n    return builtTx;\n  };\n\n  return { buildTx };\n};\n\ninterface AreAmountsCorrectInput {\n  queryParams: { srcAmount?: string; destAmount?: string; slippage?: number };\n  side: SwapSide;\n  priceRoute: OptimalRate;\n}\n\nfunction areAmountsCorrect({\n  queryParams,\n  side,\n  priceRoute,\n}: AreAmountsCorrectInput): boolean {\n  // return early after a simpler check if the user was swapping before filling\n  if (queryParams.slippage) {\n    return (\n      (side === SwapSide.BUY &&\n        queryParams.destAmount === priceRoute.destAmount) ||\n      (side === SwapSide.SELL && queryParams.srcAmount === priceRoute.srcAmount)\n    );\n  }\n\n  // provided amounts match the previously queried price route\n  const [inputAmount, priceRouteAmount] =\n    side === SwapSide.SELL\n      ? [queryParams.srcAmount, priceRoute.srcAmount]\n      : [queryParams.destAmount, priceRoute.destAmount];\n\n  return inputAmount === priceRouteAmount;\n}\n","import { getRandomInt } from '../../../helpers/misc';\nimport type { Address, ParaSwapVersionUnion } from '../../../types';\nimport {\n  Domain,\n  name,\n  version,\n  ZERO_ADDRESS,\n} from '../../common/orders/buildOrderData';\n\nconst Order = [\n  { name: 'nonceAndMeta', type: 'uint256' },\n  { name: 'expiry', type: 'uint128' },\n  { name: 'makerAsset', type: 'address' },\n  { name: 'takerAsset', type: 'address' },\n  { name: 'maker', type: 'address' },\n  { name: 'taker', type: 'address' },\n  { name: 'makerAmount', type: 'uint256' },\n  { name: 'takerAmount', type: 'uint256' },\n];\n\nexport interface BuildOrderDataInput {\n  chainId: number;\n  verifyingContract: Address;\n  nonce?: number;\n  expiry: number;\n  makerAsset: Address;\n  takerAsset: Address;\n  makerAmount: string;\n  takerAmount: string;\n  maker: Address;\n  // OrderData.taker must be Augustus (or other Executor) for p2p limitOrders to involve swap through Augustus\n  /** @description actual user taker which will go into nonceAndMeta */\n  taker?: Address;\n  /** @description contract executor (Augustus or similar) that is allowed to execute the order, gois in Order.taker */\n  contractTaker?: Address;\n\n  AugustusAddress: Address;\n  AppVersion: ParaSwapVersionUnion;\n}\n\nexport type SignableOrderData = {\n  types: { Order: typeof Order };\n  domain: Domain;\n  data: OrderData;\n};\n\nexport type OrderData = {\n  nonceAndMeta: string;\n  expiry: number;\n  makerAsset: string;\n  takerAsset: string;\n  maker: string;\n  taker: string;\n  makerAmount: string;\n  takerAmount: string;\n};\n\nexport function buildOrderData({\n  chainId,\n  verifyingContract,\n  nonce = getRandomInt(),\n  expiry,\n  makerAsset,\n  takerAsset,\n  makerAmount,\n  takerAmount,\n  maker,\n  AugustusAddress,\n  // if taker is specified -- p2p order for that taker only to fill through Augustus (v5) or direcly (v6)-- taker = Augustus | _taker, takerInNonce = _taker\n  // if taker is not specified -- limitOrder for anyone to fill through Augustus or not -- taker = Zero, takerInNonce = Zero\n  taker: takerInNonce = ZERO_ADDRESS,\n  // if given, overrides the above choices made based on `taker`\n  contractTaker,\n  // for v6 only support taker=_taker for OTC orders\n  AppVersion,\n}: BuildOrderDataInput): SignableOrderData {\n  // first 160 bits is taker address (for p2p orders),\n  // or 0 for limitOrders, so that anyone can be the taker of the Order\n  const nonceAndMeta = (\n    BigInt(takerInNonce) +\n    (BigInt(nonce) << BigInt(160))\n  ).toString(10);\n\n  let taker: string;\n  // contractTaker overrides always\n  if (contractTaker) {\n    taker = contractTaker;\n  } else if (takerInNonce === ZERO_ADDRESS) {\n    // no takerInNonce -> not p2p order -> allow anyone to fill (not only Augustus)\n    taker = ZERO_ADDRESS;\n  } else {\n    // otherwise for p2p order ->\n    if (AppVersion.startsWith('6.')) {\n      //support 6.1+ versions\n\n      // limit taker to EOA for v6 version (no Arbitrary Token Swaps + OTC Fill, or OTC Fill through AugustusSwapper)\n      taker = takerInNonce;\n    } else {\n      // on v5\n      // -> fill through Augustus only\n      taker = AugustusAddress;\n    }\n  }\n\n  const order: OrderData = {\n    nonceAndMeta,\n    expiry,\n    makerAsset,\n    takerAsset,\n    maker,\n    taker,\n    makerAmount,\n    takerAmount,\n  };\n\n  return {\n    types: { Order },\n    domain: { name, version, chainId, verifyingContract },\n    data: order,\n  };\n}\n","import { DEFAULT_VERSION } from '../../constants';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { constructGetSpender } from '../swap/spender';\nimport {\n  buildOrderData,\n  BuildOrderDataInput,\n  SignableOrderData,\n} from './helpers/buildOrderData';\nexport * from './helpers/buildOrderData';\n\nexport type BuildLimitOrderInput = Omit<\n  BuildOrderDataInput,\n  'chainId' | 'verifyingContract' | 'AugustusAddress' | 'AppVersion'\n>;\n\ntype BuildLimitOrder = (\n  buildLimitOrderParams: BuildLimitOrderInput,\n  requestParams?: RequestParameters\n) => Promise<SignableOrderData>;\n\nexport type BuildLimitOrderFunctions = {\n  /** @description Build Orders that will be excuted through AugustusSwapper */\n  buildLimitOrder: BuildLimitOrder;\n};\n\nexport const constructBuildLimitOrder = (\n  options: ConstructFetchInput\n): BuildLimitOrderFunctions => {\n  const { chainId } = options;\n\n  // getContracts is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getContracts } = constructGetSpender(options);\n\n  const buildLimitOrder: BuildLimitOrder = async (\n    buildLimitOrderParams,\n    requestParams\n  ) => {\n    const { AugustusSwapper: AugustusAddress, AugustusRFQ: verifyingContract } =\n      await getContracts(requestParams);\n\n    const AppVersion = options.version ?? DEFAULT_VERSION;\n\n    return buildOrderData({\n      ...buildLimitOrderParams,\n      chainId,\n      verifyingContract,\n      AugustusAddress,\n      AppVersion,\n    });\n  };\n\n  return {\n    buildLimitOrder,\n  };\n};\n","import type { ConstructProviderFetchInput } from '../../types';\nimport type { SignableOrderData } from './buildOrder';\nimport { sanitizeOrderData } from './helpers/misc';\n\nexport type SignLimitOrderFunctions = {\n  signLimitOrder: (signableOrderData: SignableOrderData) => Promise<string>;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructSignLimitOrder = (\n  options: Pick<\n    ConstructProviderFetchInput<any, 'signTypedDataCall'>,\n    'contractCaller'\n  >\n): SignLimitOrderFunctions => {\n  const signLimitOrder: SignLimitOrderFunctions['signLimitOrder'] = (\n    typedData\n  ) => {\n    // types allow to pass OrderData & extra_stuff, but tx will break like that\n    const typedDataOnly: SignableOrderData = {\n      ...typedData,\n      data: sanitizeOrderData(typedData.data),\n    };\n    return options.contractCaller.signTypedDataCall(typedDataOnly);\n  };\n\n  return { signLimitOrder };\n};\n","import type { ExtractAbiMethodNames } from '../../helpers/misc';\nimport type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n  TxSendOverrides,\n} from '../../types';\nimport { constructGetSpender } from '../swap/spender';\n\nexport type CancelOrder<T> = (\n  orderHash: string,\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<T>;\n\nexport type CancelOrderBulk<T> = (\n  orderHashes: string[],\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<T>;\n\nexport type CancelLimitOrderFunctions<T> = {\n  cancelLimitOrder: CancelOrder<T>;\n  cancelLimitOrderBulk: CancelOrderBulk<T>;\n};\n\n// much smaller than the whole AugustusRFQ_ABI\nconst MinAugustusRFQAbi = [\n  {\n    inputs: [\n      {\n        internalType: 'bytes32',\n        name: 'orderHash',\n        type: 'bytes32',\n      },\n    ],\n    name: 'cancelOrder',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        internalType: 'bytes32[]',\n        name: 'orderHashes',\n        type: 'bytes32[]',\n      },\n    ],\n    name: 'cancelOrders',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n] as const;\n\ntype AvailableMethods = ExtractAbiMethodNames<typeof MinAugustusRFQAbi>;\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructCancelLimitOrder = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): CancelLimitOrderFunctions<T> => {\n  // getAugustusRFQ is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getAugustusRFQ } = constructGetSpender(options);\n\n  const cancelLimitOrder: CancelOrder<T> = async (\n    orderHash,\n    overrides = {},\n    requestParams\n  ) => {\n    const verifyingContract = await getAugustusRFQ(requestParams);\n\n    const res = await options.contractCaller.transactCall<AvailableMethods>({\n      // @CHECK if verifyingContract is the one we need to approve\n      // maybe a Proxy in-between\n      address: verifyingContract,\n      abi: MinAugustusRFQAbi,\n      contractMethod: 'cancelOrder',\n      args: [orderHash],\n      overrides,\n    });\n\n    return res;\n  };\n\n  const cancelLimitOrderBulk: CancelOrderBulk<T> = async (\n    orderHashes,\n    overrides = {},\n    requestParams\n  ) => {\n    const verifyingContract = await getAugustusRFQ(requestParams);\n\n    const res = await options.contractCaller.transactCall<AvailableMethods>({\n      // @CHECK if verifyingContract is the one we need to approve\n      // maybe a Proxy in-between\n      address: verifyingContract,\n      abi: MinAugustusRFQAbi,\n      contractMethod: 'cancelOrders',\n      args: [orderHashes],\n      overrides,\n    });\n\n    return res;\n  };\n\n  return {\n    cancelLimitOrder,\n    cancelLimitOrderBulk,\n  };\n};\n","type SplitSignatureResult = {\n  v: number;\n  r: string;\n  s: string;\n  compact: string;\n};\n\nexport function splitSignature(signature: string): SplitSignatureResult {\n  // Remove \"0x\" prefix if present\n  if (signature.startsWith('0x')) {\n    signature = signature.slice(2);\n  }\n\n  // Convert the hex string to a byte array\n  const bytes = new Uint8Array(signature.length / 2);\n  for (let i = 0; i < signature.length; i += 2) {\n    bytes[i / 2] = parseInt(signature.slice(i, i + 2), 16);\n  }\n\n  // Validate the signature length (64 or 65 bytes)\n  if (bytes.length !== 64 && bytes.length !== 65) {\n    throw new Error('Invalid signature length: must be 64 or 65 bytes');\n  }\n\n  // Extract r and s components\n  const r = `0x${Array.from(bytes.slice(0, 32), (b) =>\n    b.toString(16).padStart(2, '0')\n  ).join('')}`;\n  let s: string;\n  let v;\n\n  // Handle 64-byte (EIP-2098 compact) and 65-byte signatures\n  if (bytes.length === 64) {\n    // Extract v from the highest bit of s and clear the bit in s\n    v = 27 + (bytes[32]! >> 7);\n    bytes[32]! &= 0x7f; // Clear the highest bit\n    s = `0x${Array.from(bytes.slice(32, 64))\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')}`;\n  } else {\n    s = `0x${Array.from(bytes.slice(32, 64))\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')}`;\n\n    // Extract v directly for 65-byte signature\n    v = bytes[64]!;\n\n    // Normalize v to canonical form (27 or 28)\n    if (v < 27) {\n      v += 27;\n    }\n  }\n\n  // Compute yParityAndS (_vs) for the compact signature\n  const sBytes = Array.from(bytes.slice(32, 64));\n  if (v === 28) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    sBytes[0]! |= 0x80; // Set the highest bit if v is 28\n  }\n  const yParityAndS = `0x${sBytes\n    .map((b) => b.toString(16).padStart(2, '0'))\n    .join('')}`;\n\n  // Construct the compact signature by concatenating r and yParityAndS\n  const compactSignature = r + yParityAndS.slice(2);\n\n  return { v, r, s, compact: compactSignature };\n}\n","import { splitSignature } from './signature';\n\ntype EncodeEIP_2612PermitFunctionInput = {\n  permitSignature: string;\n  owner: string;\n  spender: string;\n  value: string | bigint;\n  deadline: string | number | bigint;\n};\n\n// encoding params for Token.permit() Permit1 function\nexport function encodeEIP_2612PermitFunctionInput({\n  owner,\n  spender,\n  value,\n  deadline,\n  permitSignature,\n}: EncodeEIP_2612PermitFunctionInput): string {\n  const { v, r, s } = splitSignature(permitSignature);\n\n  const encodedOwner = encodeAddress(owner);\n  const encodedSpender = encodeAddress(spender);\n  const encodedValue = encodeUint256(value);\n  const encodedDeadline = encodeUint256(deadline.toString());\n  const encodedV = encodeUint8(v);\n  const encodedR = encodeBytes32(r);\n  const encodedS = encodeBytes32(s);\n\n  // Concatenate all encoded values, stripping the \"0x\" prefix from each (except the first one)\n  return (\n    '0x' +\n    [\n      encodedOwner,\n      encodedSpender,\n      encodedValue,\n      encodedDeadline,\n      encodedV,\n      encodedR,\n      encodedS,\n    ]\n      .map((val) => val.slice(2)) // Remove \"0x\" prefix from each encoded value\n      .join('') // Concatenate the values\n  );\n}\n\ntype EncodeDAIlikePermitFunctionInput = {\n  permitSignature: string;\n  holder: string;\n  spender: string;\n  nonce: number | bigint | string;\n  expiry: number | bigint | string;\n};\n\n// encoding params for DAIlike.permit() function\nexport function encodeDAIlikePermitFunctionInput({\n  permitSignature,\n  holder,\n  spender,\n  nonce,\n  expiry,\n}: EncodeDAIlikePermitFunctionInput): string {\n  const { v, r, s } = splitSignature(permitSignature);\n\n  const encodedHolder = encodeAddress(holder);\n  const encodedSpender = encodeAddress(spender);\n  const encodedNonce = encodeUint256(nonce.toString());\n  const encodedExpiry = encodeUint256(expiry.toString());\n  const encodedV = encodeUint8(v);\n  const encodedR = encodeBytes32(r);\n  const encodedS = encodeBytes32(s);\n\n  // Concatenate all encoded values, stripping the \"0x\" prefix from each (except the first one)\n  return (\n    '0x' +\n    [\n      encodedHolder,\n      encodedSpender,\n      encodedNonce,\n      encodedExpiry,\n      encodeBool(true), //allowed=true\n      encodedV,\n      encodedR,\n      encodedS,\n    ]\n      .map((val) => val.slice(2)) // Remove \"0x\" prefix from each encoded value\n      .join('') // Concatenate the values\n  );\n}\n\n// encode an address (20 bytes) into 32 bytes\nexport function encodeAddress(address: string): string {\n  const strippedAddress = address.replace(/^0x/, ''); // Remove \"0x\" prefix\n  return '0x' + strippedAddress.toLowerCase().padStart(64, '0');\n}\n\n// encode a uint256 value\nexport function encodeUint256(value: string | bigint): string {\n  const bn = BigInt(value);\n  return '0x' + bn.toString(16).padStart(64, '0');\n}\n\n// encode a uint8 value\nexport function encodeUint8(value: number | bigint): string {\n  return '0x' + value.toString(16).padStart(64, '0');\n}\n\n// encode a bytes32 value\nexport function encodeBytes32(value: string): string {\n  const strippedValue = value.replace(/^0x/, ''); // Remove \"0x\" prefix\n  return '0x' + strippedValue.padStart(64, '0').toLowerCase();\n}\n\n//encode a boolean\nexport function encodeBool(value: boolean): string {\n  const encodedValue = value ? '1' : '0';\n  // padded to 32 bytes\n  return '0x' + encodedValue.padStart(64, '0');\n}\n\n/* \nconst EIP_2612_PERMIT_ABI = [\n  {\n    constant: false,\n    inputs: [\n      {\n        name: 'owner',\n        type: 'address',\n      },\n      {\n        name: 'spender',\n        type: 'address',\n      },\n      {\n        name: 'value',\n        type: 'uint256',\n      },\n      {\n        name: 'deadline',\n        type: 'uint256',\n      },\n      {\n        name: 'v',\n        type: 'uint8',\n      },\n      {\n        name: 'r',\n        type: 'bytes32',\n      },\n      {\n        name: 's',\n        type: 'bytes32',\n      },\n    ],\n    name: 'permit',\n    outputs: [],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n]; \n*/\n\n/* \nconst DAI_EIP_2612_PERMIT_ABI = [\n  {\n    constant: false,\n    inputs: [\n      {\n        internalType: 'address',\n        name: 'holder',\n        type: 'address',\n      },\n      {\n        internalType: 'address',\n        name: 'spender',\n        type: 'address',\n      },\n      {\n        internalType: 'uint256',\n        name: 'nonce',\n        type: 'uint256',\n      },\n      {\n        internalType: 'uint256',\n        name: 'expiry',\n        type: 'uint256',\n      },\n      {\n        internalType: 'bool',\n        name: 'allowed',\n        type: 'bool',\n      },\n      {\n        internalType: 'uint8',\n        name: 'v',\n        type: 'uint8',\n      },\n      {\n        internalType: 'bytes32',\n        name: 'r',\n        type: 'bytes32',\n      },\n      {\n        internalType: 'bytes32',\n        name: 's',\n        type: 'bytes32',\n      },\n    ],\n    name: 'permit',\n    outputs: [],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n];\n */\n","import type { ExtractAbiMethodNames } from '../../helpers/misc';\nimport type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n  TxSendOverrides,\n} from '../../types';\nimport type { OrderData } from './buildOrder';\nimport { constructGetSpender } from '../swap/spender';\nimport { sanitizeOrderData } from './helpers/misc';\nimport {\n  encodeDAIlikePermitFunctionInput,\n  encodeEIP_2612PermitFunctionInput,\n} from '../common/orders/encoding';\n\nexport type FillOrderDirectlyFunctions<T> = {\n  fillOrderDirectly: FillOrderDirectly<T>;\n};\n\ntype TakerPermitEncodedInputParams = {\n  encodedPermitParams: string;\n};\n\ntype TakerPermit1Data = {\n  signature: string;\n  deadline: number | bigint | string;\n  amount?: string;\n  isDaiPermit?: false;\n};\n\ntype TakerDaiPermitData = {\n  signature: string;\n  expiry: number | bigint | string;\n  nonce: number | bigint | string;\n  isDaiPermit: true;\n};\n\ntype TakerPermitObject =\n  | TakerPermitEncodedInputParams\n  | TakerPermit1Data\n  | TakerDaiPermitData;\n\nexport type FillOrderDirectly<T> = (\n  orderFillData: {\n    order: OrderData;\n    signature: string;\n    /** @description Permit1 data or DAI Permit data or Token.parmit() input params encoded; Permit by taker for Taker Asset with AugustusRFQ as spender */\n    takerPermit?: TakerPermitObject;\n  },\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<T>;\n\n// much smaller than the whole AugustusRFQ_ABI\nconst MinAugustusRFQAbi = [\n  {\n    inputs: [\n      {\n        components: [\n          {\n            internalType: 'uint256',\n            name: 'nonceAndMeta',\n            type: 'uint256',\n          },\n          {\n            internalType: 'uint128',\n            name: 'expiry',\n            type: 'uint128',\n          },\n          {\n            internalType: 'address',\n            name: 'makerAsset',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'takerAsset',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'maker',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'taker',\n            type: 'address',\n          },\n          {\n            internalType: 'uint256',\n            name: 'makerAmount',\n            type: 'uint256',\n          },\n          {\n            internalType: 'uint256',\n            name: 'takerAmount',\n            type: 'uint256',\n          },\n        ],\n        internalType: 'struct AugustusRFQ.Order',\n        name: 'order',\n        type: 'tuple',\n      },\n      {\n        internalType: 'bytes',\n        name: 'signature',\n        type: 'bytes',\n      },\n    ],\n    name: 'fillOrder',\n    outputs: [],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n  {\n    inputs: [\n      {\n        components: [\n          {\n            internalType: 'uint256',\n            name: 'nonceAndMeta',\n            type: 'uint256',\n          },\n          {\n            internalType: 'uint128',\n            name: 'expiry',\n            type: 'uint128',\n          },\n          {\n            internalType: 'address',\n            name: 'makerAsset',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'takerAsset',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'maker',\n            type: 'address',\n          },\n          {\n            internalType: 'address',\n            name: 'taker',\n            type: 'address',\n          },\n          {\n            internalType: 'uint256',\n            name: 'makerAmount',\n            type: 'uint256',\n          },\n          {\n            internalType: 'uint256',\n            name: 'takerAmount',\n            type: 'uint256',\n          },\n        ],\n        internalType: 'struct AugustusRFQ.Order',\n        name: 'order',\n        type: 'tuple',\n      },\n      {\n        internalType: 'bytes',\n        name: 'signature',\n        type: 'bytes',\n      },\n      {\n        internalType: 'uint256',\n        name: 'takerTokenFillAmount',\n        type: 'uint256',\n      },\n      {\n        internalType: 'address',\n        name: 'target',\n        type: 'address',\n      },\n      {\n        internalType: 'bytes',\n        name: 'permitTakerAsset',\n        type: 'bytes',\n      },\n      {\n        internalType: 'bytes',\n        name: 'permitMakerAsset',\n        type: 'bytes',\n      },\n    ],\n    name: 'partialFillOrderWithTargetPermit',\n    outputs: [\n      {\n        internalType: 'uint256',\n        name: 'makerTokenFilledAmount',\n        type: 'uint256',\n      },\n    ],\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n] as const;\n\ntype FillOrderMethods = ExtractAbiMethodNames<typeof MinAugustusRFQAbi>;\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport function constructFillOrderDirectly<T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): FillOrderDirectlyFunctions<T> {\n  // getAugustusRFQ is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getAugustusRFQ } = constructGetSpender(options);\n\n  const fillOrderDirectly: FillOrderDirectly<T> = async (\n    { order, signature, takerPermit },\n    overrides = {},\n    requestParams\n  ) => {\n    const AugustusRFQ = await getAugustusRFQ(requestParams);\n\n    const sanitizedOrder = sanitizeOrderData(order);\n\n    if (!takerPermit) {\n      const res = await options.contractCaller.transactCall<FillOrderMethods>({\n        address: AugustusRFQ,\n        abi: MinAugustusRFQAbi,\n        contractMethod: 'fillOrder',\n        args: [sanitizedOrder, signature],\n        overrides,\n      });\n\n      return res;\n    }\n\n    let permitTakerAsset: string;\n    if ('encodedPermitParams' in takerPermit) {\n      permitTakerAsset = takerPermit.encodedPermitParams;\n    } else if ('isDaiPermit' in takerPermit && takerPermit.isDaiPermit) {\n      // encoded DAI.permit() function params by taker with AugustusRFQ as spender\n      permitTakerAsset = encodeDAIlikePermitFunctionInput({\n        holder: order.taker,\n        spender: AugustusRFQ,\n        expiry: takerPermit.expiry,\n        nonce: takerPermit.nonce,\n        permitSignature: takerPermit.signature,\n      });\n    } else {\n      // encoded TakerAsset.permit() function params by taker with AugustusRFQ as spender, Permit1 only\n      permitTakerAsset = encodeEIP_2612PermitFunctionInput({\n        owner: order.taker,\n        spender: AugustusRFQ,\n        value: takerPermit.amount || order.takerAmount, // can use permit with a bigger value, fallback to exact Order takerAmount\n        deadline: takerPermit.deadline,\n        permitSignature: takerPermit.signature,\n      });\n    }\n\n    const res = await options.contractCaller.transactCall<FillOrderMethods>({\n      address: AugustusRFQ,\n      abi: MinAugustusRFQAbi,\n      contractMethod: 'partialFillOrderWithTargetPermit',\n      args: [\n        sanitizedOrder, // order\n        signature, // order.signature\n        order.takerAmount, // takerTokenFillAmount, can even partially fill\n        order.taker, // target\n        permitTakerAsset,\n        '0x', // permitMakerAsset, unused because hard to account for changing nonce for long running Orders\n      ],\n      overrides,\n    });\n\n    return res;\n  };\n\n  return { fillOrderDirectly };\n}\n","// @TODO getOrder, getOrders from API\n// onchain from contract can't distinguish between filled or cancelled\nimport { API_URL } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\nimport {\n  constructBaseFetchUrlGetter,\n  GetOrdersURLs,\n  GetOrderURL,\n  GetRequiredAllowanceURL as GetRequiredBalanceURL,\n} from './helpers/misc';\nimport type {\n  LimitOrderFromApi,\n  LimitOrdersApiResponse,\n  LimitOrderType,\n} from './helpers/types';\n\ntype PaginationParams = {\n  limit?: number;\n  offset?: number;\n  hideSmallBalances?: boolean;\n  orderBy?: 'createdAt' | 'updatedAt' | 'expiry';\n};\n\n//                     get orders by `maker` or `taker`\nexport type LimitOrdersUserParams = (\n  | { maker: Address; type: LimitOrderType }\n  | { taker: Address; type: LimitOrderType }\n) &\n  PaginationParams;\n\nexport type GetRequiredAllowanceParams = {\n  maker: Address;\n  token?: Address;\n};\n\ntype GetLimitOrderByHash = (\n  orderHash: string,\n  requestParams?: RequestParameters\n) => Promise<LimitOrderFromApi>;\ntype GetLimitOrders = (\n  userParams: LimitOrdersUserParams,\n  requestParams?: RequestParameters\n) => Promise<LimitOrdersApiResponse>;\n\ntype GetRequiredBalance = (\n  userParams: GetRequiredAllowanceParams,\n  requestParams?: RequestParameters\n) => Promise<Record<string, string>>;\n\nexport type GetLimitOrdersFunctions = {\n  getLimitOrders: GetLimitOrders;\n  getLimitOrderByHash: GetLimitOrderByHash;\n  /**\n   * Gets fillableBalance for tokens from user's active orders.\n   * User needs to have enough balance & allowance to cover active orders before creating new orders.\n   * @param userParams - parameters to get allowance for active orders\n   * @param {string} userParams.maker - user to get required allowances for\n   * @param {string=} userParams.token - if given `token`, the mapping will contain that token address only\n   * @param {RequestParameters=} requestParams - requestParams passed to fetcher, can include {signal: AbortSignal, timeout: for axios, etc.}\n   * @returns `{Lowercase<Address> => wei number as string}` mapping of token to fillableBalance\n   */\n  getRequiredBalance: GetRequiredBalance;\n};\n\nexport const constructGetLimitOrders = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetLimitOrdersFunctions => {\n  const getBaseFetchURLByEntityType = constructBaseFetchUrlGetter({\n    apiURL,\n    chainId,\n  });\n\n  const getLimitOrders: GetLimitOrders = async (userParams, requestParams) => {\n    const baseFetchURL = getBaseFetchURLByEntityType(userParams.type);\n    const userURL =\n      'maker' in userParams\n        ? (`maker/${userParams.maker}` as const)\n        : (`taker/${userParams.taker}` as const);\n\n    const { offset, limit, hideSmallBalances, orderBy } = userParams;\n    const search = constructSearchString<PaginationParams>({\n      offset,\n      limit,\n      hideSmallBalances,\n      orderBy,\n    });\n\n    const fetchURL = `${baseFetchURL}/${userURL}${search}` as const;\n\n    const response = await fetcher<LimitOrdersApiResponse, GetOrdersURLs>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    // without any extra calls, return  what API returns\n    return response;\n  };\n\n  const getRequiredBalance: GetRequiredBalance = async (\n    userParams,\n    requestParams\n  ) => {\n    const baseFetchURL = getBaseFetchURLByEntityType('fillablebalance');\n    const userURL = `${baseFetchURL}/${userParams.maker}` as const;\n    const fetchURL = userParams.token\n      ? (`${userURL}/${userParams.token}` as const)\n      : userURL;\n\n    const response = await fetcher<\n      Record<string, string>,\n      GetRequiredBalanceURL\n    >({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    // without any extra calls, return  what API returns\n    return response;\n  };\n\n  const getLimitOrderByHash: GetLimitOrderByHash = async (\n    orderHash,\n    requestParams\n  ) => {\n    const baseFetchURL = getBaseFetchURLByEntityType();\n    const fetchURL = `${baseFetchURL}/${orderHash}` as const;\n\n    const order = await fetcher<LimitOrderFromApi, GetOrderURL>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return order;\n  };\n\n  return {\n    getLimitOrders,\n    getLimitOrderByHash,\n    getRequiredBalance,\n  };\n};\n","import { API_URL } from '../../constants';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { constructBaseFetchUrlGetter, PostOrderURLs } from './helpers/misc';\nimport type {\n  LimitOrderApiResponse,\n  LimitOrderToSend,\n  LimitOrderFromApi,\n  LimitOrderType,\n} from './helpers/types';\n\ntype PostLimitOrder = (\n  limitOrderWithSignatureAndPermit: LimitOrderToSend,\n  requestParams?: RequestParameters\n) => Promise<LimitOrderFromApi>;\n\nexport type PostLimitOrderFunctions = {\n  postLimitOrder: PostLimitOrder;\n  postP2POrder: PostLimitOrder;\n};\n\nexport const constructPostLimitOrder = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): PostLimitOrderFunctions => {\n  const getBaseFetchURLByOrderType = constructBaseFetchUrlGetter({\n    apiURL,\n    chainId,\n  });\n\n  const postTypedOrder = async (\n    limitOrderWithSignatureAndPermit: LimitOrderToSend,\n    type: LimitOrderType,\n    requestParams?: RequestParameters\n  ): Promise<LimitOrderFromApi> => {\n    const fetchURL = getBaseFetchURLByOrderType(type);\n\n    const { order: newOrder } = await fetcher<\n      LimitOrderApiResponse,\n      PostOrderURLs\n    >({\n      url: fetchURL,\n      method: 'POST',\n      data: limitOrderWithSignatureAndPermit,\n      requestParams,\n    });\n\n    return newOrder;\n  };\n\n  const postLimitOrder: PostLimitOrder = (\n    limitOrderWithSignatureAndPermit,\n    requestParams\n  ) => {\n    return postTypedOrder(\n      limitOrderWithSignatureAndPermit,\n      'LIMIT',\n      requestParams\n    );\n  };\n\n  const postP2POrder: PostLimitOrder = (\n    limitOrderWithSignatureAndPermit,\n    requestParams\n  ) => {\n    return postTypedOrder(\n      limitOrderWithSignatureAndPermit,\n      'P2P',\n      requestParams\n    );\n  };\n\n  return { postLimitOrder, postP2POrder };\n};\n","import type { ConstructProviderFetchInput } from '../../types';\nimport { ApproveToken, approveTokenMethodFactory } from '../../helpers/approve';\nimport { constructApproveToken } from '../swap/approve';\nimport { constructGetSpender } from '../swap/spender';\n\nexport type ApproveTokenForLimitOrderFunctions<T> = {\n  /** @description approving AugustusRFQ as spender for makerAsset */\n  approveMakerTokenForLimitOrder: ApproveToken<T>;\n  /** @description approving AugustusRFQ as spender for takerAsset to call SDK.fillOrderDirectly */\n  approveTakerTokenForFillingP2POrderDirectly: ApproveToken<T>;\n  /** @description approving AugustusSwapper as spender for takerAsset for Limit Orders that will be executed through it */\n  approveTakerTokenForLimitOrder: ApproveToken<T>;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructApproveTokenForLimitOrder = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): ApproveTokenForLimitOrderFunctions<T> => {\n  // getAugustusRFQ is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getAugustusRFQ } = constructGetSpender(options);\n\n  const approveMakerTokenForLimitOrder: ApproveToken<T> =\n    approveTokenMethodFactory<T>(options.contractCaller, getAugustusRFQ);\n\n  // approving TokenTransaferProxy as for the swap\n  const { approveToken: approveTakerTokenForLimitOrder } =\n    constructApproveToken(options);\n\n  return {\n    approveMakerTokenForLimitOrder,\n    approveTakerTokenForFillingP2POrderDirectly: approveMakerTokenForLimitOrder,\n    approveTakerTokenForLimitOrder,\n  };\n};\n","import type { ConstructFetchInput } from '../../types';\nimport { constructGetSpender, GetSpender } from '../swap/spender';\n\nexport type GetLimitOrdersContractFunctions = {\n  getLimitOrdersContract: GetSpender;\n  getTokenTransferProxy: GetSpender;\n};\n\nexport const constructGetLimitOrdersContract = (\n  options: ConstructFetchInput\n): GetLimitOrdersContractFunctions => {\n  // analogous to getSpender() but for Limit Orders Contract = AugustusRFQ\n\n  const {\n    getSpender: getTokenTransferProxy,\n    getAugustusRFQ: getLimitOrdersContract,\n  } = constructGetSpender(options);\n\n  return { getLimitOrdersContract, getTokenTransferProxy };\n};\n","import type { ConstructFetchInput, OptimalRate } from '../../types';\n\nimport { assert } from 'ts-essentials';\nimport {\n  API_URL,\n  SwapSide,\n  ContractMethod,\n  DEFAULT_VERSION,\n} from '../../constants';\nimport {\n  BuildLimitOrderTxInput,\n  BuildOptions,\n  BuildSwapAndLimitOrderTxInput,\n  TransactionParams,\n  constructBuildTx,\n} from '../swap/transaction';\nimport { constructGetRate, GetRateInput, RateOptions } from '../swap/rates';\nimport type { OrderData } from './buildOrder';\nimport { isFilledArray } from '../../helpers/misc';\nimport type { RequestParameters } from '../../types';\n\ntype MinBuildSwapAndLimitOrderTxInput = Omit<\n  // these are derived from `orders`\n  BuildSwapAndLimitOrderTxInput,\n  'srcToken' | 'srcAmount' | 'destToken' | 'destDecimals'\n>;\n\ntype BuildSwapAndLimitOrdersTx = (\n  params: MinBuildSwapAndLimitOrderTxInput,\n  options?: BuildOptions,\n  requestParams?: RequestParameters\n) => Promise<TransactionParams>;\n\ntype MinBuildLimitOrderTxInput = Omit<\n  BuildLimitOrderTxInput,\n  // these are derived from `orders`\n  'srcToken' | 'srcAmount' | 'destToken' | 'slippage'\n  // `slippage` doesn't participate as we derive `srcAmount` already\n>;\n\ntype BuildLimitOrdersTx = (\n  params: MinBuildLimitOrderTxInput,\n  options?: BuildOptions,\n  requestParams?: RequestParameters\n) => Promise<TransactionParams>;\n\nexport type BuildLimitOrdersTxFunctions = {\n  getLimitOrdersRate: GetLimitOrdersRate;\n  buildLimitOrderTx: BuildLimitOrdersTx;\n  buildSwapAndLimitOrderTx: BuildSwapAndLimitOrdersTx;\n};\n\ntype GetLimitOrdersRate = (\n  // `amount`, if given, must equal the total of the orders' `takerAmounts`\n  options: Omit<GetRateInput, 'amount' | 'side'> & { amount?: string },\n  orders: CheckableOrderData[],\n  requestParams?: RequestParameters\n) => Promise<OptimalRate>;\n\nexport const constructBuildLimitOrderTx = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): BuildLimitOrdersTxFunctions => {\n  const { buildTx: buildSwapTx } = constructBuildTx({\n    apiURL,\n    chainId,\n    fetcher,\n    version,\n  });\n\n  const { getRate: getSwapAndLimitOrderRate } = constructGetRate({\n    apiURL,\n    version,\n    chainId,\n    fetcher,\n  });\n\n  //  returns priceRoute that would allow to swap from srcToken to destToken(=order.takerAsset) followed by filling limit orders\n  const getLimitOrdersRate: GetLimitOrdersRate = async (\n    { srcToken, destToken, amount, options: _options = {}, ...rest },\n    orders,\n    requestParams\n  ) => {\n    assert(orders.length > 0, 'must pass at least 1 order');\n\n    const { totalTakerAmount, takerAsset } = checkAndParseOrders(orders);\n    assert(\n      takerAsset.toLowerCase() === destToken.toLowerCase(),\n      'All orders must have the same takerAsset as destToken'\n    );\n\n    const takerAmountString = totalTakerAmount.toString(10);\n\n    if (amount) {\n      assert(\n        amount === takerAmountString,\n        \"`amount` must equal the total of the orders' `takerAmounts`\"\n      );\n    }\n\n    // The pricing must use includeContractMethods=simpleBuy and side=BUY\n    const options: RateOptions = {\n      ..._options,\n      includeContractMethods: [ContractMethod.simpleBuy],\n    };\n\n    const side = SwapSide.BUY;\n\n    const rateInput: GetRateInput = {\n      ...rest,\n      srcToken,\n      destToken,\n      amount: takerAmountString,\n      side,\n      options,\n    };\n\n    // priceRoute\n    const optimalRate = await getSwapAndLimitOrderRate(\n      rateInput,\n      requestParams\n    );\n    return optimalRate;\n  };\n\n  // derive srcToken, destToken and srcAmount from orders[]\n  const buildLimitOrderTx: BuildLimitOrdersTx = (\n    params,\n    options,\n    requestParams\n  ) => {\n    const { makerAsset, takerAsset, totalTakerAmount } = checkAndParseOrders(\n      params.orders\n    );\n\n    const fillParams: BuildLimitOrderTxInput = {\n      ...params,\n      // taker supplies takerAsset\n      srcToken: takerAsset,\n      // no `slippage` in `params`\n      srcAmount: totalTakerAmount.toString(10),\n      // taker gets makerAsset in the end\n      destToken: makerAsset,\n    };\n\n    return buildSwapTx(fillParams, options, requestParams);\n  };\n\n  const buildSwapAndLimitOrderTx: BuildSwapAndLimitOrdersTx = (\n    params,\n    options,\n    requestParams\n  ) => {\n    const { makerAsset } = checkAndParseOrders(params.orders);\n\n    const fillParams: BuildSwapAndLimitOrderTxInput = {\n      ...params,\n      // taker supplies srcToken\n      srcToken: params.priceRoute.srcToken,\n      // which is swapped for makerAsset, that would go towards filling the orders\n      destToken: makerAsset,\n      destDecimals: params.priceRoute.destDecimals,\n      // one or the other\n      ...(params.slippage\n        ? { slippage: params.slippage }\n        : //                                        may sneak in as part of `params`\n          { srcAmount: params.priceRoute.srcAmount, slippage: undefined }),\n    };\n\n    return buildSwapTx(fillParams, options, requestParams);\n  };\n\n  return {\n    getLimitOrdersRate,\n    buildLimitOrderTx,\n    buildSwapAndLimitOrderTx,\n  };\n};\n\ntype CheckAndParseOrdersResult = Omit<CheckableOrderData, 'takerAmount'> & {\n  totalTakerAmount: bigint;\n};\n\ntype CheckableOrderData = Pick<\n  OrderData,\n  'takerAsset' | 'makerAsset' | 'takerAmount' | 'maker'\n> & { taker?: OrderData['taker'] };\n\nfunction checkAndParseOrders(\n  orders: CheckableOrderData[]\n): CheckAndParseOrdersResult {\n  assert(isFilledArray(orders), 'must pass at least 1 order');\n\n  const { takerAssetsSet, makerAssetsSet, totalTakerAmount } = orders.reduce<\n    Record<'takerAssetsSet' | 'makerAssetsSet', Set<string>> & {\n      totalTakerAmount: bigint;\n    }\n  >(\n    (accum, order) => {\n      accum.takerAssetsSet.add(order.takerAsset.toLowerCase());\n      accum.makerAssetsSet.add(order.makerAsset.toLowerCase());\n\n      accum.totalTakerAmount =\n        accum.totalTakerAmount + BigInt(order.takerAmount);\n      return accum;\n    },\n    {\n      takerAssetsSet: new Set(),\n      makerAssetsSet: new Set(),\n      totalTakerAmount: BigInt(0),\n    }\n  );\n\n  assert(\n    takerAssetsSet.size === 1,\n    'All orders must have the same takerAsset as destToken'\n  );\n  assert(makerAssetsSet.size === 1, 'All orders must have the same makerAsset');\n\n  const [{ maker, taker, makerAsset, takerAsset }] = orders;\n\n  return {\n    totalTakerAmount,\n    maker,\n    taker,\n    makerAsset,\n    takerAsset,\n  };\n}\n","import type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { constructGetSpender } from '../swap/spender';\nimport {\n  buildOrderData,\n  BuildNFTOrderDataInput,\n  SignableNFTOrderData,\n} from './helpers/buildOrderData';\nexport * from './helpers/buildOrderData';\n\nexport type BuildNFTOrderInput = Omit<\n  BuildNFTOrderDataInput,\n  'chainId' | 'verifyingContract' | 'AugustusAddress'\n>;\n\ntype BuildNFTOrder = (\n  buildNFTOrderParams: BuildNFTOrderInput,\n  requestParams?: RequestParameters\n) => Promise<SignableNFTOrderData>;\n\nexport type BuildNFTOrderFunctions = {\n  /** @description Build Orders that will be excuted through AugustusSwapper */\n  buildNFTOrder: BuildNFTOrder;\n};\n\nexport const constructBuildNFTOrder = (\n  options: ConstructFetchInput\n): BuildNFTOrderFunctions => {\n  const { chainId } = options;\n\n  // getContracts is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getContracts } = constructGetSpender(options);\n\n  const buildNFTOrder: BuildNFTOrder = async (\n    buildNFTOrderParams,\n    requestParams\n  ) => {\n    const { AugustusSwapper: AugustusAddress, AugustusRFQ: verifyingContract } =\n      await getContracts(requestParams);\n\n    return buildOrderData({\n      ...buildNFTOrderParams,\n      chainId,\n      verifyingContract,\n      AugustusAddress,\n    });\n  };\n\n  return {\n    buildNFTOrder,\n  };\n};\n","import type { ConstructProviderFetchInput } from '../../types';\nimport type { SignableNFTOrderData } from './buildOrder';\nimport { sanitizeOrderData } from './helpers/misc';\n\nexport type SignNFTOrderFunctions = {\n  signNFTOrder: (signableOrderData: SignableNFTOrderData) => Promise<string>;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructSignNFTOrder = (\n  options: Pick<\n    ConstructProviderFetchInput<any, 'signTypedDataCall'>,\n    'contractCaller'\n  >\n): SignNFTOrderFunctions => {\n  const signNFTOrder: SignNFTOrderFunctions['signNFTOrder'] = (typedData) => {\n    // types allow to pass OrderData & extra_stuff, but tx will break like that\n    const typedDataOnly: SignableNFTOrderData = {\n      ...typedData,\n      // here assetType isn't provided, SignableData must already have corrent BigIntAsString\n      // @TODO consider using `template_${types}` for Address, likely bad idea when considering 3rd-party code\n      data: sanitizeOrderData(typedData.data),\n    };\n    return options.contractCaller.signTypedDataCall(typedDataOnly);\n  };\n\n  return { signNFTOrder };\n};\n","import type { ConstructProviderFetchInput } from '../../types';\nimport {\n  CancelOrder,\n  CancelOrderBulk,\n  constructCancelLimitOrder,\n} from '../limitOrders/cancelOrder';\n\nexport type CancelNFTOrderFunctions<T> = {\n  cancelNFTOrder: CancelOrder<T>;\n  cancelNFTOrderBulk: CancelOrderBulk<T>;\n};\n\n// should work the same as for LimitOrders\nexport const constructCancelNFTOrder = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): CancelNFTOrderFunctions<T> => {\n  const { cancelLimitOrder, cancelLimitOrderBulk } =\n    constructCancelLimitOrder(options);\n  return {\n    cancelNFTOrder: cancelLimitOrder,\n    cancelNFTOrderBulk: cancelLimitOrderBulk,\n  };\n};\n","import { API_URL } from '../../constants';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\nimport {\n  constructBaseFetchUrlGetter,\n  GetOrdersURLs,\n  GetOrderURL,\n} from './helpers/misc';\nimport type {\n  NFTOrderFromAPI,\n  NFTOrdersApiResponse,\n  NFTOrderType,\n} from './helpers/types';\n\n//                     get orders by `maker` or `taker`\nexport type NFTOrdersUserParams =\n  | { maker: Address; type: NFTOrderType }\n  | { taker: Address; type: NFTOrderType };\ntype GetNFTOrderByHash = (\n  orderHash: string,\n  requestParams?: RequestParameters\n) => Promise<NFTOrderFromAPI>;\ntype GetNFTOrders = (\n  userParams: NFTOrdersUserParams,\n  requestParams?: RequestParameters\n) => Promise<NFTOrdersApiResponse>;\n\nexport type GetNFTOrdersFunctions = {\n  getNFTOrders: GetNFTOrders;\n  getNFTOrderByHash: GetNFTOrderByHash;\n};\n\nexport const constructGetNFTOrders = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetNFTOrdersFunctions => {\n  const getBaseFetchURLByOrderType = constructBaseFetchUrlGetter({\n    apiURL,\n    chainId,\n  });\n\n  const getNFTOrders: GetNFTOrders = async (userParams, requestParams) => {\n    const baseFetchURL = getBaseFetchURLByOrderType(userParams.type);\n    const userURL =\n      'maker' in userParams\n        ? (`maker/${userParams.maker}` as const)\n        : (`taker/${userParams.taker}` as const);\n    const fetchURL = `${baseFetchURL}/${userURL}` as const;\n\n    const response = await fetcher<NFTOrdersApiResponse, GetOrdersURLs>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    // without any extra calls, return  what API returns\n    return response;\n  };\n\n  const getNFTOrderByHash: GetNFTOrderByHash = async (\n    orderHash,\n    requestParams\n  ) => {\n    const baseFetchURL = getBaseFetchURLByOrderType();\n    const fetchURL = `${baseFetchURL}/${orderHash}` as const;\n\n    const order = await fetcher<NFTOrderFromAPI, GetOrderURL>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return order;\n  };\n\n  return {\n    getNFTOrders,\n    getNFTOrderByHash,\n  };\n};\n","import { API_URL } from '../../constants';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { constructBaseFetchUrlGetter, PostOrderURLs } from './helpers/misc';\nimport type {\n  NFTOrderToSend,\n  NFTOrderType,\n  NFTOrderFromAPI,\n  NFTOrderApiResponse,\n} from './helpers/types';\n\ntype PostNFTOrder = (\n  NFTOrderWithSignatureAndPermit: NFTOrderToSend,\n  requestParams?: RequestParameters\n) => Promise<NFTOrderFromAPI>;\n\nexport type PostNFTOrderFunctions = {\n  postNFTLimitOrder: PostNFTOrder;\n  postNFTP2POrder: PostNFTOrder;\n};\n\nexport const constructPostNFTOrder = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): PostNFTOrderFunctions => {\n  const getBaseFetchURLByOrderType = constructBaseFetchUrlGetter({\n    apiURL,\n    chainId,\n  });\n\n  const postTypedOrder = async (\n    NFTOrderWithSignatureAndPermit: NFTOrderToSend,\n    type: NFTOrderType,\n    requestParams?: RequestParameters\n  ): Promise<NFTOrderFromAPI> => {\n    const fetchURL = getBaseFetchURLByOrderType(type);\n\n    // @TODO check API return matches\n    const { order: newOrder } = await fetcher<\n      NFTOrderApiResponse,\n      PostOrderURLs\n    >({\n      url: fetchURL,\n      method: 'POST',\n      data: NFTOrderWithSignatureAndPermit,\n      requestParams,\n    });\n\n    return { ...newOrder };\n  };\n\n  const postNFTLimitOrder: PostNFTOrder = (\n    NFTOrderWithSignatureAndPermit,\n    requestParams\n  ) => {\n    return postTypedOrder(\n      NFTOrderWithSignatureAndPermit,\n      'LIMIT',\n      requestParams\n    );\n  };\n\n  const postNFTP2POrder: PostNFTOrder = (\n    NFTOrderWithSignatureAndPermit,\n    requestParams\n  ) => {\n    return postTypedOrder(NFTOrderWithSignatureAndPermit, 'P2P', requestParams);\n  };\n\n  return { postNFTLimitOrder, postNFTP2POrder };\n};\n","import type { ConstructFetchInput } from '../../types';\nimport { constructGetSpender, GetSpender } from '../swap/spender';\n\nexport type GetNFTOrdersContractFunctions = {\n  getNFTOrdersContract: GetSpender;\n  getTokenTransferProxy: GetSpender;\n};\n\n// should work the same as LimitOrders\nexport const constructGetNFTOrdersContract = (\n  options: ConstructFetchInput\n): GetNFTOrdersContractFunctions => {\n  // analogous to getSpender() but for Limit Orders Contract = AugustusRFQ\n\n  const {\n    getSpender: getTokenTransferProxy,\n    getAugustusRFQ: getNFTOrdersContract,\n  } = constructGetSpender(options);\n\n  return {\n    getNFTOrdersContract,\n    getTokenTransferProxy,\n  };\n};\n","import type { ApproveToken } from '../../helpers/approve';\nimport type { ExtractAbiMethodNames } from '../../helpers/misc';\nimport type {\n  Address,\n  ConstructProviderFetchInput,\n  RequestParameters,\n  TxSendOverrides,\n} from '../../types';\nimport { constructApproveToken } from '../swap/approve';\nimport { constructGetNFTOrdersContract } from './getOrdersContract';\n\ntype ApproveNFT<T> = (\n  tokenAddress: Address,\n  overrides?: TxSendOverrides,\n  requestParams?: RequestParameters\n) => Promise<T>;\n\nexport type ApproveTokenForNFTOrderFunctions<T> = {\n  /** @description approving AugustusSwapper as spender for takerAsset (ERC20) for Limit Orders that will be executed through it */\n  approveERC20ForNFTOrder: ApproveToken<T>;\n  /** @description approving AugustusRFQ as spender for makerAsset (NFT) */\n  approveNFTForNFTOrder: ApproveNFT<T>;\n};\n\nconst MinNFTAbi = [\n  {\n    constant: false,\n    inputs: [\n      {\n        name: '_operator',\n        type: 'address',\n      },\n      {\n        name: '_approved',\n        type: 'bool',\n      },\n    ],\n    name: 'setApprovalForAll',\n    outputs: [],\n    payable: false,\n    stateMutability: 'nonpayable',\n    type: 'function',\n  },\n] as const;\n\ntype ApprovalMethods = ExtractAbiMethodNames<typeof MinNFTAbi>;\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructApproveTokenForNFTOrder = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): ApproveTokenForNFTOrderFunctions<T> => {\n  // approving TokenTransaferProxy as for the swap\n  const { approveToken: approveERC20ForNFTOrder } =\n    constructApproveToken(options);\n\n  const { getNFTOrdersContract } = constructGetNFTOrdersContract(options);\n\n  const approveNFTForNFTOrder: ApproveNFT<T> = async (\n    tokenAddress,\n    overrides = {},\n    requestParams\n  ) => {\n    // @TODO add approvetakerAssetForNFTOrder to use AugustusSwapper as spender if we ever have SELL NFT swaps\n    const AugustusRFQ = await getNFTOrdersContract(requestParams);\n\n    const res = await options.contractCaller.transactCall<ApprovalMethods>({\n      address: tokenAddress,\n      abi: MinNFTAbi,\n      contractMethod: 'setApprovalForAll',\n      args: [AugustusRFQ, true],\n      overrides,\n    });\n\n    return res;\n  };\n\n  return { approveERC20ForNFTOrder, approveNFTForNFTOrder };\n};\n","import type { Address, ConstructFetchInput, OptimalRate } from '../../types';\n\nimport { assert } from 'ts-essentials';\nimport {\n  API_URL,\n  SwapSide,\n  ContractMethod,\n  DEFAULT_VERSION,\n} from '../../constants';\nimport {\n  BuildNFTOrderTxInput,\n  BuildOptions,\n  BuildSwapAndNFTOrderTxInput,\n  TransactionParams,\n  constructBuildTx,\n} from '../swap/transaction';\nimport { constructGetRate, GetRateInput, RateOptions } from '../swap/rates';\nimport type { BigIntAsString, NFTOrderData } from './buildOrder';\nimport { isFilledArray } from '../../helpers/misc';\nimport type { RequestParameters } from '../../types';\ntype MinBuildSwapAndNFTOrderTxInput = Omit<\n  // these are derived from `orders`\n  BuildSwapAndNFTOrderTxInput,\n  'srcToken' | 'srcAmount' | 'destToken' | 'destDecimals'\n>;\n\ntype BuildSwapAndNFTOrdersTx = (\n  params: MinBuildSwapAndNFTOrderTxInput,\n  options?: BuildOptions,\n  requestParams?: RequestParameters\n) => Promise<TransactionParams>;\n\ntype MinBuildNFTOrderTxInput = Omit<\n  BuildNFTOrderTxInput,\n  // these are derived from `orders`\n  'srcToken' | 'srcAmount' | 'destToken' | 'slippage'\n  // `slippage` doesn't participate as we derive `srcAmount` already\n>;\n\ntype BuildNFTOrdersTx = (\n  params: MinBuildNFTOrderTxInput,\n  options?: BuildOptions,\n  requestParams?: RequestParameters\n) => Promise<TransactionParams>;\n\nexport type BuildNFTOrdersTxFunctions = {\n  getNFTOrdersRate: GetNFTOrdersRate;\n  buildNFTOrderTx: BuildNFTOrdersTx;\n  buildSwapAndNFTOrderTx: BuildSwapAndNFTOrdersTx;\n};\n\ntype GetNFTOrdersRate = (\n  // `amount`, if given, must equal the total of the orders' `takerAmounts`\n  options: Omit<GetRateInput, 'amount' | 'side'> & { amount?: string },\n  orders: CheckableOrderData[],\n  requestParams?: RequestParameters\n) => Promise<OptimalRate>;\n\nexport const constructBuildNFTOrderTx = ({\n  apiURL = API_URL,\n  version = DEFAULT_VERSION,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): BuildNFTOrdersTxFunctions => {\n  const { buildTx: buildSwapTx } = constructBuildTx({\n    apiURL,\n    version,\n    chainId,\n    fetcher,\n  });\n\n  const { getRate: getSwapAndNFTOrderRate } = constructGetRate({\n    apiURL,\n    version,\n    chainId,\n    fetcher,\n  });\n\n  //  returns priceRoute that would allow from swap from srcToken to destToken(=order.takerAsset) followed by filling NFT orders\n  const getNFTOrdersRate: GetNFTOrdersRate = async (\n    { srcToken, destToken, amount, options: _options = {}, ...rest },\n    orders,\n    requestParams\n  ) => {\n    assert(orders.length > 0, 'must pass at least 1 order');\n\n    const { totalTakerAmount, takerAsset } = checkAndParseOrders(orders);\n\n    assert(\n      takerAsset.toLowerCase() === destToken.toLowerCase(),\n      'All orders must have the same takerAsset as destToken'\n    );\n\n    const takerAmountString = totalTakerAmount.toString(10);\n\n    if (amount) {\n      assert(\n        amount === takerAmountString,\n        \"`amount` must equal the total of the orders' `takerAmounts`\"\n      );\n    }\n\n    // The pricing must use includeContractMethods=simpleBuy and side=BUY\n    const options: RateOptions = {\n      ..._options,\n      includeContractMethods: [ContractMethod.simpleBuy],\n    };\n\n    const side = SwapSide.BUY;\n\n    const rateInput: GetRateInput = {\n      ...rest,\n      srcToken,\n      destToken,\n      amount: takerAmountString,\n      side,\n      options,\n    };\n\n    // priceRoute\n    const optimalRate = await getSwapAndNFTOrderRate(rateInput, requestParams);\n    return optimalRate;\n  };\n\n  // derive srcToken, destToken and srcAmount from orders[]\n  const buildNFTOrderTx: BuildNFTOrdersTx = (\n    params,\n    options,\n    requestParams\n  ) => {\n    const { takerAsset, totalTakerAmount } = checkAndParseOrders(params.orders);\n\n    const fillParams: BuildNFTOrderTxInput = {\n      ...params,\n      // taker supplies takerAsset\n      srcToken: takerAsset,\n      srcAmount: totalTakerAmount.toString(10),\n      // taker gets makerAsset in the end\n      destToken: 'NFT', // support any NFT\n    };\n\n    return buildSwapTx(fillParams, options, requestParams);\n  };\n  const buildSwapAndNFTOrderTx: BuildSwapAndNFTOrdersTx = (\n    params,\n    options,\n    requestParams\n  ) => {\n    checkAndParseOrders(params.orders);\n\n    const fillParams: BuildSwapAndNFTOrderTxInput = {\n      ...params,\n      // taker supplies srcToken\n      srcToken: params.priceRoute.srcToken,\n      // one or the other\n      ...(params.slippage\n        ? { slippage: params.slippage }\n        : //                                        may sneak in as part of `params`\n          { srcAmount: params.priceRoute.srcAmount, slippage: undefined }),\n      destToken: 'NFT', // support any NFT,\n      destDecimals: params.priceRoute.destDecimals,\n    };\n    return buildSwapTx(fillParams, options, requestParams);\n  };\n\n  return {\n    getNFTOrdersRate,\n    buildNFTOrderTx,\n    buildSwapAndNFTOrderTx,\n  };\n};\n\ntype CheckAndParseOrdersResult = Omit<CheckableOrderData, 'takerAmount'> & {\n  totalTakerAmount: bigint;\n};\n\ntype CheckableOrderData = Pick<\n  NFTOrderData,\n  'takerAsset' | 'makerAsset' | 'takerAmount' | 'maker'\n> & { taker?: NFTOrderData['taker'] };\n\nfunction checkAndParseOrders(\n  orders: CheckableOrderData[]\n): CheckAndParseOrdersResult {\n  assert(isFilledArray(orders), 'must pass at least 1 order');\n\n  const { takerAssetsSet, makerAssetsSet, totalTakerAmount } = orders.reduce<\n    Record<'takerAssetsSet' | 'makerAssetsSet', Set<string>> & {\n      totalTakerAmount: bigint;\n    }\n  >(\n    (accum, order) => {\n      accum.takerAssetsSet.add(order.takerAsset.toLowerCase());\n      accum.makerAssetsSet.add(order.makerAsset.toLowerCase());\n\n      accum.totalTakerAmount =\n        accum.totalTakerAmount + BigInt(order.takerAmount);\n      return accum;\n    },\n    {\n      takerAssetsSet: new Set(),\n      makerAssetsSet: new Set(),\n      totalTakerAmount: BigInt(0),\n    }\n  );\n\n  assert(\n    takerAssetsSet.size === 1,\n    'All orders must have the same takerAsset as destToken'\n  );\n  assert(makerAssetsSet.size === 1, 'All orders must have the same makerAsset');\n\n  const [{ maker, taker, makerAsset, takerAsset }] = orders;\n\n  return {\n    totalTakerAmount,\n    maker,\n    taker,\n    makerAsset: makerAsset.startsWith('0x')\n      ? makerAsset\n      : uintToAssetAddress(makerAsset),\n    takerAsset: takerAsset.startsWith('0x')\n      ? takerAsset\n      : uintToAssetAddress(takerAsset),\n  };\n}\n\n// extract asset address from makerAsset or takerAsset packed number encoded to contain AssetType\nfunction uintToAssetAddress(assetUint: BigIntAsString): Address {\n  return (\n    '0x' +\n    (BigInt(assetUint) & ((BigInt(1) << BigInt(160)) - BigInt(1))).toString(16)\n  );\n}\n","import type { ExtraFetchParams, FetcherFunction } from '../../types';\nimport type { AxiosStatic } from 'axios';\nimport { FetcherError } from '../misc';\n\nexport type AxiosRequirement = Pick<AxiosStatic, 'request' | 'isAxiosError'>;\n\nexport const constructFetcher =\n  (axios: AxiosRequirement, extra?: ExtraFetchParams): FetcherFunction =>\n  async (params) => {\n    try {\n      const { requestParams, ...rest } = params;\n      // adding apiKey to headers if it's provided\n      const headers = extra?.apiKey\n        ? {\n            'X-API-KEY': extra.apiKey,\n            ...rest.headers,\n            ...requestParams?.headers,\n          }\n        : { ...rest.headers, ...requestParams?.headers };\n\n      const allParams = { ...rest, ...requestParams, headers };\n\n      const { data } = await axios.request(allParams);\n\n      return data;\n    } catch (error: any) {\n      if (axios.isAxiosError(error)) {\n        // attach a more meaningful message and other props\n        throw new FetcherError(error);\n      }\n\n      throw error;\n    }\n  };\n","import type { ExtraFetchParams, FetcherFunction } from '../../types';\nimport { FetcherError } from '../misc';\n\n// @TODO may not work with node-fetch\ntype Fetch = typeof fetch;\n\nexport const constructFetcher =\n  (fetch: Fetch, extra?: ExtraFetchParams): FetcherFunction =>\n  async (params) => {\n    try {\n      const { url, method, requestParams } = params;\n      const body = method === 'POST' ? JSON.stringify(params.data) : null;\n      // Only JSON response for POST requests\n      const POSTheaders =\n        method === 'POST' && body\n          ? {\n              'Content-Type': 'application/json',\n            }\n          : undefined;\n\n      // adding apiKey to headers if it's provided\n      const apiHeaders = extra?.apiKey\n        ? { 'X-API-KEY': extra.apiKey }\n        : undefined;\n\n      // all headers combined\n      const headers =\n        POSTheaders || apiHeaders || params.headers || requestParams?.headers\n          ? {\n              ...apiHeaders,\n              ...POSTheaders,\n              ...params.headers,\n              ...requestParams?.headers,\n            }\n          : undefined;\n\n      const response = await fetch(url, {\n        method,\n        body,\n        ...requestParams,\n        headers,\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        // @TODO figure out if this works analogous to AxiosError, especially code ==? status\n        throw new FetcherError({\n          code: String(response.status),\n          response: {\n            data,\n            status: response.status,\n            statusText: response.statusText,\n            headers: Object.fromEntries(response.headers.entries()),\n            config: { url, method },\n          },\n          message: response.statusText,\n          isAxiosError: false,\n        });\n      }\n\n      return data;\n    } catch (error: any) {\n      if (error instanceof FetcherError) throw error;\n      throw new FetcherError(error);\n    }\n  };\n","import type {\n  Address,\n  ContractCallerFunctions,\n  NoExtraKeysCheck,\n  SignTypedDataContractCallerFn,\n  StaticContractCallerFn,\n  TransactionContractCallerFn,\n} from '../../types';\nimport type {\n  JsonRpcProvider,\n  BaseProvider,\n  JsonRpcSigner,\n} from '@ethersproject/providers';\nimport type { Signer } from '@ethersproject/abstract-signer';\nimport type {\n  Contract as EthersV5Contract,\n  ContractFunction as EthersContractFunctionV5,\n  PopulatedTransaction as EthersPopulatedTransactionV5,\n  PayableOverrides,\n  CallOverrides,\n  ContractTransaction,\n} from '@ethersproject/contracts';\n\nimport type { BigNumber as EthersBigNumberV5 } from '@ethersproject/bignumber';\n\nimport { assert } from 'ts-essentials';\n\nexport interface EthersV5ProviderDeps {\n  ethersProviderOrSigner: BaseProvider | Signer;\n  EthersContract: typeof EthersV5Contract; // passing Contract in allows not to include ethers as dependency even when using legacy ParaSwap class\n}\n\nexport const constructEthersV5ContractCaller = (\n  {\n    ethersProviderOrSigner: providerOrSigner,\n    EthersContract: Contract,\n  }: EthersV5ProviderDeps,\n  account?: Address\n): ContractCallerFunctions<ContractTransaction> => {\n  const staticCall: StaticContractCallerFn = async (params) => {\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const contract = new Contract(address, abi, providerOrSigner);\n\n    assertEthersContractHasMethodsV5(contract, contractMethod);\n    // drop keys not in CallOverrides\n    const { block, gas, ...restOverrides } = overrides;\n    // reassign values to keys in CallOverrides\n    const normalizedOverrides = {\n      ...restOverrides,\n      blockTag: block,\n      gasLimit: gas,\n    };\n\n    // type FinalCallOverrides = normalizedOverrides has extra props ? never : normalizedOverrides\n    type FinalCallOverrides = NoExtraKeysCheck<\n      typeof normalizedOverrides,\n      CallOverrides\n    >;\n\n    // enforce overrides shape ethers accepts\n    // TS will break if normalizedOverrides type has any keys not also present in CallOverrides\n    const callOverrides: FinalCallOverrides = normalizedOverrides;\n    // returns whatever the Contract.method returns: BigNumber, string, boolean\n    return contract.callStatic[contractMethod](...args, callOverrides);\n  };\n\n  const transactCall: TransactionContractCallerFn<ContractTransaction> = async (\n    params\n  ) => {\n    assert(account, 'account must be specified to create a signer');\n    assert(\n      isEthersProviderWithSigner(providerOrSigner) ||\n        isEthersSigner(providerOrSigner),\n      'ethers must be an instance of Signer or JsonRpcProvider to create a signer'\n    );\n\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const signer =\n      'getSigner' in providerOrSigner\n        ? providerOrSigner.getSigner(account)\n        : providerOrSigner;\n\n    const contract = new Contract(address, abi, signer);\n\n    assertEthersContractHasMethodsV5(contract, contractMethod);\n    // drop keys not in PayableOverrides\n    const { gas, from, ...restOverrides } = overrides;\n    // reassign values to keys in PayableOverrides\n    const normalizedOverrides = {\n      ...restOverrides,\n      gasLimit: gas,\n    };\n\n    // type FinalPayableOverrides = normalizedOverrides has extra props ? never : normalizedOverrides\n    type FinalPayableOverrides = NoExtraKeysCheck<\n      typeof normalizedOverrides,\n      PayableOverrides\n    >;\n\n    // enforce overrides shape ethers accepts\n    // TS will break if normalizedOverrides type has any keys not also present in PayableOverrides\n    const txOverrides: FinalPayableOverrides = normalizedOverrides;\n    const txResponse: ContractTransaction = await contract[contractMethod](\n      ...args,\n      txOverrides\n    );\n\n    return txResponse;\n  };\n\n  const signTypedDataCall: SignTypedDataContractCallerFn = async (\n    typedData\n  ) => {\n    assert(account, 'account must be specified to create a signer');\n    assert(\n      isEthersProviderWithSigner(providerOrSigner) ||\n        isEthersSigner(providerOrSigner),\n      'ethers must be an instance of Signer or JsonRpcProvider to create a signer'\n    );\n\n    const signer =\n      'getSigner' in providerOrSigner\n        ? providerOrSigner.getSigner(account)\n        : providerOrSigner;\n\n    assert(isTypedDataCapableSigner(signer), 'Signer can sign typed data');\n\n    const { data, domain, types } = typedData;\n\n    return signer._signTypedData(domain, types, data);\n  };\n\n  return { staticCall, transactCall, signTypedDataCall };\n};\n\nfunction isEthersProvider(\n  providerOrSigner: BaseProvider | Signer\n): providerOrSigner is BaseProvider {\n  return '_isProvider' in providerOrSigner && providerOrSigner._isProvider;\n}\n\nfunction isEthersProviderWithSigner(\n  providerOrSigner: JsonRpcProvider | BaseProvider | Signer\n): providerOrSigner is JsonRpcProvider {\n  return isEthersProvider(providerOrSigner) && 'getSigner' in providerOrSigner;\n}\n\nfunction isEthersSigner(\n  providerOrSigner: BaseProvider | Signer\n): providerOrSigner is Signer {\n  return '_isSigner' in providerOrSigner && providerOrSigner._isSigner;\n}\n\nfunction isTypedDataCapableSigner(\n  signer: Signer\n): signer is Signer & Pick<JsonRpcSigner, '_signTypedData'> {\n  return '_signTypedData' in signer;\n}\n\n/// ethers v5\ntype EthersContractWithMethodV5<T extends string> = EthersV5Contract & {\n  readonly [method in T]: EthersContractFunctionV5;\n} & {\n  readonly functions: { [method in T]: EthersContractFunctionV5 };\n\n  readonly callStatic: { [method in T]: EthersContractFunctionV5 };\n  readonly estimateGas: {\n    [method in T]: EthersContractFunctionV5<EthersBigNumberV5>;\n  };\n  readonly populateTransaction: {\n    [method in T]: EthersContractFunctionV5<EthersPopulatedTransactionV5>;\n  };\n};\n\nfunction ethersContractHasMethodsV5<T extends string>(\n  contract: EthersV5Contract,\n  ...methods: T[]\n): contract is EthersContractWithMethodV5<T> {\n  return methods.every((method) => typeof contract[method] === 'function');\n}\n\nfunction assertEthersContractHasMethodsV5<T extends string>(\n  contract: EthersV5Contract,\n  ...methods: T[]\n): asserts contract is EthersContractWithMethodV5<T> {\n  assert(\n    ethersContractHasMethodsV5(contract, ...methods),\n    `Contract must have methods: ${methods.join(', ')}`\n  );\n}\n","import type {\n  Address,\n  ContractCallerFunctions,\n  SignTypedDataContractCallerFn,\n  StaticContractCallerFn,\n  TransactionContractCallerFn,\n} from '../../types';\nimport { assert } from 'ts-essentials';\nimport type {\n  JsonRpcProvider,\n  Signer,\n  ContractRunner,\n  Contract as EthersContract,\n  Overrides,\n  ContractTransactionResponse,\n} from 'ethers';\n\nexport interface EthersV6ProviderDeps {\n  ethersV6ProviderOrSigner: ContractRunner | Signer;\n  EthersV6Contract: typeof EthersContract; // passing Contract in allows not to include ethers as dependency even when using legacy ParaSwap class\n}\n\nexport const constructContractCaller = (\n  {\n    ethersV6ProviderOrSigner: providerOrSigner,\n    EthersV6Contract: Contract,\n  }: EthersV6ProviderDeps,\n  account?: Address\n): ContractCallerFunctions<ContractTransactionResponse> => {\n  const staticCall: StaticContractCallerFn = async (params) => {\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const contract = new Contract(address, abi, providerOrSigner);\n\n    // drop keys not in CallOverrides\n    const { block, gas, ...restOverrides } = overrides;\n    // reassign values to keys in CallOverrides\n    const normalizedOverrides: Overrides = {\n      ...restOverrides,\n      blockTag: block,\n      gasLimit: gas,\n    };\n\n    const callableContractFunction = contract.getFunction(contractMethod);\n\n    // returns whatever the Contract[\"method\"].staticCall returns: BigNumber, string, boolean\n    return callableContractFunction.staticCall(...args, normalizedOverrides);\n  };\n\n  const transactCall: TransactionContractCallerFn<\n    ContractTransactionResponse\n  > = async (params) => {\n    assert(account, 'account must be specified to create a signer');\n    assert(\n      isEthersProviderWithSigner(providerOrSigner) ||\n        isEthersSigner(providerOrSigner),\n      'ethers must be an instance of Signer or JsonRpcProvider to create a signer'\n    );\n\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const signer =\n      'getSigner' in providerOrSigner\n        ? await providerOrSigner.getSigner(account)\n        : providerOrSigner;\n\n    const contract = new Contract(address, abi, signer);\n\n    // drop keys not in PayableOverrides\n    const { gas, from, ...restOverrides } = overrides;\n    // reassign values to keys in PayableOverrides\n    const normalizedOverrides: Overrides = {\n      ...restOverrides,\n      gasLimit: gas,\n    };\n\n    // if no method for contractMethod, ethers will throw\n    const callableContractFunction = contract.getFunction(contractMethod);\n\n    const txResponse = await callableContractFunction.send(\n      ...args,\n      normalizedOverrides\n    );\n\n    return txResponse;\n  };\n\n  const signTypedDataCall: SignTypedDataContractCallerFn = async (\n    typedData\n  ) => {\n    assert(account, 'account must be specified to create a signer');\n    assert(\n      isEthersProviderWithSigner(providerOrSigner) ||\n        isEthersSigner(providerOrSigner),\n      'ethers must be an instance of Signer or JsonRpcProvider to create a signer'\n    );\n\n    const signer =\n      'getSigner' in providerOrSigner\n        ? await providerOrSigner.getSigner(account)\n        : providerOrSigner;\n\n    const { data, domain, types } = typedData;\n\n    return signer.signTypedData(domain, types, data);\n  };\n\n  return { staticCall, transactCall, signTypedDataCall };\n};\n\nfunction isEthersProviderWithSigner(\n  providerOrSigner: JsonRpcProvider | ContractRunner | Signer\n): providerOrSigner is JsonRpcProvider {\n  return 'getSigner' in providerOrSigner;\n}\n\nfunction isEthersSigner(\n  providerOrSigner: ContractRunner | Signer\n): providerOrSigner is Signer {\n  return 'getAddress' in providerOrSigner;\n}\n","import { assert } from 'ts-essentials';\nimport { TypedDataField } from '../../methods/common/orders/buildOrderData';\n\n// regex from @ethersproject/hash TypedDataEncoder.constructor\n// may be overly strict, but reliable\nconst baseTypeRegex = /^([^\\x5b]*)(\\x5b|$)/;\n\nexport function findPrimaryType(\n  types: Record<string, TypedDataField[]>\n): string {\n  const candidates = Object.keys(types);\n  const candidatesSet = new Set(candidates);\n\n  candidates.forEach((candidate) => {\n    const typedDataFields = types[candidate];\n    if (!typedDataFields) return;\n\n    typedDataFields.forEach(({ type }) => {\n      // Get the base type (drop any array specifiers)\n      const baseType = type.match(baseTypeRegex)?.[1];\n      if (!baseType) return;\n\n      // if type was referred to as a child of another type, it can't be the primaryType\n      candidatesSet.delete(baseType);\n    });\n  });\n\n  const [primaryType] = Array.from(candidatesSet);\n\n  assert(\n    primaryType,\n    `No primary type found in SignableTypedData types, ${JSON.stringify(types)}`\n  );\n\n  return primaryType;\n}\n","import type {\n  Address,\n  ContractCallerFunctions,\n  SignTypedDataContractCallerFn,\n  StaticContractCallerFn,\n  TransactionContractCallerFn,\n} from '../../types';\nimport type { PayableCallOptions, AbiItem } from 'web3';\nimport type Web3 from 'web3';\nimport type { ContractAbi, Contract as Web3Contract } from 'web3';\nimport type { PayableTxOptions } from 'web3-eth-contract';\nimport { assert } from 'ts-essentials';\nimport { findPrimaryType } from './helpers';\n\ntype ContractMethodRes = ReturnType<Web3ContractSendMethod>;\nexport type Web3UnpromiEvent = Pick<\n  ReturnType<ContractMethodRes['send']>,\n  'on' | 'once'\n>;\n\ntype SendOptions = PayableTxOptions;\ntype CallOptions = PayableCallOptions;\n\nexport const constructContractCaller = (\n  web3: Web3,\n  account?: Address\n): ContractCallerFunctions<Web3UnpromiEvent> => {\n  const staticCall: StaticContractCallerFn = async (params) => {\n    assert(web3.currentProvider, 'web3.currentProvider is not set');\n\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const contract = new web3.eth.Contract(\n      abi as AbiItem[], // FIXME abi types ethers dependant\n      address\n    );\n\n    assertWeb3ContractHasMethods(contract, contractMethod);\n\n    const { block, gas, value, ...restOverrides } = overrides;\n\n    const normalizedOverrides: CallOptions = {\n      ...restOverrides,\n      gas: gas?.toString(10),\n      value: value?.toString(10),\n    };\n\n    return contract.methods[contractMethod](...args).call(normalizedOverrides);\n  };\n\n  const transactCall: TransactionContractCallerFn<Web3UnpromiEvent> = async (\n    params\n  ) => {\n    assert(web3.currentProvider, 'web3.currentProvider is not set');\n\n    assert(account, 'account must be specified to send transactions');\n\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const contract = new web3.eth.Contract(\n      abi as unknown as AbiItem[], // FIXME\n      address\n    );\n\n    assertWeb3ContractHasMethods(contract, contractMethod);\n\n    const { gas, from, value, nonce, ...restOverrides } = overrides;\n\n    const _from = from || account;\n\n    assert(_from, 'from is required');\n\n    const normalizedOverrides: SendOptions = {\n      ...restOverrides,\n      from: _from,\n      gas: gas?.toString(10),\n      value: value?.toString(10),\n      nonce: nonce?.toString(10),\n    };\n\n    const preparedCall = contract.methods[contractMethod](...args);\n\n    const promiEvent = preparedCall.send(normalizedOverrides);\n\n    // can't just return promiEvent, because async function returns a Promise<PromiEvent>\n    // and await Promise<PromiEvent> automatically awaits the value of PromiEvent,\n    // that is await Promise<PromiEvent> = Awaited<PromiEvent> that doesn't have .on|once\n    // so that functionality becomes lost\n    // transactCall can be made sync, but approve has to be async to await getSpender()\n    const unpromiEvent: Web3UnpromiEvent = {\n      on: promiEvent.on.bind(promiEvent),\n      once: promiEvent.once.bind(promiEvent),\n    };\n\n    return unpromiEvent;\n  };\n\n  const signTypedDataCall: SignTypedDataContractCallerFn = async (\n    typedData\n  ) => {\n    assert(web3.currentProvider, 'web3.currentProvider is not set');\n\n    assert(account, 'account must be specified to sign data');\n\n    const { data, domain, types } = typedData;\n\n    const _typedData = {\n      types: {\n        EIP712Domain: [\n          { name: 'name', type: 'string' },\n          { name: 'version', type: 'string' },\n          { name: 'chainId', type: 'uint256' },\n          { name: 'verifyingContract', type: 'address' },\n        ],\n        ...types,\n      },\n      primaryType: findPrimaryType(types),\n      domain,\n      message: data,\n    };\n\n    // account must be among unlocked accounts\n    const signature = await web3.eth.signTypedData(account, _typedData as any);\n    return signature;\n  };\n\n  return { staticCall, transactCall, signTypedDataCall };\n};\n\n/// web3@4\ntype Web3ContractSendMethod = Web3Contract<ContractAbi>['methods'][string];\n\ntype Web3ContractWithMethod<T extends string> = Web3Contract<ContractAbi> & {\n  methods: { [method in T]: Web3ContractSendMethod };\n};\n\nfunction web3ContractHasMethods<T extends string>(\n  contract: Web3Contract<ContractAbi>,\n  ...methods: T[]\n): contract is Web3ContractWithMethod<T> {\n  return methods.every(\n    (method) => typeof contract.methods[method] === 'function'\n  );\n}\n\nfunction assertWeb3ContractHasMethods<T extends string>(\n  contract: Web3Contract<ContractAbi>,\n  ...methods: T[]\n): asserts contract is Web3ContractWithMethod<T> {\n  assert(\n    web3ContractHasMethods(contract, ...methods),\n    `Contract must have methods: ${methods.join(', ')}`\n  );\n}\n","import type {\n  Address,\n  ContractCallerFunctions,\n  ContractCallStaticInput,\n  SignTypedDataContractCallerFn,\n  StaticContractCallerFn,\n  TransactionContractCallerFn,\n} from '../../types';\nimport { assert, MarkOptional } from 'ts-essentials';\n\nimport type {\n  PublicActions,\n  WalletActions,\n  Hex,\n  BlockTag,\n  Chain,\n  Transport,\n  TypedDataDomain,\n  Account,\n} from 'viem';\nimport { findPrimaryType } from './helpers';\nimport { TransactionParams } from '../../methods/swap/transaction';\n\nexport type MinViemClient = Partial<\n  Pick<PublicActions<Transport, Chain>, 'readContract'> &\n    Pick<WalletActions<Chain>, 'writeContract' | 'signTypedData'>\n> & { account?: Account };\n\nexport const constructContractCaller = (\n  viemClient: MinViemClient,\n  account?: Address\n): ContractCallerFunctions<Hex> => {\n  const staticCall: StaticContractCallerFn = async <\n    T,\n    M extends string = string\n  >(\n    params: ContractCallStaticInput<M>\n  ): Promise<T> => {\n    assert(\n      viemClient.readContract,\n      'Viem client must have readContract Public Action'\n    );\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const { block } = overrides;\n\n    const { blockNumber, blockTag } =\n      typeof block === 'number'\n        ? { blockNumber: BigInt(block) }\n        : { blockTag: block as BlockTag };\n\n    const result = viemClient.readContract({\n      account: viemClient.account || (account as Hex),\n      address: address as Hex,\n      abi,\n      functionName: contractMethod,\n      args,\n      blockTag,\n      blockNumber,\n    });\n\n    return result as T; // can't get specific type for generic abi & method\n  };\n\n  const transactCall: TransactionContractCallerFn<Hex> = async (params) => {\n    assert(account, 'account must be specified sign transactions');\n    assert(\n      viemClient.writeContract,\n      'Viem client must have writeContract Wallet Action'\n    );\n\n    const { address, abi, contractMethod, args, overrides } = params;\n\n    const viemTxParams = txParamsToViemTxParams({\n      ...overrides,\n      to: address,\n      gas: overrides.gas?.toString(10),\n      value: overrides.value?.toString(10),\n    });\n\n    const gasPriceParams =\n      'maxFeePerGas' in viemTxParams\n        ? {\n            maxFeePerGas: viemTxParams.maxFeePerGas,\n            maxPriorityFeePerGas: viemTxParams.maxPriorityFeePerGas,\n          }\n        : 'gasPrice' in viemTxParams\n        ? { gasPrice: viemTxParams.gasPrice }\n        : {};\n\n    const txHash = await viemClient.writeContract({\n      // either `viemClient` has account assigned to it,\n      // or the provider `viemClient` was created with must control `account` (viemClient.getAddresses()[0]===account);\n      // otherwise breaks with ` ProviderError: Unknown account 0x...`\n      account: viemClient.account || (account as Hex),\n      address: address as Hex,\n      abi,\n      functionName: contractMethod,\n      args: argsToViemArgs(args),\n      value: viemTxParams.value,\n      gas: viemTxParams.gas,\n      // ...viemTxParams,\n      // account: (overrides.from || account) as Hex,\n      nonce: overrides.nonce,\n      ...gasPriceParams,\n    });\n\n    return txHash;\n  };\n\n  const signTypedDataCall: SignTypedDataContractCallerFn = async (\n    typedData\n  ) => {\n    assert(account, 'account must be specified to create a signer');\n    assert(\n      viemClient.signTypedData,\n      'Viem client must have signTypedData Wallet Action'\n    );\n\n    const { data, domain, types } = typedData;\n\n    const primaryType = findPrimaryType(types);\n\n    const chainId =\n      domain.chainId === undefined ? undefined : Number(domain.chainId);\n    const viemDomain: TypedDataDomain = {\n      chainId,\n      name: domain.name,\n      version: domain.version,\n      verifyingContract: domain.verifyingContract as Hex,\n      salt: domain.salt as Hex,\n    };\n\n    const signature = await viemClient.signTypedData({\n      // either `viemClient` has account assigned to it,\n      // or the provider `viemClient` was created with must control `account` (viemClient.getAddresses()[0]===account)\n      account: viemClient.account || (account as Hex),\n      domain: viemDomain,\n      types,\n      primaryType,\n      message: data,\n    });\n\n    return signature;\n  };\n\n  return { staticCall, transactCall, signTypedDataCall };\n};\n\ntype ViemTxParams = {\n  to: Hex;\n  data?: Hex;\n  value?: bigint;\n  nonce?: number;\n  gas?: bigint;\n} & (\n  | { maxFeePerGas?: bigint; maxPriorityFeePerGas?: bigint }\n  | { gasPrice?: bigint }\n);\n\nexport function txParamsToViemTxParams(\n  txParams: Omit<\n    MarkOptional<TransactionParams, 'data' | 'value'>,\n    'chainId' | 'from'\n  >\n): ViemTxParams {\n  const gas = txParams.gas !== undefined ? BigInt(txParams.gas) : undefined;\n  const gasPrice =\n    txParams.gasPrice !== undefined ? BigInt(txParams.gasPrice) : undefined;\n  const maxFeePerGas =\n    txParams.maxFeePerGas !== undefined\n      ? BigInt(txParams.maxFeePerGas)\n      : undefined;\n  const maxPriorityFeePerGas =\n    txParams.maxPriorityFeePerGas !== undefined\n      ? BigInt(txParams.maxPriorityFeePerGas)\n      : undefined;\n\n  const viemTxParams = {\n    to: txParams.to as Hex,\n    data: txParams.data as Hex,\n    value: txParams.value !== undefined ? BigInt(txParams.value) : undefined,\n    gas,\n    ...(txParams.maxFeePerGas !== undefined\n      ? { maxFeePerGas, maxPriorityFeePerGas }\n      : { gasPrice }),\n  };\n  return viemTxParams;\n}\n\nfunction argsToViemArgs(args: any[]): any[] {\n  return args.map((arg) => {\n    if (typeof arg === 'string') {\n      if (arg.startsWith('0x')) {\n        return arg;\n      }\n      const asNumber = Number(arg);\n      if (Number.isNaN(asNumber)) {\n        return arg;\n      }\n      return BigInt(asNumber);\n    }\n    return arg;\n  });\n}\n","import type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\nimport { constructGetSpender } from '../swap/spender';\n\ntype GetDeltaContract = (\n  requestParams?: RequestParameters\n) => Promise<Address | null>;\nexport type GetDeltaContractFunctions = {\n  /** @description returns ParaswapDelta contract address when Delta is available on current chain */\n  getDeltaContract: GetDeltaContract;\n};\n\nexport const constructGetDeltaContract = (\n  options: ConstructFetchInput\n): GetDeltaContractFunctions => {\n  // analogous to getSpender() but for Delta Orders Contract = ParaswapDelta\n\n  const { getContracts } = constructGetSpender(options);\n\n  const getDeltaContract: GetDeltaContract = async (requestParams) => {\n    const { ParaswapDelta } = await getContracts(requestParams);\n    return ParaswapDelta || null;\n  };\n\n  return { getDeltaContract };\n};\n","import { API_URL } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\n\nexport type PartnerFeeResponse = {\n  partnerFee: number; // in %, e.g. 0.12\n  partnerAddress: string;\n  takeSurplus: boolean;\n};\n\ntype PartnerFeeQueryParams = {\n  partner: string;\n};\n\ntype GetPartnerFee = (\n  options: PartnerFeeQueryParams,\n  requestParams?: RequestParameters\n) => Promise<PartnerFeeResponse>;\n\nexport type GetPartnerFeeFunctions = {\n  getPartnerFee: GetPartnerFee;\n};\n\nexport const constructGetPartnerFee = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetPartnerFeeFunctions => {\n  const partnerFeeUrl = `${apiURL}/prices/partnerfee/${chainId}` as const;\n\n  // going on the assumption that one `partner` will correspond to one `partnerFee` during the lifetime of SDK instance,\n  // to avoid unnecessary network requests\n  const cachedPartnerFee = new Map<string, PartnerFeeResponse>();\n\n  const getPartnerFee: GetPartnerFee = async (options, requestParams) => {\n    if (cachedPartnerFee.has(options.partner)) {\n      return cachedPartnerFee.get(options.partner)!;\n    }\n\n    const search = constructSearchString<PartnerFeeQueryParams>(options);\n\n    const fetchURL = `${partnerFeeUrl}/${search}` as const;\n\n    const data = await fetcher<PartnerFeeResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    cachedPartnerFee.set(options.partner, data);\n\n    return data;\n  };\n\n  return {\n    getPartnerFee,\n  };\n};\n","import { DeltaAuctionOrder } from './types';\n\ntype DeltaOrderPermitInput = Pick<DeltaAuctionOrder, 'permit' | 'nonce'>;\n\nexport function composeDeltaOrderPermit({\n  permit,\n  nonce,\n}: DeltaOrderPermitInput): string {\n  // Can be empty Permit if allowance is available for srcToken\n  if (permit === '0x' || permit === '0x01') {\n    // 0x01 is a special permit value that signifies existing Permit2 allowance.\n    return permit;\n  }\n\n  // In the Contract, specifically for Permit2 transferFrom, we have signature consisting of\n  // bytes32(permit2nonce) + bytes64(compacted signature) = bytes96 Permit2 Transfer format\n\n  if (permit.length >= 194) {\n    // \"0x\".length + 96bytes*2 = 194, means permit already concatenated with nonce\n    // or it's a different type of Permit all together\n    return permit;\n  }\n\n  return encodePermit2Transfer(BigInt(nonce), permit);\n}\n\nfunction uintTo32ByteArrayBuffer(nonce: number | bigint) {\n  // Create a 32-byte ArrayBuffer\n  const buffer = new Uint8Array(32);\n\n  // Convert nonce to hex string and pad it to 64 hex characters (32 bytes)\n  let nonceHex = nonce.toString(16).padStart(64, '0');\n\n  // Convert the hex string to bytes and fill the ArrayBuffer\n  for (let i = 0; i < 32; i++) {\n    buffer[i] = parseInt(nonceHex.slice(i * 2, i * 2 + 2), 16);\n  }\n\n  return buffer;\n}\n\nfunction hexToByteArray(hexString: string) {\n  // Remove \"0x\" prefix if present\n  hexString = hexString.replace(/^0x/, '');\n\n  // Convert hex string to Uint8Array\n  const byteArray = new Uint8Array(hexString.length / 2);\n  for (let i = 0; i < hexString.length; i += 2) {\n    byteArray[i / 2] = parseInt(hexString.slice(i, i + 2), 16);\n  }\n  return byteArray;\n}\n\nfunction encodePermit2Transfer(nonce: number | bigint, signature: string) {\n  // Get 32-byte ArrayBuffer for nonce\n  const nonceBuffer = uintTo32ByteArrayBuffer(nonce);\n\n  // Convert signature hex string to Uint8Array (64 bytes)\n  const signatureBuffer = hexToByteArray(signature);\n  if (signatureBuffer.length !== 64) {\n    throw new Error('Signature must be exactly 64 bytes');\n  }\n\n  // Concatenate nonceBuffer and signatureBuffer\n  const packedBuffer = new Uint8Array(32 + 64);\n  packedBuffer.set(nonceBuffer, 0); // Copy nonceBuffer at the start\n  packedBuffer.set(signatureBuffer, 32); // Copy signatureBuffer after nonce\n\n  // Convert to hex string for output\n  return (\n    '0x' +\n    Array.from(packedBuffer)\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')\n  );\n}\n","import { MarkOptional } from 'ts-essentials';\nimport { Domain, ZERO_ADDRESS } from '../../common/orders/buildOrderData';\nimport { BridgeInput, DeltaAuctionOrder } from './types';\nimport { composeDeltaOrderPermit } from './composePermit';\n\n// Order(address owner,address beneficiary,address srcToken,address destToken,uint256 srcAmount,uint256 destAmount,uint256 deadline,uint256 nonce,bytes permit, bridge Bridge)\";\nconst SWAP_ORDER_EIP_712_TYPES = {\n  Order: [\n    { name: 'owner', type: 'address' },\n    { name: 'beneficiary', type: 'address' },\n    { name: 'srcToken', type: 'address' },\n    { name: 'destToken', type: 'address' },\n    { name: 'srcAmount', type: 'uint256' },\n    { name: 'destAmount', type: 'uint256' },\n    { name: 'expectedDestAmount', type: 'uint256' },\n    { name: 'deadline', type: 'uint256' },\n    { name: 'nonce', type: 'uint256' },\n    { name: 'partnerAndFee', type: 'uint256' },\n    { name: 'permit', type: 'bytes' },\n    { name: 'bridge', type: 'Bridge' },\n  ],\n  Bridge: [\n    { name: 'maxRelayerFee', type: 'uint256' },\n    { name: 'destinationChainId', type: 'uint256' },\n    { name: 'outputToken', type: 'address' },\n    { name: 'multiCallHandler', type: 'address' },\n  ],\n};\n\nexport type SignableDeltaOrderData = {\n  types: {\n    Order: typeof SWAP_ORDER_EIP_712_TYPES.Order;\n    Bridge: typeof SWAP_ORDER_EIP_712_TYPES.Bridge;\n  };\n  domain: Domain;\n  data: DeltaAuctionOrder;\n};\n\ntype SignDeltaOrderInput = {\n  orderInput: DeltaAuctionOrder;\n  paraswapDeltaAddress: string;\n  chainId: number;\n};\n\nfunction produceDeltaOrderTypedData({\n  orderInput,\n  chainId,\n  paraswapDeltaAddress,\n}: SignDeltaOrderInput): SignableDeltaOrderData {\n  const typedData = {\n    types: {\n      Order: SWAP_ORDER_EIP_712_TYPES.Order,\n      Bridge: SWAP_ORDER_EIP_712_TYPES.Bridge,\n    },\n    domain: {\n      name: 'Portikus',\n      version: '2.0.0',\n      chainId,\n      verifyingContract: paraswapDeltaAddress,\n    },\n    data: orderInput,\n  };\n\n  return typedData;\n}\n\nexport type DeltaOrderDataInput = MarkOptional<\n  Omit<DeltaAuctionOrder, 'partnerAndFee'>,\n  'beneficiary' | 'deadline' | 'nonce' | 'permit'\n>;\n\nexport type BuildDeltaOrderDataInput = DeltaOrderDataInput & {\n  partnerAddress: string;\n  paraswapDeltaAddress: string;\n  partnerFeeBps: number;\n  partnerTakesSurplus?: boolean;\n  chainId: number;\n  bridge: BridgeInput;\n};\n\n// default deadline = 1 hour from now (may be changed later)\nexport const DELTA_DEFAULT_EXPIRY = 60 * 60; // seconds\n\nexport function buildDeltaSignableOrderData({\n  owner,\n  beneficiary = owner,\n\n  srcToken,\n  destToken,\n  srcAmount,\n  destAmount,\n  expectedDestAmount,\n\n  deadline = Math.floor(Date.now() / 1000 + DELTA_DEFAULT_EXPIRY),\n  nonce = Date.now().toString(10), // random enough to not cause collisions\n\n  permit = '0x',\n\n  partnerAddress,\n  partnerFeeBps,\n  partnerTakesSurplus = false,\n\n  chainId,\n  paraswapDeltaAddress,\n  bridge,\n}: BuildDeltaOrderDataInput): SignableDeltaOrderData {\n  const orderInput: DeltaAuctionOrder = {\n    owner,\n    beneficiary,\n    srcToken,\n    destToken,\n    srcAmount,\n    destAmount,\n    expectedDestAmount,\n    deadline,\n    nonce,\n    permit: composeDeltaOrderPermit({ permit, nonce }),\n    partnerAndFee: producePartnerAndFee({\n      partnerFeeBps,\n      partnerAddress,\n      partnerTakesSurplus,\n    }),\n    bridge,\n  };\n\n  return produceDeltaOrderTypedData({\n    orderInput,\n    chainId,\n    paraswapDeltaAddress,\n  });\n}\n\ntype ProducePartnerAndFeeInput = {\n  partnerFeeBps: number;\n  partnerAddress: string;\n  partnerTakesSurplus: boolean;\n};\n\n// fee and address are encoded together\nfunction producePartnerAndFee({\n  partnerFeeBps,\n  partnerAddress,\n  partnerTakesSurplus,\n}: ProducePartnerAndFeeInput): string {\n  if (partnerAddress === ZERO_ADDRESS) return '0';\n\n  const partnerAndFee =\n    (BigInt(partnerAddress) << BigInt(96)) |\n    BigInt(partnerFeeBps.toFixed(0)) |\n    (BigInt(partnerTakesSurplus) << BigInt(8));\n\n  return partnerAndFee.toString(10);\n}\n","import type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { ZERO_ADDRESS } from '../common/orders/buildOrderData';\nimport { constructGetDeltaContract } from './getDeltaContract';\nimport { DeltaPrice } from './getDeltaPrice';\nimport { constructGetPartnerFee } from './getPartnerFee';\nimport {\n  buildDeltaSignableOrderData,\n  type BuildDeltaOrderDataInput,\n  type SignableDeltaOrderData,\n} from './helpers/buildDeltaOrderData';\nimport { Bridge, BridgeInput } from './helpers/types';\nexport type { SignableDeltaOrderData } from './helpers/buildDeltaOrderData';\n\nexport type BuildDeltaOrderDataParams = {\n  /** @description The address of the order owner */\n  owner: string;\n  /** @description The address of the order beneficiary */\n  beneficiary?: string; // beneficiary==owner if no transferTo\n  /** @description The address of the src token */\n  srcToken: string; // lowercase\n  /** @description The address of the dest token */\n  destToken: string; // lowercase\n  /** @description The amount of src token to swap */\n  srcAmount: string; // wei\n  /** @description The minimum amount of dest token to receive */\n  destAmount: string; // wei, deltaPrice.destAmount - slippage\n  /** @description The deadline for the order */\n  deadline?: number; // seconds\n  /** @description The nonce of the order */\n  nonce?: number | string; // can be random, can even be Date.now()\n  /** @description Optional permit signature for the src token https://developers.paraswap.network/api/paraswap-delta/build-and-sign-a-delta-order#supported-permits */\n  permit?: string; //can be \"0x\"\n  /** @description Partner string. */\n  partner?: string;\n\n  /** @description The bridge input */\n  bridge?: BridgeInput;\n\n  /** @description price response received from /delta/prices (getDeltaPrice method) */\n  deltaPrice: Pick<DeltaPrice, 'destAmount' | 'partner' | 'partnerFee'>;\n\n  /** @description partner fee in basis points (bps), 50bps=0.5% */\n  partnerFeeBps?: number;\n  /** @description partner address */\n  partnerAddress?: string;\n  /** @description take surplus */\n  partnerTakesSurplus?: boolean;\n};\n\ntype BuildDeltaOrder = (\n  buildOrderParams: BuildDeltaOrderDataParams,\n  requestParams?: RequestParameters\n) => Promise<SignableDeltaOrderData>;\n\nexport type BuildDeltaOrderFunctions = {\n  /** @description Build Orders to be posted to Delta API for execution */\n  buildDeltaOrder: BuildDeltaOrder;\n};\n\n// for same-chain Orders, all 0 params\nconst DEFAULT_BRIDGE: Bridge = {\n  maxRelayerFee: '0',\n  destinationChainId: 0,\n  outputToken: ZERO_ADDRESS,\n  multiCallHandler: ZERO_ADDRESS,\n};\n\nexport const constructBuildDeltaOrder = (\n  options: ConstructFetchInput\n): BuildDeltaOrderFunctions => {\n  const { chainId } = options;\n\n  // cached internally\n  const { getDeltaContract } = constructGetDeltaContract(options);\n  // cached internally for `partner`\n  const { getPartnerFee } = constructGetPartnerFee(options);\n\n  const buildDeltaOrder: BuildDeltaOrder = async (options, requestParams) => {\n    const ParaswapDelta = await getDeltaContract(requestParams);\n    if (!ParaswapDelta) {\n      throw new Error(`Delta is not available on chain ${chainId}`);\n    }\n\n    // externally supplied partner fee data takes precedence\n    let partnerAddress = options.partnerAddress;\n    let partnerFeeBps =\n      options.partnerFeeBps ?? options.deltaPrice.partnerFee * 100;\n    let partnerTakesSurplus = options.partnerTakesSurplus;\n\n    // if fee given, takeSurplus is ignored\n    const feeOrTakeSurplusSupplied =\n      partnerFeeBps !== undefined || partnerTakesSurplus !== undefined;\n\n    if (partnerAddress === undefined || feeOrTakeSurplusSupplied) {\n      const partner = options.partner || options.deltaPrice.partner;\n      const partnerFeeResponse = await getPartnerFee(\n        { partner },\n        requestParams\n      );\n\n      partnerAddress = partnerAddress ?? partnerFeeResponse.partnerAddress;\n      // deltaPrice.partnerFee and partnerFeeResponse.partnerFee should be the same, but give priority to externally provided\n      partnerFeeBps = partnerFeeBps ?? partnerFeeResponse.partnerFee;\n      partnerTakesSurplus =\n        partnerTakesSurplus ?? partnerFeeResponse.takeSurplus;\n    }\n\n    const bridge: Bridge = options.bridge\n      ? {\n          ...options.bridge,\n          multiCallHandler:\n            // multicallHandler will be provided when transferring Native ETH to a Smart Contract receiver\n            // otherwise Smart Contract receiver will get WETH\n            options.bridge.multiCallHandler || DEFAULT_BRIDGE.multiCallHandler,\n        }\n      : DEFAULT_BRIDGE;\n\n    const input: BuildDeltaOrderDataInput = {\n      owner: options.owner,\n      beneficiary: options.beneficiary,\n      srcToken: options.srcToken,\n      destToken: options.destToken,\n      srcAmount: options.srcAmount,\n      destAmount: options.destAmount,\n      expectedDestAmount: options.deltaPrice.destAmount,\n      deadline: options.deadline,\n      nonce: options.nonce?.toString(10),\n      permit: options.permit,\n\n      chainId,\n      paraswapDeltaAddress: ParaswapDelta,\n      partnerAddress,\n      partnerTakesSurplus,\n      partnerFeeBps,\n\n      bridge,\n    };\n\n    return buildDeltaSignableOrderData(input);\n  };\n\n  return {\n    buildDeltaOrder,\n  };\n};\n","import { API_URL } from '../../constants';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\nimport { DeltaAuctionOrder, ParaswapDeltaAuction } from './helpers/types';\n\nexport type DeltaOrderToPost = {\n  /** @description Partner string */\n  partner?: string;\n  /** @description Referrer address */\n  referrerAddress?: string;\n  order: DeltaAuctionOrder;\n  /** @description Signature of the order from order.owner address. EOA signatures must be submitted in ERC-2098 Compact Representation. */\n  signature: string;\n  chainId: number;\n  /** @description designates the Order as being able to partilly filled, as opposed to fill-or-kill */\n  partiallyFillable?: boolean;\n};\n\nexport type PostDeltaOrderParams = Omit<DeltaOrderToPost, 'chainId'>;\n\ntype DeltaOrderApiResponse = ParaswapDeltaAuction;\n\ntype PostDeltaOrder = (\n  postData: PostDeltaOrderParams,\n  requestParams?: RequestParameters\n) => Promise<DeltaOrderApiResponse>;\n\nexport type PostDeltaOrderFunctions = {\n  postDeltaOrder: PostDeltaOrder;\n};\n\nexport const constructPostDeltaOrder = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): PostDeltaOrderFunctions => {\n  const postOrderUrl = `${apiURL}/delta/orders` as const;\n\n  const postDeltaOrder: PostDeltaOrder = (postData, requestParams) => {\n    const deltaOrderToPost: DeltaOrderToPost = { ...postData, chainId };\n\n    return fetcher<DeltaOrderApiResponse>({\n      url: postOrderUrl,\n      method: 'POST',\n      data: deltaOrderToPost,\n      requestParams,\n    });\n  };\n\n  return { postDeltaOrder };\n};\n","import type { SignableDeltaOrderData } from './buildDeltaOrderData';\n\nexport function sanitizeDeltaOrderData({\n  owner,\n  beneficiary,\n  srcToken,\n  destToken,\n  srcAmount,\n  destAmount,\n  expectedDestAmount,\n  deadline,\n  nonce,\n  permit,\n  partnerAndFee,\n  bridge,\n}: SignableDeltaOrderData['data'] &\n  Record<string, any>): SignableDeltaOrderData['data'] {\n  return {\n    owner,\n    beneficiary,\n    srcToken,\n    destToken,\n    srcAmount,\n    destAmount,\n    expectedDestAmount,\n    deadline,\n    nonce,\n    permit,\n    partnerAndFee,\n    bridge,\n  };\n}\n","// import { deriveCompactSignature } from '../../helpers/misc';\nimport type { ConstructProviderFetchInput } from '../../types';\nimport { SignableDeltaOrderData } from './helpers/buildDeltaOrderData';\nimport { sanitizeDeltaOrderData } from './helpers/misc';\n\nexport type SignLimitOrderFunctions = {\n  signLimitOrder: (\n    signableOrderData: SignableDeltaOrderData\n  ) => Promise<string>;\n};\n\ntype SignDeltaOrder = (\n  signableOrderData: SignableDeltaOrderData\n) => Promise<string>;\n\nexport type SignDeltaOrderFunctions = {\n  signDeltaOrder: SignDeltaOrder;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructSignDeltaOrder = (\n  options: Pick<\n    ConstructProviderFetchInput<any, 'signTypedDataCall'>,\n    'contractCaller'\n  >\n): SignDeltaOrderFunctions => {\n  const signDeltaOrder: SignDeltaOrder = async (typedData) => {\n    // types allow to pass OrderData & extra_stuff, but tx will break like that\n    const typedDataOnly: SignableDeltaOrderData = {\n      ...typedData,\n      data: sanitizeDeltaOrderData(typedData.data),\n    };\n    const signature = await options.contractCaller.signTypedDataCall(\n      typedDataOnly\n    );\n\n    // Safe signature with only one signer has length 132\n    // but if it is compacted, the recovered address doesn't match the signer\n\n    return signature;\n\n    // if (signature.length > 132) {\n    //   // signature more than 65 bytes, likely a multisig\n    //   // not compatible with EIP-2098 Compact Signatures\n    //   return signature;\n    // }\n\n    // // both full and compact signatures work in the ParaswapDelta contract;\n    // // compact signature can be marginally more gas efficient\n    // try {\n    //   return deriveCompactSignature(signature);\n    // } catch {\n    //   return signature;\n    // }\n  };\n\n  return { signDeltaOrder };\n};\n","import { API_URL, SwapSide } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type { ConstructFetchInput, RequestParameters } from '../../types';\n\nexport type DeltaPriceParams = {\n  /** @description Source Token Address. Not Native Token */\n  srcToken: string;\n  /** @description Destination Token Address */\n  destToken: string;\n  /** @description srcToken amount in wei */\n  amount: string;\n  /** @description Source Token Decimals */\n  srcDecimals: number;\n  /** @description Destination Token Decimals */\n  destDecimals: number;\n  // side?: SwapSide; // no BUY side for now\n  /** @description User's Wallet Address */\n  userAddress?: string;\n  /** @description Partner string. */\n  partner?: string;\n  /** @description Destination Chain ID for Crosschain Orders */\n  destChainId?: number;\n};\n\ntype DeltaPriceQueryOptions = DeltaPriceParams & {\n  chainId: number; // will return error from API on unsupported chains\n  side: SwapSide.SELL;\n};\n\nexport type DeltaPrice = {\n  srcToken: string;\n  destToken: string;\n  srcAmount: string;\n  destAmount: string;\n  destAmountBeforeFee: string;\n  gasCost: string;\n  gasCostBeforeFee: string;\n  gasCostUSD: string;\n  gasCostUSDBeforeFee: string;\n  srcUSD: string;\n  destUSD: string;\n  destUSDBeforeFee: string;\n  partner: string;\n  partnerFee: number; // in %\n  hmac: string;\n};\n\nexport type BridgePrice = DeltaPrice & {\n  destTokenSrcChain: string;\n  destAmountAfterBridge: string;\n  destUSDAfterBridge: string;\n  bridgeFee: string;\n  bridgeFeeUSD: string;\n  poolAddress: string;\n};\n\ntype DeltaPriceResponse = {\n  price: DeltaPrice | BridgePrice;\n};\n\ninterface GetDeltaPrice {\n  (\n    options: DeltaPriceParams & { destChainId: number },\n    requestParams?: RequestParameters\n  ): Promise<BridgePrice>;\n  (\n    options: DeltaPriceParams & { destChainId?: undefined },\n    requestParams?: RequestParameters\n  ): Promise<DeltaPrice>;\n  (options: DeltaPriceParams, requestParams?: RequestParameters): Promise<\n    DeltaPrice | BridgePrice\n  >;\n}\n\nexport type GetDeltaPriceFunctions = {\n  getDeltaPrice: GetDeltaPrice;\n};\n\nexport const constructGetDeltaPrice = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetDeltaPriceFunctions => {\n  const pricesUrl = `${apiURL}/delta/prices` as const;\n\n  async function getDeltaPrice(\n    options: DeltaPriceParams & { destChainId: number },\n    requestParams?: RequestParameters\n  ): Promise<BridgePrice>;\n  async function getDeltaPrice(\n    options: DeltaPriceParams & { destChainId?: undefined },\n    requestParams?: RequestParameters\n  ): Promise<DeltaPrice>;\n  async function getDeltaPrice(\n    options: DeltaPriceParams,\n    requestParams?: RequestParameters\n  ): Promise<DeltaPrice | BridgePrice>;\n  async function getDeltaPrice(\n    options: DeltaPriceParams,\n    requestParams?: RequestParameters\n  ): Promise<DeltaPrice | BridgePrice> {\n    const search = constructSearchString<DeltaPriceQueryOptions>({\n      ...options,\n      chainId,\n      side: SwapSide.SELL, // so far SELL side only\n    });\n\n    const fetchURL = `${pricesUrl}/${search}` as const;\n\n    const data = await fetcher<DeltaPriceResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data.price;\n  }\n\n  return {\n    getDeltaPrice,\n  };\n};\n","import { API_URL } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\nimport type { ParaswapDeltaAuction } from './helpers/types';\n\ntype OrderFromAPI = Omit<ParaswapDeltaAuction, 'signature'>;\n\ntype GetDeltaOrderById = (\n  orderId: string,\n  requestParams?: RequestParameters\n) => Promise<OrderFromAPI>;\n\ntype GetDeltaOrderByHash = (\n  orderHash: string,\n  requestParams?: RequestParameters\n) => Promise<OrderFromAPI>;\n\ntype OrdersFilter = {\n  /** @description Order.owner to fetch Delta Order for */\n  userAddress: Address;\n  /** @description Pagination option, page. Default 1 */\n  page?: number;\n  /** @description Pagination option, limit. Default 100 */\n  limit?: number;\n};\ntype OrderFiltersQuery = OrdersFilter;\n\ntype GetDeltaOrders = (\n  options: OrdersFilter,\n  requestParams?: RequestParameters\n) => Promise<OrderFromAPI[]>;\n\nexport type GetDeltaOrdersFunctions = {\n  getDeltaOrderById: GetDeltaOrderById;\n  getDeltaOrderByHash: GetDeltaOrderByHash;\n  getDeltaOrders: GetDeltaOrders;\n};\n\nexport const constructGetDeltaOrders = ({\n  apiURL = API_URL,\n  fetcher,\n}: ConstructFetchInput): GetDeltaOrdersFunctions => {\n  const baseUrl = `${apiURL}/delta/orders` as const;\n\n  const getDeltaOrderById: GetDeltaOrderById = async (\n    orderId,\n    requestParams\n  ) => {\n    const fetchURL = `${baseUrl}/${orderId}` as const;\n\n    const order = await fetcher<OrderFromAPI>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return order;\n  };\n\n  const getDeltaOrderByHash: GetDeltaOrderByHash = async (\n    orderHash,\n    requestParams\n  ) => {\n    const fetchURL = `${baseUrl}/hash/${orderHash}` as const;\n\n    const order = await fetcher<OrderFromAPI>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return order;\n  };\n\n  const getDeltaOrders: GetDeltaOrders = async (options, requestParams) => {\n    const search = constructSearchString<OrderFiltersQuery>({\n      userAddress: options.userAddress,\n      page: options.page,\n      limit: options.limit,\n    });\n\n    const fetchURL = `${baseUrl}${search}` as const;\n\n    const orders = await fetcher<OrderFromAPI[]>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return orders;\n  };\n\n  return {\n    getDeltaOrderById,\n    getDeltaOrderByHash,\n    getDeltaOrders,\n  };\n};\n","import type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n} from '../../types';\nimport { ApproveToken, approveTokenMethodFactory } from '../../helpers/approve';\nimport { constructGetDeltaContract } from './getDeltaContract';\n\nexport type ApproveTokenForDeltaFunctions<T> = {\n  /** @description approving ParaswapDelta as spender for Token */\n  approveTokenForDelta: ApproveToken<T>;\n};\n\n// returns whatever `contractCaller` returns\n// to allow for better versatility\nexport const constructApproveTokenForDelta = <T>(\n  options: ConstructProviderFetchInput<T, 'transactCall'>\n): ApproveTokenForDeltaFunctions<T> => {\n  // getAugustusRFQ is cached internally for the same instance of SDK\n  // so should persist across same apiUrl & network\n  const { getDeltaContract } = constructGetDeltaContract(options);\n\n  const getParaswapDelta = async (requestParams?: RequestParameters) => {\n    const deltaContract = await getDeltaContract(requestParams);\n    if (!deltaContract) {\n      throw new Error(`Delta is not available on chain ${options.chainId}`);\n    }\n    return deltaContract;\n  };\n\n  const approveTokenForDelta: ApproveToken<T> = approveTokenMethodFactory<T>(\n    options.contractCaller,\n    getParaswapDelta\n  );\n\n  return {\n    approveTokenForDelta,\n  };\n};\n","import { API_URL } from '../../constants';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\n\n// srcChainId -> destChainId -> outputToken[]\n// output Tokens that are supported for a srcChainId -> destChainId pair\nexport type BridgeInfo = Record<number, Record<number, Address[]>>;\ntype BridgeInfoResponse = { supportedTokens: BridgeInfo };\n\ntype GetBridgeInfo = (requestParams?: RequestParameters) => Promise<BridgeInfo>;\n\nexport type GetBridgeInfoFunctions = {\n  getBridgeInfo: GetBridgeInfo;\n};\n\nexport const constructGetBridgeInfo = ({\n  apiURL = API_URL,\n  fetcher,\n}: ConstructFetchInput): GetBridgeInfoFunctions => {\n  const bridgeInfoUrl = `${apiURL}/delta/prices/bridge-info` as const;\n\n  const getBridgeInfo: GetBridgeInfo = async (requestParams) => {\n    const data = await fetcher<BridgeInfoResponse>({\n      url: bridgeInfoUrl,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data.supportedTokens;\n  };\n\n  return {\n    getBridgeInfo,\n  };\n};\n","import { API_URL } from '../../constants';\nimport { runOnceAndCache } from '../../helpers/misc';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\n\n// chainId -> multicallHandler\nexport type MulticallHandlersResponse = Record<number, Address>;\n\ntype GetMulticallHandlers = (\n  requestParams?: RequestParameters\n) => Promise<MulticallHandlersResponse>;\n\nexport type GetMulticallHandlersFunctions = {\n  getMulticallHandlers: GetMulticallHandlers;\n};\n\nexport const constructGetMulticallHandlers = ({\n  apiURL = API_URL,\n  fetcher,\n}: ConstructFetchInput): GetMulticallHandlersFunctions => {\n  const multicallHandlersUrl =\n    `${apiURL}/delta/prices/multicall-handlers` as const;\n\n  const _getMulticallHandlers: GetMulticallHandlers = async (requestParams) => {\n    const data = await fetcher<MulticallHandlersResponse>({\n      url: multicallHandlersUrl,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data;\n  };\n\n  // cached for the same instance of `{getMulticallHandlers} = constructGetMulticallHandlers()`\n  // so should persist across same apiUrl & network (and response is even network agnostic)\n  const getMulticallHandlers = runOnceAndCache(_getMulticallHandlers);\n\n  return {\n    getMulticallHandlers,\n  };\n};\n","import { API_URL } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type {\n  Address,\n  ConstructFetchInput,\n  RequestParameters,\n} from '../../types';\n\ntype TokenSupportedInDeltaResponse = { supported: boolean };\ntype IsTokenSupportedInDeltaQueryOptions = {\n  token: Address;\n  chainId: number;\n};\n\ntype IsTokenSupportedInDelta = (\n  token: Address,\n  requestParams?: RequestParameters\n) => Promise<boolean>;\n\nexport type IsTokenSupportedInDeltaFunctions = {\n  isTokenSupportedInDelta: IsTokenSupportedInDelta;\n};\n\nexport const constructIsTokenSupportedInDelta = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): IsTokenSupportedInDeltaFunctions => {\n  const bridgeInfoUrl = `${apiURL}/delta/prices/is-token-supported` as const;\n\n  const isTokenSupportedInDelta: IsTokenSupportedInDelta = async (\n    token,\n    requestParams\n  ) => {\n    const search = constructSearchString<IsTokenSupportedInDeltaQueryOptions>({\n      token,\n      chainId,\n    });\n\n    const fetchURL = `${bridgeInfoUrl}/${search}` as const;\n\n    const data = await fetcher<TokenSupportedInDeltaResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data.supported;\n  };\n\n  return {\n    isTokenSupportedInDelta,\n  };\n};\n","import { API_URL, SwapSide } from '../../constants';\nimport { constructSearchString } from '../../helpers/misc';\nimport type { DeltaPrice } from '../delta/getDeltaPrice';\nimport type {\n  ConstructFetchInput,\n  EnumerateLiteral,\n  RequestParameters,\n  OptimalRate,\n} from '../../types';\n\ntype TradeMode = 'delta' | 'market' | 'all';\n// enable passing enum value by string\ntype SwapSideUnion = EnumerateLiteral<typeof SwapSide>;\n\nexport type QuoteParams<M extends TradeMode = TradeMode> = {\n  /** @description Source Token Address */\n  srcToken: string;\n  /** @description Destination Token Address */\n  destToken: string;\n  /** @description srcToken amount (in case of SELL) or destToken amount (in case of BUY), in wei */\n  amount: string;\n  /** @description Source Token Decimals.  */\n  srcDecimals: number;\n  /** @description Destination Token Decimals */\n  destDecimals: number;\n  /** @description SELL or BUY */\n  side: SwapSideUnion;\n  /** @description User's Wallet Address */\n  userAddress?: string;\n  /** @description Partner string */\n  partner?: string;\n  /** @description Preferred mode for the trade. In case of \"all\", Delta pricing is returned, with Market as a fallback */\n  mode: M;\n};\n\ntype QuoteQueryOptions = QuoteParams & {\n  chainId: number; // will return error from API on unsupported chains\n};\n\ntype FallbackReason = {\n  errorType: string;\n  details: string;\n};\n\nexport type QuoteWithMarketPrice = {\n  market: OptimalRate;\n};\n\nexport type QuoteWithDeltaPrice = {\n  delta: DeltaPrice;\n};\n\nexport type QuoteWithMarketPriceAsFallback = QuoteWithMarketPrice & {\n  fallbackReason: FallbackReason;\n};\n\nexport type QuoteResponse =\n  | QuoteWithDeltaPrice\n  | QuoteWithMarketPrice\n  | QuoteWithMarketPriceAsFallback;\n\ninterface GetQuoteFunc {\n  (\n    options: QuoteParams<'delta'>,\n    requestParams?: RequestParameters\n  ): Promise<QuoteWithDeltaPrice>;\n  (\n    options: QuoteParams<'market'>,\n    requestParams?: RequestParameters\n  ): Promise<QuoteWithMarketPrice>;\n  (options: QuoteParams<'all'>, requestParams?: RequestParameters): Promise<\n    QuoteWithDeltaPrice | QuoteWithMarketPriceAsFallback // \"all\" mode tries for deltaPrice and falls back to market priceRoute\n  >;\n  (\n    options: QuoteParams,\n    requestParams?: RequestParameters\n  ): Promise<QuoteResponse>;\n}\n\nexport type GetQuoteFunctions = {\n  getQuote: GetQuoteFunc;\n};\n\nexport const constructGetQuote = ({\n  apiURL = API_URL,\n  chainId,\n  fetcher,\n}: ConstructFetchInput): GetQuoteFunctions => {\n  const pricesUrl = `${apiURL}/quote` as const;\n\n  function getQuote(\n    options: QuoteParams<'delta'>,\n    requestParams?: RequestParameters\n  ): Promise<QuoteWithDeltaPrice>;\n  function getQuote(\n    options: QuoteParams<'market'>,\n    requestParams?: RequestParameters\n  ): Promise<QuoteWithMarketPrice>;\n  function getQuote(\n    options: QuoteParams<'all'>,\n    requestParams?: RequestParameters\n  ): Promise<QuoteWithDeltaPrice | QuoteWithMarketPriceAsFallback>;\n  function getQuote(\n    options: QuoteParams,\n    requestParams?: RequestParameters\n  ): Promise<QuoteResponse>;\n  async function getQuote(\n    options: QuoteParams,\n    requestParams?: RequestParameters\n  ): Promise<QuoteResponse> {\n    const search = constructSearchString<QuoteQueryOptions>({\n      ...options,\n      chainId,\n      // side: SwapSide.SELL, // so far SELL side only for Delta\n    });\n\n    const fetchURL = `${pricesUrl}/${search}` as const;\n\n    const data = await fetcher<QuoteResponse>({\n      url: fetchURL,\n      method: 'GET',\n      requestParams,\n    });\n\n    return data;\n  }\n\n  return {\n    getQuote,\n  };\n};\n","import type {\n  AnyFunction,\n  ConstructBaseInput,\n  ConstructFetchInput,\n  ConstructProviderFetchInput,\n} from '../types';\nimport type { Merge, UnionToIntersection } from 'ts-essentials';\nimport type { ApproveTokenFunctions } from '../methods/swap/approve';\nimport type { CancelLimitOrderFunctions } from '../methods/limitOrders/cancelOrder';\nimport type { ApproveTokenForLimitOrderFunctions } from '../methods/limitOrders/approveForOrder';\nimport type { CancelNFTOrderFunctions } from '../methods/nftOrders/cancelOrder';\nimport type { ApproveTokenForNFTOrderFunctions } from '../methods/nftOrders/approveForOrder';\nimport type { FillOrderDirectlyFunctions } from '../methods/limitOrders/fillOrderDirectly';\nimport type { ApproveTokenForDeltaFunctions } from '../methods/delta/approveForDelta';\nimport { API_URL, DEFAULT_VERSION } from '../constants';\n\nexport type SDKConfig<TxResponse = any> = ConstructProviderFetchInput<\n  TxResponse,\n  'staticCall' | 'transactCall' | 'signTypedDataCall'\n> &\n  ConstructFetchInput;\n\ntype SDKFunction<T extends ConstructBaseInput> = (\n  config: T\n) => Record<string, AnyFunction | Record<string, AnyFunction>>;\n\ntype IntersectionOfReturns<Funcs extends AnyFunction[]> = UnionToIntersection<\n  ReturnType<Funcs[number]>\n>;\n\ntype PartialSDKResult<\n  Config extends ConstructBaseInput,\n  Funcs extends [SDKFunction<Config>, ...SDKFunction<Config>[]]\n> = InferWithTxResponse<Config, Funcs>;\n\ntype InferWithTxResponse<\n  Config extends ConstructBaseInput,\n  Funcs extends [SDKFunction<Config>, ...SDKFunction<Config>[]]\n> = Config extends SDKConfig<infer TxResponse> // if can infer TxResponse inside Config\n  ? // and if returns can be successfully intersected\n    IntersectionOfReturns<Funcs> extends Record<string, any>\n    ? MergeExtendableRecursively<\n        IntersectionOfReturns<Funcs>,\n        [\n          // if there are ApproveTokenFunctions or CancelLimitOrderFunctions in the intersection\n          // which means constructApproveToken or constructCancelLimitOrder was passed in Funcs\n          ApproveTokenFunctions<TxResponse>,\n          CancelLimitOrderFunctions<TxResponse>,\n          FillOrderDirectlyFunctions<TxResponse>,\n          ApproveTokenForLimitOrderFunctions<TxResponse>,\n          CancelNFTOrderFunctions<TxResponse>,\n          ApproveTokenForNFTOrderFunctions<TxResponse>,\n          ApproveTokenForDeltaFunctions<TxResponse>\n        ]\n        // then merge IntersectionOfReturns<Funcs> with them recursively\n      >\n    : IntersectionOfReturns<Funcs>\n  : IntersectionOfReturns<Funcs>;\n\n// merges Accum with Replacement\n// if Accum has keys of Replacement\ntype MergeExtendableOnce<\n  Accum extends Record<string, any>,\n  Replacement extends Record<string, any>\n> = Accum extends Record<keyof Replacement, any>\n  ? Merge<Accum, Replacement>\n  : Accum;\n\n// recursively merges Accum with each Replacement\n// if Accum has keys of Replacement\ntype MergeExtendableRecursively<\n  Accum extends Record<string, any>,\n  Replacements extends Record<string, any>[]\n> = Replacements extends [\n  head: infer Head extends Record<string, any>,\n  ...tail: infer Tail\n]\n  ? Tail extends Record<string, any>[]\n    ? MergeExtendableRecursively<MergeExtendableOnce<Accum, Head>, Tail>\n    : MergeExtendableOnce<Accum, Head>\n  : Accum;\n\n/** @description construct composable SDK with methods you choose yourself */\nexport const constructPartialSDK = <\n  Config extends ConstructBaseInput,\n  Funcs extends [SDKFunction<Config>, ...SDKFunction<Config>[]]\n>(\n  config: Config, // config is auto-inferred to cover the used functions\n  ...funcs: Funcs\n): PartialSDKResult<Config, Funcs> & Required<ConstructBaseInput> => {\n  const sdkFuncs = funcs.reduce<Partial<IntersectionOfReturns<Funcs>>>(\n    (accum, func) => {\n      const sdkSlice = func(config);\n      return Object.assign(accum, sdkSlice);\n    },\n    {}\n  );\n\n  const sdk = {\n    ...sdkFuncs,\n    apiURL: config.apiURL ?? API_URL,\n    version: config.version ?? DEFAULT_VERSION,\n    chainId: config.chainId,\n  } as PartialSDKResult<Config, Funcs> & Required<ConstructBaseInput>;\n\n  return sdk;\n};\n","import { constructPartialSDK, SDKConfig } from '../../sdk/partial';\nimport { constructGetAdapters, GetAdaptersFunctions } from './adapters';\nimport { ApproveTokenFunctions, constructApproveToken } from './approve';\nimport { constructGetBalances, GetBalancesFunctions } from './balance';\nimport { constructGetRate, GetRateFunctions } from './rates';\nimport { constructGetSpender, GetSpenderFunctions } from './spender';\nimport { constructSwapTx, GetSwapTxFunctions } from './swapTx';\nimport { constructGetTokens, GetTokensFunctions } from './token';\nimport { BuildTxFunctions, constructBuildTx } from './transaction';\n\nexport type SwapSDKMethods<TxResponse> = GetBalancesFunctions &\n  GetTokensFunctions &\n  GetSpenderFunctions &\n  ApproveTokenFunctions<TxResponse> &\n  BuildTxFunctions &\n  GetAdaptersFunctions &\n  GetRateFunctions &\n  GetSwapTxFunctions;\n\n/** @description construct SDK with every Swap-related method, fetching from API and token approval */\nexport const constructSwapSDK = <TxResponse>(\n  config: SDKConfig<TxResponse>\n): SwapSDKMethods<TxResponse> => {\n  const constructApproveTokenWithTxResponse = constructApproveToken<TxResponse>;\n\n  // include all available Swap methods\n  return constructPartialSDK(\n    config,\n    constructGetBalances,\n    constructGetTokens,\n    constructGetSpender,\n    constructApproveTokenWithTxResponse,\n    constructBuildTx,\n    constructGetAdapters,\n    constructGetRate,\n    constructSwapTx\n  );\n};\n","import type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n} from '../../types';\nimport type { LimitOrderToSend, LimitOrderFromApi } from './helpers/types';\nimport {\n  BuildLimitOrderFunctions,\n  BuildLimitOrderInput,\n  constructBuildLimitOrder,\n} from './buildOrder';\nimport {\n  CancelLimitOrderFunctions,\n  constructCancelLimitOrder,\n} from './cancelOrder';\nimport { constructGetLimitOrders, GetLimitOrdersFunctions } from './getOrders';\nimport { constructPostLimitOrder, PostLimitOrderFunctions } from './postOrder';\nimport { constructSignLimitOrder, SignLimitOrderFunctions } from './signOrder';\nimport {\n  constructApproveTokenForLimitOrder,\n  ApproveTokenForLimitOrderFunctions,\n} from './approveForOrder';\nimport {\n  GetLimitOrdersContractFunctions,\n  constructGetLimitOrdersContract,\n} from './getOrdersContract';\nimport {\n  BuildLimitOrdersTxFunctions,\n  constructBuildLimitOrderTx,\n} from './transaction';\nimport type { Address } from '@paraswap/core';\nimport {\n  FillOrderDirectlyFunctions,\n  constructFillOrderDirectly,\n} from './fillOrderDirectly';\n\ntype SubmitLimitOrder = (\n  buildLimitOrderParams: BuildLimitOrderInput,\n  extra?: { permitMakerAsset?: string },\n  requestParams?: RequestParameters\n) => Promise<LimitOrderFromApi>;\n\ntype SubmitP2POrder = (\n  buildLimitOrderParams: BuildLimitOrderInput & { taker: Address },\n  extra?: { permitMakerAsset?: string },\n  requestParams?: RequestParameters\n) => Promise<LimitOrderFromApi>;\n\nexport type SubmitLimitOrderFuncs = {\n  submitLimitOrder: SubmitLimitOrder;\n  submitP2POrder: SubmitP2POrder;\n};\n\nexport const constructSubmitLimitOrder = (\n  options: ConstructProviderFetchInput<any, 'signTypedDataCall'>\n): SubmitLimitOrderFuncs => {\n  const { buildLimitOrder } = constructBuildLimitOrder(options);\n  const { signLimitOrder } = constructSignLimitOrder(options);\n  const { postLimitOrder, postP2POrder } = constructPostLimitOrder(options);\n\n  const prepareLimitOrder = async (\n    buildLimitOrderParams: BuildLimitOrderInput,\n    extra?: { permitMakerAsset?: string }\n  ): Promise<LimitOrderToSend> => {\n    const orderData = await buildLimitOrder(buildLimitOrderParams);\n    const signature = await signLimitOrder(orderData);\n\n    const orderWithSignature: LimitOrderToSend = {\n      ...orderData.data,\n      ...extra,\n      signature,\n    };\n\n    return orderWithSignature;\n  };\n\n  const submitLimitOrder: SubmitLimitOrder = async (\n    buildLimitOrderParams,\n    extra = {},\n    requestParams\n  ) => {\n    const orderWithSignature: LimitOrderToSend = await prepareLimitOrder(\n      buildLimitOrderParams,\n      extra\n    );\n\n    const newOrder = await postLimitOrder(orderWithSignature, requestParams);\n\n    return newOrder;\n  };\n\n  const submitP2POrder: SubmitP2POrder = async (\n    buildLimitOrderParams,\n    extra = {},\n    requestParams\n  ) => {\n    const orderWithSignature: LimitOrderToSend = await prepareLimitOrder(\n      buildLimitOrderParams,\n      extra\n    );\n\n    const newOrder = await postP2POrder(orderWithSignature, requestParams);\n\n    return newOrder;\n  };\n\n  return { submitLimitOrder, submitP2POrder };\n};\n\nexport type LimitOrderHandlers<T> = SubmitLimitOrderFuncs &\n  BuildLimitOrderFunctions &\n  SignLimitOrderFunctions &\n  PostLimitOrderFunctions &\n  GetLimitOrdersFunctions &\n  GetLimitOrdersContractFunctions &\n  BuildLimitOrdersTxFunctions &\n  CancelLimitOrderFunctions<T> &\n  ApproveTokenForLimitOrderFunctions<T> &\n  FillOrderDirectlyFunctions<T>;\n\n/** @description construct SDK with every LimitOrders-related method, fetching from API and contract calls */\nexport const constructAllLimitOrdersHandlers = <TxResponse>(\n  options: ConstructProviderFetchInput<\n    TxResponse,\n    'signTypedDataCall' | 'transactCall' | 'staticCall'\n  >\n): LimitOrderHandlers<TxResponse> => {\n  const limitOrdersGetters = constructGetLimitOrders(options);\n  const limitOrdersContractGetter = constructGetLimitOrdersContract(options);\n\n  const limitOrdersSubmit = constructSubmitLimitOrder(options);\n  const limitOrdersBuild = constructBuildLimitOrder(options);\n  const limitOrdersSign = constructSignLimitOrder(options);\n  const limitOrdersPost = constructPostLimitOrder(options);\n\n  const limitOrdersCancel = constructCancelLimitOrder(options);\n  const limitOrdersApproveToken = constructApproveTokenForLimitOrder(options);\n\n  const limitOrdersFillOrderDirectly = constructFillOrderDirectly(options);\n\n  const limitOrdersBuildTx = constructBuildLimitOrderTx(options);\n\n  return {\n    ...limitOrdersGetters,\n    ...limitOrdersContractGetter,\n    ...limitOrdersSubmit,\n    ...limitOrdersBuild,\n    ...limitOrdersSign,\n    ...limitOrdersPost,\n    ...limitOrdersCancel,\n    ...limitOrdersApproveToken,\n    ...limitOrdersFillOrderDirectly,\n    ...limitOrdersBuildTx,\n  };\n};\n","import type { ConstructProviderFetchInput } from '../../types';\nimport type { ParaswapDeltaAuction } from './helpers/types';\nimport {\n  BuildDeltaOrderDataParams,\n  BuildDeltaOrderFunctions,\n  constructBuildDeltaOrder,\n} from './buildDeltaOrder';\nimport {\n  constructPostDeltaOrder,\n  PostDeltaOrderFunctions,\n} from './postDeltaOrder';\nimport {\n  constructSignDeltaOrder,\n  SignDeltaOrderFunctions,\n} from './signDeltaOrder';\nimport {\n  GetDeltaContractFunctions,\n  constructGetDeltaContract,\n} from './getDeltaContract';\nimport {\n  constructGetDeltaPrice,\n  GetDeltaPriceFunctions,\n} from './getDeltaPrice';\nimport {\n  constructGetDeltaOrders,\n  GetDeltaOrdersFunctions,\n} from './getDeltaOrders';\nimport {\n  constructGetPartnerFee,\n  GetPartnerFeeFunctions,\n} from './getPartnerFee';\nimport {\n  ApproveTokenForDeltaFunctions,\n  constructApproveTokenForDelta,\n} from './approveForDelta';\nimport {\n  constructGetBridgeInfo,\n  GetBridgeInfoFunctions,\n} from './getBridgeInfo';\nimport {\n  constructGetMulticallHandlers,\n  GetMulticallHandlersFunctions,\n} from './getMulticallHandlers';\nimport {\n  constructIsTokenSupportedInDelta,\n  IsTokenSupportedInDeltaFunctions,\n} from './isTokenSupportedInDelta';\n\nexport type SubmitDeltaOrderParams = BuildDeltaOrderDataParams & {\n  /** @description designates the Order as being able to be partilly filled, as opposed to fill-or-kill */\n  partiallyFillable?: boolean;\n};\n\ntype SubmitDeltaOrder = (\n  orderParams: SubmitDeltaOrderParams\n) => Promise<ParaswapDeltaAuction>;\n\nexport type SubmitDeltaOrderFuncs = {\n  submitDeltaOrder: SubmitDeltaOrder;\n};\n\nexport const constructSubmitDeltaOrder = (\n  options: ConstructProviderFetchInput<any, 'signTypedDataCall'>\n): SubmitDeltaOrderFuncs => {\n  const { buildDeltaOrder } = constructBuildDeltaOrder(options);\n  const { signDeltaOrder } = constructSignDeltaOrder(options);\n  const { postDeltaOrder } = constructPostDeltaOrder(options);\n\n  const submitDeltaOrder: SubmitDeltaOrder = async (orderParams) => {\n    const orderData = await buildDeltaOrder(orderParams);\n    const signature = await signDeltaOrder(orderData);\n\n    const response = await postDeltaOrder({\n      signature,\n      partner: orderParams.partner,\n      order: orderData.data,\n      partiallyFillable: orderParams.partiallyFillable,\n    });\n\n    return response;\n  };\n\n  return { submitDeltaOrder };\n};\n\nexport type DeltaOrderHandlers<T> = SubmitDeltaOrderFuncs &\n  ApproveTokenForDeltaFunctions<T> &\n  BuildDeltaOrderFunctions &\n  GetDeltaOrdersFunctions &\n  GetDeltaPriceFunctions &\n  GetDeltaContractFunctions &\n  GetPartnerFeeFunctions &\n  GetMulticallHandlersFunctions &\n  GetBridgeInfoFunctions &\n  IsTokenSupportedInDeltaFunctions &\n  PostDeltaOrderFunctions &\n  SignDeltaOrderFunctions;\n\n/** @description construct SDK with every Delta Order-related method, fetching from API and Order signing */\nexport const constructAllDeltaOrdersHandlers = <TxResponse>(\n  options: ConstructProviderFetchInput<\n    TxResponse,\n    'signTypedDataCall' | 'transactCall'\n  >\n): DeltaOrderHandlers<TxResponse> => {\n  const deltaOrdersGetters = constructGetDeltaOrders(options);\n  const deltaOrdersContractGetter = constructGetDeltaContract(options);\n  const deltaPrice = constructGetDeltaPrice(options);\n\n  const partnerFee = constructGetPartnerFee(options);\n  const bridgeInfo = constructGetBridgeInfo(options);\n  const isTokenSupportedInDelta = constructIsTokenSupportedInDelta(options);\n  const multicallHandlers = constructGetMulticallHandlers(options);\n\n  const approveTokenForDelta = constructApproveTokenForDelta(options);\n\n  const deltaOrdersSubmit = constructSubmitDeltaOrder(options);\n\n  const deltaOrdersBuild = constructBuildDeltaOrder(options);\n  const deltaOrdersSign = constructSignDeltaOrder(options);\n  const deltaOrdersPost = constructPostDeltaOrder(options);\n\n  return {\n    ...deltaOrdersGetters,\n    ...deltaOrdersContractGetter,\n    ...deltaPrice,\n    ...partnerFee,\n    ...bridgeInfo,\n    ...isTokenSupportedInDelta,\n    ...multicallHandlers,\n    ...approveTokenForDelta,\n    ...deltaOrdersSubmit,\n    ...deltaOrdersBuild,\n    ...deltaOrdersSign,\n    ...deltaOrdersPost,\n  };\n};\n","import type {\n  ConstructProviderFetchInput,\n  RequestParameters,\n} from '../../types';\nimport type { NFTOrderToSend, NFTOrderFromAPI } from './helpers/types';\nimport {\n  BuildNFTOrderFunctions,\n  BuildNFTOrderInput,\n  constructBuildNFTOrder,\n} from './buildOrder';\nimport {\n  CancelNFTOrderFunctions,\n  constructCancelNFTOrder,\n} from './cancelOrder';\nimport { constructGetNFTOrders, GetNFTOrdersFunctions } from './getOrders';\nimport { constructPostNFTOrder, PostNFTOrderFunctions } from './postOrder';\nimport { constructSignNFTOrder, SignNFTOrderFunctions } from './signOrder';\nimport {\n  constructApproveTokenForNFTOrder,\n  ApproveTokenForNFTOrderFunctions,\n} from './approveForOrder';\nimport {\n  GetNFTOrdersContractFunctions,\n  constructGetNFTOrdersContract,\n} from './getOrdersContract';\nimport {\n  BuildNFTOrdersTxFunctions,\n  constructBuildNFTOrderTx,\n} from './transaction';\n\ntype SubmitNFTOrder = (\n  buildNFTOrderParams: BuildNFTOrderInput,\n  extra?: { permitMakerAsset?: string },\n  requestParams?: RequestParameters\n) => Promise<NFTOrderFromAPI>;\n\nexport type SubmitNFTOrderFuncs = {\n  submitNFTOrder: SubmitNFTOrder;\n  submitP2POrder: SubmitNFTOrder;\n};\n\nexport const constructSubmitNFTOrder = (\n  options: ConstructProviderFetchInput<any, 'signTypedDataCall'>\n): SubmitNFTOrderFuncs => {\n  const { buildNFTOrder } = constructBuildNFTOrder(options);\n  const { signNFTOrder } = constructSignNFTOrder(options);\n  const { postNFTLimitOrder, postNFTP2POrder } = constructPostNFTOrder(options);\n\n  const prepareNFTOrder = async (\n    buildNFTOrderParams: BuildNFTOrderInput,\n    extra?: { permitMakerAsset?: string }\n  ): Promise<NFTOrderToSend> => {\n    const orderData = await buildNFTOrder(buildNFTOrderParams);\n    const signature = await signNFTOrder(orderData);\n\n    const orderWithSignature: NFTOrderToSend = {\n      ...orderData.data,\n      ...extra,\n      signature,\n    };\n\n    return orderWithSignature;\n  };\n\n  const submitNFTOrder: SubmitNFTOrder = async (\n    buildNFTOrderParams,\n    extra = {},\n    requestParams\n  ) => {\n    const orderWithSignature: NFTOrderToSend = await prepareNFTOrder(\n      buildNFTOrderParams,\n      extra\n    );\n\n    const newOrder = await postNFTLimitOrder(orderWithSignature, requestParams);\n\n    return newOrder;\n  };\n\n  const submitP2POrder: SubmitNFTOrder = async (\n    buildNFTOrderParams,\n    extra = {},\n    requestParams\n  ) => {\n    const orderWithSignature: NFTOrderToSend = await prepareNFTOrder(\n      buildNFTOrderParams,\n      extra\n    );\n\n    const newOrder = await postNFTP2POrder(orderWithSignature, requestParams);\n\n    return newOrder;\n  };\n\n  return { submitNFTOrder, submitP2POrder };\n};\n\nexport type NFTOrderHandlers<T> = SubmitNFTOrderFuncs &\n  BuildNFTOrderFunctions &\n  SignNFTOrderFunctions &\n  PostNFTOrderFunctions &\n  GetNFTOrdersFunctions &\n  GetNFTOrdersContractFunctions &\n  BuildNFTOrdersTxFunctions &\n  CancelNFTOrderFunctions<T> &\n  ApproveTokenForNFTOrderFunctions<T>;\n\n/** @description construct SDK with every NFTOrders-related method, fetching from API and contract calls */\nexport const constructAllNFTOrdersHandlers = <TxResponse>(\n  options: ConstructProviderFetchInput<\n    TxResponse,\n    'signTypedDataCall' | 'transactCall' | 'staticCall'\n  >\n): NFTOrderHandlers<TxResponse> => {\n  const NFTOrdersGetters = constructGetNFTOrders(options);\n  const NFTOrdersContractGetter = constructGetNFTOrdersContract(options);\n\n  const NFTOrdersSubmit = constructSubmitNFTOrder(options);\n  const NFTOrdersBuild = constructBuildNFTOrder(options);\n  const NFTOrdersSign = constructSignNFTOrder(options);\n  const NFTOrdersPost = constructPostNFTOrder(options);\n\n  const NFTOrdersCancel = constructCancelNFTOrder(options);\n  const NFTOrdersApproveToken = constructApproveTokenForNFTOrder(options);\n\n  const NFTOrdersBuildTx = constructBuildNFTOrderTx(options);\n\n  return {\n    ...NFTOrdersGetters,\n    ...NFTOrdersContractGetter,\n    ...NFTOrdersSubmit,\n    ...NFTOrdersBuild,\n    ...NFTOrdersSign,\n    ...NFTOrdersPost,\n    ...NFTOrdersCancel,\n    ...NFTOrdersApproveToken,\n    ...NFTOrdersBuildTx,\n  };\n};\n","import type { SDKConfig } from './partial';\nimport { constructSwapSDK, SwapSDKMethods } from '../methods/swap';\nimport {\n  constructAllLimitOrdersHandlers,\n  LimitOrderHandlers,\n} from '../methods/limitOrders';\nimport {\n  constructAllNFTOrdersHandlers,\n  NFTOrderHandlers,\n} from '../methods/nftOrders';\nimport {\n  constructAllDeltaOrdersHandlers,\n  DeltaOrderHandlers,\n} from '../methods/delta';\nimport {\n  constructGetQuote,\n  GetQuoteFunctions,\n} from '../methods/quote/getQuote';\nimport { ConstructBaseInput } from '../types';\nimport { API_URL, DEFAULT_VERSION } from '../constants';\n\nexport type AllSDKMethods<TxResponse> = {\n  swap: SwapSDKMethods<TxResponse>;\n  limitOrders: LimitOrderHandlers<TxResponse>;\n  nftOrders: NFTOrderHandlers<TxResponse>;\n  delta: DeltaOrderHandlers<TxResponse>;\n  quote: GetQuoteFunctions;\n} & Required<ConstructBaseInput>;\n\n/** @description construct SDK with every method, for swap and limitOrders */\nexport const constructFullSDK = <TxResponse = any>(\n  config: SDKConfig<TxResponse>\n): AllSDKMethods<TxResponse> => {\n  // include all available functions\n  const swap: SwapSDKMethods<TxResponse> = constructSwapSDK(config);\n  const limitOrders: LimitOrderHandlers<TxResponse> =\n    constructAllLimitOrdersHandlers(config);\n  const nftOrders: NFTOrderHandlers<TxResponse> =\n    constructAllNFTOrdersHandlers(config);\n  const delta: DeltaOrderHandlers<TxResponse> =\n    constructAllDeltaOrdersHandlers(config);\n  const quote = constructGetQuote(config);\n\n  return {\n    swap,\n    limitOrders,\n    nftOrders,\n    delta,\n    quote,\n    apiURL: config.apiURL ?? API_URL,\n    chainId: config.chainId,\n    version: config.version ?? DEFAULT_VERSION,\n  };\n};\n","import { constructPartialSDK, SDKConfig } from './partial';\nimport {\n  GetAdaptersFunctions,\n  constructGetAdapters,\n} from '../methods/swap/adapters';\nimport {\n  GetBalancesFunctions,\n  constructGetBalances,\n} from '../methods/swap/balance';\nimport { GetRateFunctions, constructGetRate } from '../methods/swap/rates';\nimport {\n  GetSpenderFunctions,\n  constructGetSpender,\n} from '../methods/swap/spender';\nimport { GetTokensFunctions, constructGetTokens } from '../methods/swap/token';\nimport {\n  BuildTxFunctions,\n  constructBuildTx,\n} from '../methods/swap/transaction';\nimport { constructSwapTx, GetSwapTxFunctions } from '../methods/swap/swapTx';\n\nimport {\n  constructAxiosFetcher,\n  constructFetchFetcher,\n  constructEthersV5ContractCaller,\n  constructEthersV6ContractCaller,\n  constructWeb3ContractCaller,\n  constructViemContractCaller,\n} from '../helpers';\n\nimport type {\n  ConstructBaseInput,\n  ConstructFetchInput,\n  ContractCallerFunctions,\n  TransactionContractCallerFn,\n  TxHash,\n  Address,\n  FetcherFunction,\n  ExtraFetchParams,\n} from '../types';\n\nimport type { EthersProviderDeps, MinViemClient } from '../helpers';\nimport type Web3 from 'web3';\n\nimport type { SwapSDKMethods } from '../methods/swap';\nimport {\n  BuildLimitOrderFunctions,\n  constructBuildLimitOrder,\n} from '../methods/limitOrders/buildOrder';\nimport {\n  constructPostLimitOrder,\n  PostLimitOrderFunctions,\n} from '../methods/limitOrders/postOrder';\nimport {\n  constructGetLimitOrders,\n  GetLimitOrdersFunctions,\n} from '../methods/limitOrders/getOrders';\nimport {\n  constructGetLimitOrdersContract,\n  GetLimitOrdersContractFunctions,\n} from '../methods/limitOrders/getOrdersContract';\nimport {\n  constructBuildLimitOrderTx,\n  BuildLimitOrdersTxFunctions,\n} from '../methods/limitOrders/transaction';\nimport {\n  constructAllLimitOrdersHandlers,\n  LimitOrderHandlers,\n} from '../methods/limitOrders';\n\nimport {\n  constructGetNFTOrdersContract,\n  GetNFTOrdersContractFunctions,\n} from '../methods/nftOrders/getOrdersContract';\nimport {\n  constructGetNFTOrders,\n  GetNFTOrdersFunctions,\n} from '../methods/nftOrders/getOrders';\nimport {\n  BuildNFTOrderFunctions,\n  constructBuildNFTOrder,\n} from '../methods/nftOrders/buildOrder';\nimport {\n  constructPostNFTOrder,\n  PostNFTOrderFunctions,\n} from '../methods/nftOrders/postOrder';\nimport {\n  constructBuildNFTOrderTx,\n  BuildNFTOrdersTxFunctions,\n} from '../methods/nftOrders/transaction';\nimport {\n  constructAllNFTOrdersHandlers,\n  NFTOrderHandlers,\n} from '../methods/nftOrders';\n\nimport { constructSwapSDK } from '../methods/swap';\nimport type { AxiosRequirement } from '../helpers/fetchers/axios';\nimport { API_URL, DEFAULT_VERSION } from '../constants';\nimport {\n  constructAllDeltaOrdersHandlers,\n  DeltaOrderHandlers,\n} from '../methods/delta';\nimport {\n  BuildDeltaOrderFunctions,\n  constructBuildDeltaOrder,\n} from '../methods/delta/buildDeltaOrder';\nimport {\n  constructGetDeltaOrders,\n  GetDeltaOrdersFunctions,\n} from '../methods/delta/getDeltaOrders';\nimport {\n  constructGetDeltaPrice,\n  GetDeltaPriceFunctions,\n} from '../methods/delta/getDeltaPrice';\nimport {\n  constructGetDeltaContract,\n  GetDeltaContractFunctions,\n} from '../methods/delta/getDeltaContract';\nimport {\n  constructGetPartnerFee,\n  GetPartnerFeeFunctions,\n} from '../methods/delta/getPartnerFee';\nimport {\n  constructPostDeltaOrder,\n  PostDeltaOrderFunctions,\n} from '../methods/delta/postDeltaOrder';\nimport {\n  constructGetQuote,\n  GetQuoteFunctions,\n} from '../methods/quote/getQuote';\nimport {\n  constructGetBridgeInfo,\n  GetBridgeInfoFunctions,\n} from '../methods/delta/getBridgeInfo';\nimport {\n  constructGetMulticallHandlers,\n  GetMulticallHandlersFunctions,\n} from '../methods/delta/getMulticallHandlers';\nimport {\n  constructIsTokenSupportedInDelta,\n  IsTokenSupportedInDeltaFunctions,\n} from '../methods/delta/isTokenSupportedInDelta';\n\nexport type SwapFetchMethods = GetBalancesFunctions &\n  GetTokensFunctions &\n  GetSpenderFunctions &\n  BuildTxFunctions &\n  GetAdaptersFunctions &\n  GetRateFunctions &\n  GetSwapTxFunctions;\n\nexport type LimitOrdersFetchMethods = GetLimitOrdersContractFunctions &\n  GetLimitOrdersFunctions &\n  BuildLimitOrderFunctions &\n  PostLimitOrderFunctions &\n  BuildLimitOrdersTxFunctions;\n\nexport type NFTOrdersFetchMethods = GetNFTOrdersContractFunctions &\n  GetNFTOrdersFunctions &\n  BuildNFTOrderFunctions &\n  PostNFTOrderFunctions &\n  BuildNFTOrdersTxFunctions;\n\nexport type DeltaFetchMethods = BuildDeltaOrderFunctions &\n  GetDeltaOrdersFunctions &\n  GetDeltaPriceFunctions &\n  GetDeltaContractFunctions &\n  GetPartnerFeeFunctions &\n  GetMulticallHandlersFunctions &\n  GetBridgeInfoFunctions &\n  IsTokenSupportedInDeltaFunctions &\n  PostDeltaOrderFunctions;\n\nexport type SimpleFetchSDK = {\n  swap: SwapFetchMethods;\n  limitOrders: LimitOrdersFetchMethods;\n  nftOrders: NFTOrdersFetchMethods;\n  delta: DeltaFetchMethods;\n  quote: QuoteFetchMethods;\n} & Required<ConstructBaseInput>;\n\nexport type QuoteFetchMethods = GetQuoteFunctions;\n\nexport type SimpleSDK = {\n  swap: SwapSDKMethods<TxHash>;\n  limitOrders: LimitOrderHandlers<TxHash>;\n  nftOrders: NFTOrderHandlers<TxHash>;\n  delta: DeltaOrderHandlers<TxHash>;\n  quote: QuoteFetchMethods;\n} & Required<ConstructBaseInput>;\n\nexport type FetcherOptions = (\n  | {\n      axios: AxiosRequirement;\n    }\n  | { fetch: typeof fetch }\n  | { fetcher: FetcherFunction }\n) &\n  ExtraFetchParams;\n\ntype SimpleOptions = ConstructBaseInput & FetcherOptions;\n\nexport type ProviderOptions = (\n  | EthersProviderDeps\n  | { web3: Web3 }\n  | { viemClient: MinViemClient }\n) & {\n  account: Address;\n};\n\nconst constructFetcher = (options: FetcherOptions): FetcherFunction => {\n  if ('axios' in options) {\n    return constructAxiosFetcher(options.axios, options);\n  }\n  if ('fetch' in options) {\n    return constructFetchFetcher(options.fetch, options);\n  }\n  return (params) => {\n    // adding apiKey to headers if it's provided\n    const headers = options?.apiKey\n      ? {\n          'X-API-KEY': options.apiKey,\n          ...params.headers,\n          ...params.requestParams?.headers,\n        }\n      : params.headers;\n\n    return options.fetcher({ ...params, headers });\n  };\n};\n\n/** @description construct SDK with methods that fetch from API and optionally with blockchain provider calling methods */\nexport function constructSimpleSDK(options: SimpleOptions): SimpleFetchSDK;\n\nexport function constructSimpleSDK(\n  options: SimpleOptions,\n  providerOptions: ProviderOptions\n): SimpleSDK;\nexport function constructSimpleSDK(\n  options: SimpleOptions,\n  providerOptions?: ProviderOptions\n): SimpleFetchSDK | SimpleSDK {\n  const fetcher = constructFetcher(options);\n\n  if (!providerOptions) {\n    const config: ConstructFetchInput = {\n      apiURL: options.apiURL,\n      chainId: options.chainId,\n      version: options.version,\n      fetcher,\n    };\n\n    // include all available functions that don't need `contractCaller`\n    const swap: SwapFetchMethods = constructPartialSDK(\n      config,\n      constructGetBalances,\n      constructGetTokens,\n      constructGetSpender,\n      constructBuildTx,\n      constructGetAdapters,\n      constructGetRate,\n      constructSwapTx\n    );\n\n    const limitOrders = constructPartialSDK(\n      config,\n      constructBuildLimitOrder,\n      constructPostLimitOrder,\n      constructGetLimitOrders,\n      constructGetLimitOrdersContract,\n      constructBuildLimitOrderTx\n    );\n\n    const nftOrders = constructPartialSDK(\n      config,\n      constructBuildNFTOrder,\n      constructPostNFTOrder,\n      constructGetNFTOrders,\n      constructGetNFTOrdersContract,\n      constructBuildNFTOrderTx\n    );\n\n    const delta = constructPartialSDK(\n      config,\n      constructBuildDeltaOrder,\n      constructPostDeltaOrder,\n      constructGetDeltaOrders,\n      constructGetDeltaPrice,\n      constructGetDeltaContract,\n      constructGetPartnerFee,\n      constructGetMulticallHandlers,\n      constructGetBridgeInfo,\n      constructIsTokenSupportedInDelta\n    );\n\n    const quote = constructPartialSDK(config, constructGetQuote);\n\n    return {\n      swap,\n      limitOrders,\n      nftOrders,\n      delta,\n      quote,\n      apiURL: options.apiURL ?? API_URL,\n      chainId: options.chainId,\n      version: options.version ?? DEFAULT_VERSION,\n    };\n  }\n\n  const contractCaller = constructSimpleContractCaller(providerOptions);\n\n  const config: SDKConfig<TxHash> = {\n    apiURL: options.apiURL,\n    version: options.version,\n    chainId: options.chainId,\n    fetcher,\n    contractCaller,\n  };\n\n  const swap: SwapSDKMethods<TxHash> = constructSwapSDK(config);\n\n  const limitOrders: LimitOrderHandlers<TxHash> =\n    constructAllLimitOrdersHandlers<TxHash>(config);\n\n  const nftOrders: NFTOrderHandlers<TxHash> =\n    constructAllNFTOrdersHandlers<TxHash>(config);\n\n  const delta: DeltaOrderHandlers<TxHash> =\n    constructAllDeltaOrdersHandlers<TxHash>(config);\n\n  const quote = constructGetQuote(config);\n\n  return {\n    swap,\n    limitOrders,\n    nftOrders,\n    delta,\n    quote,\n    apiURL: options.apiURL ?? API_URL,\n    chainId: options.chainId,\n    version: options.version ?? DEFAULT_VERSION,\n  };\n}\n\nfunction constructSimpleContractCaller(\n  providerOptions: ProviderOptions\n): ContractCallerFunctions<TxHash> {\n  if ('ethersProviderOrSigner' in providerOptions) {\n    const {\n      staticCall,\n      transactCall: _transactCall,\n      signTypedDataCall,\n    } = constructEthersV5ContractCaller(\n      providerOptions,\n      providerOptions.account\n    );\n\n    const transactCall: TransactionContractCallerFn<TxHash> = async (\n      params\n    ) => {\n      const contractTx = await _transactCall(params);\n\n      // as soon as tx is sent\n      // returning tx hash, it's up to the user to wait for tx\n      return contractTx.hash as TxHash;\n    };\n\n    return { staticCall, transactCall, signTypedDataCall };\n  }\n\n  if ('ethersV6ProviderOrSigner' in providerOptions) {\n    const {\n      staticCall,\n      transactCall: _transactCall,\n      signTypedDataCall,\n    } = constructEthersV6ContractCaller(\n      providerOptions,\n      providerOptions.account\n    );\n\n    const transactCall: TransactionContractCallerFn<TxHash> = async (\n      params\n    ) => {\n      const contractTx = await _transactCall(params);\n\n      // as soon as tx is sent\n      // returning tx hash, it's up to the user to wait for tx\n      return contractTx.hash as TxHash;\n    };\n\n    return { staticCall, transactCall, signTypedDataCall };\n  }\n\n  if ('viemClient' in providerOptions) {\n    const contractCaller = constructViemContractCaller(\n      providerOptions.viemClient,\n      providerOptions.account\n    );\n    return contractCaller;\n  }\n\n  const {\n    staticCall,\n    transactCall: _transactCall,\n    signTypedDataCall,\n  } = constructWeb3ContractCaller(\n    providerOptions.web3,\n    providerOptions.account\n  );\n\n  const transactCall: TransactionContractCallerFn<TxHash> = async (params) => {\n    const unpromiEvent = await _transactCall(params);\n\n    // as soon as tx is sent\n    // returning tx hash, it's up to the user to wait for tx\n    return new Promise<TxHash>((resolve, reject) => {\n      unpromiEvent.once('transactionHash', (hash) => resolve(hash as TxHash));\n      unpromiEvent.once('error', reject);\n    });\n  };\n\n  return { staticCall, transactCall, signTypedDataCall };\n}\n","import type Web3 from 'web3';\nimport type { ContractTransaction as EthersV5ContractTransaction } from '@ethersproject/contracts';\n\nimport { API_URL, DEFAULT_VERSION, SwapSide } from '../constants';\n\nimport { SwapSDKMethods, constructSwapSDK } from '../methods/swap';\nimport { assert } from 'ts-essentials';\nimport {\n  constructAxiosFetcher,\n  constructFetchFetcher,\n  constructEthersV5ContractCaller,\n  constructEthersV6ContractCaller,\n  constructWeb3ContractCaller,\n  isFetcherError,\n  Web3UnpromiEvent,\n  EthersProviderDeps,\n} from '../helpers';\n\nimport { constructGetRate, type RateOptions } from '../methods/swap/rates';\nimport {\n  constructBuildTx,\n  type BuildOptions,\n  type TransactionParams,\n} from '../methods/swap/transaction';\nimport type {\n  AddressOrSymbol,\n  Token,\n  FetcherFunction,\n  ParaSwapVersionUnion,\n  Address,\n  PriceString,\n  OptimalRate,\n  TxSendOverrides,\n} from '../types';\nimport { constructGetBalances, type Allowance } from '../methods/swap/balance';\nimport type { AxiosRequirement } from '../helpers/fetchers/axios';\nimport { isDataWithError } from '../helpers/misc';\nimport { constructPartialSDK } from '../sdk/partial';\nimport { constructGetTokens } from '../methods/swap/token';\nimport { constructGetSpender } from '../methods/swap/spender';\nimport { constructGetAdapters } from '../methods/swap/adapters';\nimport { ContractTransactionResponse as EthersV6ContractTransactionResponse } from 'ethers';\n\nexport type APIError = {\n  message: string;\n  status?: number;\n  data?: any;\n};\ntype Fetch = typeof fetch;\n\ntype TxResponse =\n  | Web3UnpromiEvent\n  | EthersV5ContractTransaction\n  | EthersV6ContractTransactionResponse;\n\ntype LegacyOptions = {\n  chainId?: number;\n  apiURL?: string;\n  version?: ParaSwapVersionUnion;\n  apiKey?: string;\n  web3Provider?: Web3;\n  ethersDeps?: EthersProviderDeps; // need to be a provider with signer for approve requests\n  account?: Address;\n  axios?: AxiosRequirement;\n  fetch?: Fetch;\n};\n\n/** @deprecated */\nexport class ParaSwap {\n  sdk: Partial<SwapSDKMethods<TxResponse>> = {};\n  fetcher: FetcherFunction;\n\n  chainId: number;\n  apiURL: string;\n  version: ParaSwapVersionUnion;\n  web3Provider?: Web3;\n  ethersDeps?: EthersProviderDeps; // need to be a provider with signer for approve requests\n  account?: Address;\n\n  constructor({\n    chainId = 1,\n    apiURL = API_URL,\n    version = DEFAULT_VERSION,\n    apiKey,\n    web3Provider,\n    ethersDeps,\n    account,\n    axios,\n    fetch,\n  }: LegacyOptions) {\n    this.chainId = chainId;\n    this.apiURL = apiURL;\n    this.version = version;\n    this.web3Provider = web3Provider;\n    this.ethersDeps = ethersDeps;\n    this.account = account;\n\n    const fetcher = axios\n      ? constructAxiosFetcher(axios, { apiKey })\n      : fetch\n      ? constructFetchFetcher(fetch, { apiKey })\n      : null;\n\n    assert(fetcher, 'at least one fetcher is needed');\n    this.fetcher = fetcher;\n\n    if (!web3Provider && !ethersDeps) {\n      this.sdk = constructPartialSDK(\n        { fetcher, apiURL, version, apiKey, chainId },\n        constructGetBalances,\n        constructGetTokens,\n        constructGetSpender,\n        constructBuildTx,\n        constructGetAdapters,\n        constructGetRate\n      );\n\n      return;\n    }\n\n    const contractCaller = ethersDeps\n      ? 'ethersV6ProviderOrSigner' in ethersDeps\n        ? constructEthersV6ContractCaller(ethersDeps, account)\n        : constructEthersV5ContractCaller(ethersDeps, account)\n      : web3Provider\n      ? constructWeb3ContractCaller(web3Provider, account)\n      : null;\n\n    if (contractCaller) {\n      this.sdk = constructSwapSDK<TxResponse>({\n        fetcher,\n        contractCaller,\n        apiURL,\n        version,\n        chainId,\n      });\n    }\n  }\n\n  private static handleAPIError(e: unknown): APIError {\n    // @CONSIDER if some errors should not be replaced\n    if (!isFetcherError(e)) {\n      return { message: `Unknown error: ${e}` };\n    }\n\n    if (!e.response) {\n      return { message: e.message };\n    }\n\n    const { status, data } = e.response;\n\n    return {\n      status,\n      message: isDataWithError(data) ? data.error : e.message,\n      data,\n    };\n  }\n\n  private static async extractHashFromTxResponse(\n    txResponse: TxResponse\n  ): Promise<string> {\n    if ('once' in txResponse) {\n      return new Promise<string>((resolve, reject) => {\n        txResponse.once('transactionHash', resolve);\n        txResponse.once('error', reject);\n      });\n    }\n\n    const { hash } = await txResponse;\n    return hash;\n  }\n\n  setWeb3Provider(web3Provider: Web3, account?: string): this {\n    const contractCaller = constructWeb3ContractCaller(web3Provider, account);\n    const { apiURL, chainId, fetcher } = this;\n\n    this.sdk = constructSwapSDK({\n      fetcher,\n      contractCaller,\n      apiURL,\n      version: this.version,\n      chainId,\n    });\n\n    this.web3Provider = web3Provider;\n    this.ethersDeps = undefined;\n    this.account = account;\n\n    return this;\n  }\n\n  setEthersProvider(ethersDeps: EthersProviderDeps, account?: string): this {\n    const { apiURL, chainId, fetcher } = this;\n\n    if ('ethersV6ProviderOrSigner' in ethersDeps) {\n      const contractCaller = constructEthersV6ContractCaller(\n        ethersDeps,\n        account\n      );\n      this.sdk = constructSwapSDK({\n        fetcher,\n        contractCaller,\n        apiURL,\n        version: this.version,\n        chainId,\n      });\n    } else {\n      const contractCaller = constructEthersV5ContractCaller(\n        ethersDeps,\n        account\n      );\n      this.sdk = constructSwapSDK({\n        fetcher,\n        contractCaller,\n        apiURL,\n        version: this.version,\n        chainId,\n      });\n    }\n\n    this.web3Provider = undefined;\n    this.ethersDeps = ethersDeps;\n    this.account = account;\n\n    return this;\n  }\n\n  // @CONSIDER I still think there's no need for a class Token\n  async getTokens(): Promise<Token[] | APIError> {\n    assert(this.sdk.getTokens, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getTokens();\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getAdapters() {\n    assert(this.sdk.getAdapters, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getAdapters();\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getRateByRoute(\n    route: AddressOrSymbol[],\n    amount: PriceString,\n    userAddress?: Address,\n    side: SwapSide = SwapSide.SELL,\n    options?: RateOptions,\n    srcDecimals?: number,\n    destDecimals?: number\n  ): Promise<OptimalRate | APIError> {\n    assert(this.sdk.getRateByRoute, 'sdk must be initialized with a fetcher');\n    if (route.length < 2) {\n      return { message: 'Invalid Route' };\n    }\n\n    try {\n      return await this.sdk.getRateByRoute({\n        route,\n        amount,\n        userAddress,\n        side,\n        options,\n        srcDecimals,\n        destDecimals,\n      });\n    } catch (e) {\n      // @TODO this overrides any non FetchError,\n      // including Error('Invalid DEX list')\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getRate(\n    srcToken: AddressOrSymbol,\n    destToken: AddressOrSymbol,\n    amount: PriceString,\n    userAddress?: Address,\n    side: SwapSide = SwapSide.SELL,\n    options: RateOptions = {},\n    srcDecimals?: number,\n    destDecimals?: number\n  ): Promise<OptimalRate | APIError> {\n    assert(this.sdk.getRate, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getRate({\n        srcToken,\n        destToken,\n        amount,\n        userAddress,\n        side,\n        options,\n        srcDecimals,\n        destDecimals,\n      });\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async buildTx(\n    srcToken: Address,\n    destToken: Address,\n    srcAmount: PriceString,\n    destAmount: PriceString,\n    priceRoute: OptimalRate,\n    userAddress: Address,\n    partner?: string,\n    partnerAddress?: string,\n    partnerFeeBps?: number,\n    receiver?: Address,\n    options: BuildOptions = {},\n    srcDecimals?: number,\n    destDecimals?: number,\n    permit?: string,\n    deadline?: string\n  ): Promise<TransactionParams | APIError> {\n    assert(this.sdk.buildTx, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.buildTx(\n        {\n          srcToken,\n          destToken,\n          srcAmount,\n          destAmount,\n          priceRoute,\n          userAddress,\n          partner,\n          partnerAddress,\n          partnerFeeBps,\n          receiver,\n          srcDecimals,\n          destDecimals,\n          permit,\n          deadline,\n        },\n        options\n      );\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getTokenTransferProxy(_provider?: any): Promise<Address | APIError> {\n    assert(this.sdk.getSpender, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getSpender();\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getAllowances(\n    userAddress: Address,\n    tokenAddresses: Address[]\n  ): Promise<Allowance[] | APIError> {\n    assert(this.sdk.getAllowances, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getAllowances(userAddress, tokenAddresses);\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getAllowance(\n    userAddress: Address,\n    tokenAddress: Address\n  ): Promise<Allowance | APIError> {\n    assert(this.sdk.getAllowance, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getAllowance(userAddress, tokenAddress);\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async approveTokenBulk(\n    amount: PriceString,\n    userAddress: Address,\n    tokenAddresses: Address[],\n    /** @deprecated */\n    _provider?: any // not used, can't detect if Ethers or Web3 provider without importing them\n  ): Promise<string[] | APIError> {\n    // @TODO expand sendOptions\n    assert(\n      this.sdk.approveTokenBulk,\n      'sdk must be initialized with a provider'\n    );\n    try {\n      // @TODO allow to pass Web3 specific sendOptions ({from: userAddress})\n      const txResponses = await this.sdk.approveTokenBulk(\n        amount,\n        tokenAddresses\n      );\n\n      return await Promise.all(\n        txResponses.map(ParaSwap.extractHashFromTxResponse)\n      );\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async approveToken(\n    amount: PriceString,\n    userAddress: Address,\n    tokenAddress: Address,\n    /** @deprecated */\n    _provider?: any, // not used, can't detect if Ethers or Web3 provider without importing them\n    sendOptions?: Omit<TxSendOverrides, 'from'>\n  ): Promise<string | APIError> {\n    // @TODO expand sendOptions\n    assert(this.sdk.approveToken, 'sdk must be initialized with a provider');\n    try {\n      // @TODO allow to pass Web3 specific sendOptions ({from: userAddress})\n      const txResponse = await this.sdk.approveToken(\n        amount,\n        tokenAddress,\n        sendOptions\n      );\n\n      return await ParaSwap.extractHashFromTxResponse(txResponse);\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getMarketNames(): Promise<string[] | APIError> {\n    assert(this.sdk.getAdapters, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getAdapters();\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getBalance(\n    userAddress: Address,\n    token: AddressOrSymbol\n  ): Promise<Token | APIError> {\n    assert(this.sdk.getBalance, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getBalance(userAddress, token);\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n\n  async getBalances(userAddress: Address): Promise<Token[] | APIError> {\n    assert(this.sdk.getBalances, 'sdk must be initialized with a fetcher');\n    try {\n      return await this.sdk.getBalances(userAddress);\n    } catch (e) {\n      return ParaSwap.handleAPIError(e);\n    }\n  }\n}\n"],"names":["API_URL","DEFAULT_VERSION","objectToFilledEntries","object","Object","entries","filter","_ref","value","undefined","map","_ref2","key","String","constructSearchString","queryOptions","queryEntries","queryString","URLSearchParams","toString","isFetcherError","error","FetcherError","_Error","_ref3","_this","code","request","response","isAxiosError","message","call","status","Error","captureStackTrace","name","constructor","_assertThisInitialized","data","isDataWithError","_inheritsLoose","_wrapNativeSuper","isObject","obj","isFilledArray","array","length","getRandomInt","Math","floor","random","Number","MAX_SAFE_INTEGER","runOnceAndCache","func","result","_result","apply","arguments","constructGetSpender","_ref$apiURL","apiURL","_ref$version","version","chainId","fetcher","search","network","fetchURL","_getContracts","_asyncToGenerator","_regeneratorRuntime","mark","_callee","requestParams","wrap","_callee$","_context","prev","next","url","method","sent","abrupt","stop","_x","getContracts","getSpender","_callee2","_yield$getContracts","TokenTransferProxy","_callee2$","_context2","_x2","getAugustusSwapper","_ref4","_callee3","_yield$getContracts2","AugustusSwapper","_callee3$","_context3","_x3","getAugustusRFQ","_ref5","_callee4","_yield$getContracts3","AugustusRFQ","_callee4$","_context4","_x4","MinERC20Abi","constant","inputs","type","outputs","payable","stateMutability","approveTokenMethodFactory","contractCaller","amount","tokenAddress","overrides","spender","res","transactCall","address","abi","contractMethod","args","constructApproveToken","options","_constructGetSpender","approveToken","approveTokenBulk","tokenAddresses","Promise","all","constructToken","tokenProps","_tokenProps$tokenType","tokenType","_tokenProps$mainConne","mainConnector","_tokenProps$connector","connectors","connectorsInput","_tokenProps$network","rest","_objectWithoutPropertiesLoose","_excluded","_extends","isAllowance","arg","NOT_FOUND_RESPONSE","constructGetBalances","tokensUrl","getBalances","userAddress","tokens","getBalance","tokenAddressOrSymbol","token","_x5","getAllowances","tokenAddressesLowercaseSet","balances","allowances","Set","toLowerCase","has","_ref5$allowance","allowance","_x6","_x7","_x8","getAllowance","_ref6","balanceOrNotFound","_balanceOrNotFound$al","_x9","_x10","_x11","constructGetAdapters","getAdapters","query","normalizeRateOptions","_ref$options","restInput","excludePricingMethods","excludeContractMethods","includeContractMethods","partner","includeDEXS","excludeDEXS","excludePools","restOptions","_excluded2","_map","join","_includeDEXS","_excludeDEXS","_excludePools","_excludePricingMethods","_excludeContractMethods","_includeContractMethods","transformed","PricingMethod","INVALID_ROUTE","constructGetRate","pricesUrl","getRate","srcToken","destToken","parsedOptions","priceRoute","getRateByRoute","route","_route","constructSwapTx","getSwapTxData","constructGetTokens","getTokens","ZERO_ADDRESS","baseFetchUrlGetterFactory","orderKind","constructBaseFetchUrlGetter","urlGetter","orderURLpart","sanitizeOrderData","nonceAndMeta","expiry","makerAsset","takerAsset","maker","taker","makerAmount","takerAmount","OrderNFT","buildOrderData","verifyingContract","_ref$nonce","nonce","_makerAssetAddress","_takerAssetAddress","makerAssetId","_ref$takerAssetId","takerAssetId","makerAssetType","takerAssetType","AugustusAddress","_ref$taker","takerInNonce","BigInt","assetAddressToUint","orderNFT","types","domain","assetAddress","assetType","AssetType","ERC20","ERC1155","ERC721","_makerAsset","_takerAsset","startsWith","constructBuildTx","transactionsURL","buildTx","params","_params$takeSurplus","side","AmountMismatchError","sanitizedParams","takeSurplus","fetchParams","builtTx","SwapSide","SELL","assert","areAmountsCorrect","queryParams","orders","order","sanitizedOrderData","sanitizeNFTOrderData","sanitizeLimitOrderData","sanitizedOrder","signature","permitMakerAsset","positiveSlippageToUser","slippage","BUY","destAmount","srcAmount","inputAmount","priceRouteAmount","Order","contractTaker","AppVersion","constructBuildLimitOrder","buildLimitOrder","buildLimitOrderParams","_options$version","constructSignLimitOrder","signLimitOrder","typedData","typedDataOnly","signTypedDataCall","MinAugustusRFQAbi","internalType","constructCancelLimitOrder","cancelLimitOrder","orderHash","cancelLimitOrderBulk","orderHashes","splitSignature","slice","bytes","Uint8Array","i","parseInt","r","Array","from","b","padStart","s","v","sBytes","yParityAndS","compactSignature","compact","encodeEIP_2612PermitFunctionInput","owner","deadline","permitSignature","_splitSignature","encodedOwner","encodeAddress","encodedSpender","encodedValue","encodeUint256","encodedDeadline","encodedV","encodeUint8","encodedR","encodeBytes32","encodedS","val","encodeDAIlikePermitFunctionInput","holder","_splitSignature2","encodedHolder","encodedNonce","encodedExpiry","encodeBool","strippedAddress","replace","bn","strippedValue","components","constructFillOrderDirectly","fillOrderDirectly","takerPermit","_res","permitTakerAsset","encodedPermitParams","isDaiPermit","constructGetLimitOrders","getBaseFetchURLByEntityType","getLimitOrders","userParams","baseFetchURL","userURL","offset","limit","hideSmallBalances","orderBy","getRequiredBalance","getLimitOrderByHash","constructPostLimitOrder","getBaseFetchURLByOrderType","postTypedOrder","limitOrderWithSignatureAndPermit","_yield$fetcher","newOrder","postLimitOrder","postP2POrder","constructApproveTokenForLimitOrder","approveMakerTokenForLimitOrder","_constructApproveToke","approveTakerTokenForLimitOrder","approveTakerTokenForFillingP2POrderDirectly","constructGetLimitOrdersContract","getTokenTransferProxy","getLimitOrdersContract","constructBuildLimitOrderTx","_constructBuildTx","buildSwapTx","_constructGetRate","getSwapAndLimitOrderRate","getLimitOrdersRate","_ref2$options","_options","_checkAndParseOrders","totalTakerAmount","takerAmountString","rateInput","optimalRate","checkAndParseOrders","ContractMethod","simpleBuy","buildLimitOrderTx","_checkAndParseOrders2","fillParams","buildSwapAndLimitOrderTx","_checkAndParseOrders3","destDecimals","_orders$reduce","reduce","accum","takerAssetsSet","add","makerAssetsSet","size","_orders$","constructBuildNFTOrder","buildNFTOrder","buildNFTOrderParams","constructSignNFTOrder","signNFTOrder","constructCancelNFTOrder","_constructCancelLimit","cancelNFTOrder","cancelNFTOrderBulk","constructGetNFTOrders","getNFTOrders","getNFTOrderByHash","constructPostNFTOrder","NFTOrderWithSignatureAndPermit","postNFTLimitOrder","postNFTP2POrder","constructGetNFTOrdersContract","getNFTOrdersContract","MinNFTAbi","constructApproveTokenForNFTOrder","approveERC20ForNFTOrder","_constructGetNFTOrder","approveNFTForNFTOrder","constructBuildNFTOrderTx","getSwapAndNFTOrderRate","getNFTOrdersRate","buildNFTOrderTx","buildSwapAndNFTOrderTx","uintToAssetAddress","assetUint","constructFetcher","axios","extra","headers","allParams","_yield$axios$request","apiKey","t0","fetch","body","POSTheaders","apiHeaders","JSON","stringify","json","ok","statusText","fromEntries","config","constructEthersV5ContractCaller","account","providerOrSigner","ethersProviderOrSigner","Contract","EthersContract","staticCall","_contract$callStatic","contract","block","gas","restOverrides","normalizedOverrides","callOverrides","assertEthersContractHasMethodsV5","blockTag","gasLimit","callStatic","concat","signer","txOverrides","txResponse","isEthersProviderWithSigner","isEthersSigner","getSigner","isTypedDataCapableSigner","_signTypedData","isEthersProvider","_isProvider","_isSigner","ethersContractHasMethodsV5","_len","methods","_key","every","_len2","_key2","constructContractCaller","ethersV6ProviderOrSigner","EthersV6Contract","callableContractFunction","getFunction","send","signTypedData","baseTypeRegex","findPrimaryType","candidates","keys","candidatesSet","forEach","candidate","typedDataFields","_type$match","baseType","match","_Array$from","primaryType","web3","_contract$methods","currentProvider","eth","assertWeb3ContractHasMethods","_contract$methods2","_from","preparedCall","promiEvent","unpromiEvent","on","bind","once","_typedData","EIP712Domain","web3ContractHasMethods","viemClient","blockNumber","readContract","functionName","_overrides$gas","_overrides$value","viemTxParams","gasPriceParams","txHash","writeContract","txParamsToViemTxParams","to","maxFeePerGas","maxPriorityFeePerGas","gasPrice","argsToViemArgs","viemDomain","salt","txParams","asNumber","isNaN","constructGetDeltaContract","getDeltaContract","ParaswapDelta","constructGetPartnerFee","partnerFeeUrl","cachedPartnerFee","Map","getPartnerFee","get","set","composeDeltaOrderPermit","permit","encodePermit2Transfer","uintTo32ByteArrayBuffer","buffer","nonceHex","hexToByteArray","hexString","byteArray","nonceBuffer","signatureBuffer","packedBuffer","SWAP_ORDER_EIP_712_TYPES","Bridge","produceDeltaOrderTypedData","orderInput","paraswapDeltaAddress","DELTA_DEFAULT_EXPIRY","buildDeltaSignableOrderData","_ref2$beneficiary","beneficiary","expectedDestAmount","_ref2$deadline","Date","now","_ref2$nonce","_ref2$permit","partnerAddress","partnerFeeBps","_ref2$partnerTakesSur","partnerTakesSurplus","bridge","partnerAndFee","producePartnerAndFee","toFixed","DEFAULT_BRIDGE","maxRelayerFee","destinationChainId","outputToken","multiCallHandler","constructBuildDeltaOrder","_constructGetDeltaCon","_constructGetPartnerF","buildDeltaOrder","_options$partnerFeeBp","_options$nonce","feeOrTakeSurplusSupplied","_partnerAddress","_partnerFeeBps","_partnerTakesSurplus","partnerFeeResponse","input","deltaPrice","partnerFee","constructPostDeltaOrder","postOrderUrl","postDeltaOrder","postData","deltaOrderToPost","sanitizeDeltaOrderData","constructSignDeltaOrder","signDeltaOrder","constructGetDeltaPrice","getDeltaPrice","_getDeltaPrice","price","constructGetDeltaOrders","baseUrl","getDeltaOrderById","orderId","getDeltaOrderByHash","getDeltaOrders","page","constructApproveTokenForDelta","getParaswapDelta","deltaContract","approveTokenForDelta","constructGetBridgeInfo","bridgeInfoUrl","getBridgeInfo","supportedTokens","constructGetMulticallHandlers","multicallHandlersUrl","_getMulticallHandlers","getMulticallHandlers","constructIsTokenSupportedInDelta","isTokenSupportedInDelta","supported","constructGetQuote","getQuote","_getQuote","constructPartialSDK","_config$apiURL","_config$version","funcs","sdkFuncs","sdkSlice","assign","sdk","constructSwapSDK","constructApproveTokenWithTxResponse","constructSubmitLimitOrder","_constructBuildLimitO","_constructSignLimitOr","_constructPostLimitOr","prepareLimitOrder","orderData","orderWithSignature","submitLimitOrder","submitP2POrder","constructAllLimitOrdersHandlers","limitOrdersGetters","limitOrdersContractGetter","limitOrdersSubmit","limitOrdersBuild","limitOrdersSign","limitOrdersPost","limitOrdersCancel","limitOrdersApproveToken","limitOrdersFillOrderDirectly","limitOrdersBuildTx","constructSubmitDeltaOrder","_constructBuildDeltaO","_constructSignDeltaOr","_constructPostDeltaOr","submitDeltaOrder","orderParams","partiallyFillable","constructAllDeltaOrdersHandlers","deltaOrdersGetters","deltaOrdersContractGetter","bridgeInfo","multicallHandlers","deltaOrdersSubmit","deltaOrdersBuild","deltaOrdersSign","deltaOrdersPost","constructSubmitNFTOrder","_constructBuildNFTOrd","_constructSignNFTOrde","_constructPostNFTOrde","prepareNFTOrder","submitNFTOrder","constructAllNFTOrdersHandlers","NFTOrdersGetters","NFTOrdersContractGetter","NFTOrdersSubmit","NFTOrdersBuild","NFTOrdersSign","NFTOrdersPost","NFTOrdersCancel","NFTOrdersApproveToken","NFTOrdersBuildTx","constructFullSDK","swap","limitOrders","nftOrders","delta","quote","constructAxiosFetcher","constructFetchFetcher","_params$requestParams","constructSimpleSDK","providerOptions","_options$apiURL2","_options$version2","_options$apiURL","constructSimpleContractCaller","_constructEthersV5Con","_transactCall","contractTx","hash","_constructEthersV6Con","constructEthersV6ContractCaller","constructViemContractCaller","_constructWeb3Contrac","constructWeb3ContractCaller","resolve","reject","ParaSwap","_ref$chainId","web3Provider","ethersDeps","handleAPIError","e","_e$response","extractHashFromTxResponse","_extractHashFromTxResponse","_yield$txResponse","_proto","prototype","setWeb3Provider","setEthersProvider","_getTokens","_getAdapters","_getRateByRoute","srcDecimals","_getRate","_callee5","_callee5$","_context5","_x12","_x13","_x14","_x15","_x16","_buildTx","_callee6","receiver","_callee6$","_context6","_x17","_x18","_x19","_x20","_x21","_x22","_x23","_x24","_x25","_x26","_x27","_x28","_x29","_x30","_x31","_getTokenTransferProxy","_callee7","_provider","_callee7$","_context7","_x32","_getAllowances","_callee8","_callee8$","_context8","_x33","_x34","_getAllowance","_callee9","_callee9$","_context9","_x35","_x36","_approveTokenBulk","_callee10","txResponses","_callee10$","_context10","_x37","_x38","_x39","_x40","_approveToken","_callee11","sendOptions","_callee11$","_context11","_x41","_x42","_x43","_x44","_x45","getMarketNames","_getMarketNames","_callee12","_callee12$","_context12","_getBalance","_callee13","_callee13$","_context13","_x46","_x47","_getBalances","_callee14","_callee14$","_context14","_x48"],"mappings":"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"}